{"version":3,"file":"node_modules_dontcode_core_index_js.js","mappings":"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BAAO,CAAC,kCAAwB;AAC/C,kBAAkB,mBAAO,CAAC,qCAA2B;AACrD,oBAAoB,mBAAO,CAAC,8CAAoC;AAChE,aAAa,mBAAO,CAAC,+BAAqB;AAC1C,aAAa,mBAAO,CAAC,sCAA4B;AACjD,uBAAuB,iEAA0C;AACjE,0BAA0B,mBAAO,CAAC,mDAAyC;AAC3E,sBAAsB,mBAAO,CAAC,+CAAqC;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,0BAA0B;AAC9C;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;ACpHa;AACb,eAAe,mBAAO,CAAC,kCAAwB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjBA,YAAY,mBAAO,CAAC,8BAAoB;AACxC,aAAa,mBAAO,CAAC,+BAAqB;;AAE1C;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;;;;;;;;;;AC7BA,YAAY,mBAAO,CAAC,8BAAoB;AACxC,aAAa,mBAAO,CAAC,+BAAqB;;AAE1C;AACA;;AAEA;AACA;AACA;AACA,CAAC;;;;;;;;;;;ACTD,YAAY,mBAAO,CAAC,8BAAoB;AACxC,aAAa,mBAAO,CAAC,+BAAqB;;AAE1C;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;ACVD,wBAAwB,mBAAO,CAAC,6CAAmC;;AAEnE;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTa;AACb,iBAAiB,mBAAO,CAAC,qCAA2B;AACpD,2BAA2B,mBAAO,CAAC,+CAAqC;AACxE,sBAAsB,mBAAO,CAAC,0CAAgC;AAC9D,kBAAkB,mBAAO,CAAC,oCAA0B;;AAEpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB,KAAK;AACL;AACA;;;;;;;;;;;AClBA,qBAAqB,wEAAgD;AACrE,aAAa,mBAAO,CAAC,yCAA+B;AACpD,sBAAsB,mBAAO,CAAC,0CAAgC;;AAE9D;;AAEA;AACA;AACA;AACA,4CAA4C,gCAAgC;AAC5E;AACA;;;;;;;;;;;ACXA,aAAa,mBAAO,CAAC,+BAAqB;AAC1C,UAAU,mBAAO,CAAC,4BAAkB;;AAEpC;;AAEA;AACA;AACA;;;;;;;;;;;ACPA,aAAa,mBAAO,CAAC,+BAAqB;AAC1C,2BAA2B,mBAAO,CAAC,+CAAqC;;AAExE;AACA,6DAA6D;;AAE7D;;;;;;;;;;;ACNA,cAAc,mBAAO,CAAC,gCAAsB;AAC5C,YAAY,mBAAO,CAAC,qCAA2B;;AAE/C;AACA,qEAAqE;AACrE,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;ACXD,eAAe,mBAAO,CAAC,kCAAwB;AAC/C,mBAAmB,mBAAO,CAAC,sCAA4B;AACvD,wBAAwB,mBAAO,CAAC,6CAAmC;AACnE,sBAAsB,mBAAO,CAAC,0CAAgC;;AAE9D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACbA,kBAAkB,mBAAO,CAAC,8CAAoC;AAC9D,0BAA0B,mBAAO,CAAC,+CAAqC;AACvE,eAAe,mBAAO,CAAC,kCAAwB;AAC/C,6BAA6B,mBAAO,CAAC,iDAAuC;;AAE5E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnCA;AACA,iBAAiB,mBAAO,CAAC,0CAAgC;AACzD,YAAY,mBAAO,CAAC,8BAAoB;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;ACZD,aAAa,mBAAO,CAAC,+BAAqB;AAC1C,YAAY,mBAAO,CAAC,uCAA6B;AACjD,WAAW,mBAAO,CAAC,6CAAoC;AACvD,iBAAiB,mBAAO,CAAC,oCAA0B;AACnD,aAAa,mBAAO,CAAC,yCAA+B;AACpD,YAAY,mBAAO,CAAC,8BAAoB;AACxC,WAAW,mBAAO,CAAC,6BAAmB;AACtC,iBAAiB,mBAAO,CAAC,oCAA0B;AACnD,oBAAoB,mBAAO,CAAC,gDAAsC;AAClE,8BAA8B,mBAAO,CAAC,kDAAwC;AAC9E,aAAa,mBAAO,CAAC,sCAA4B;AACjD,cAAc,mBAAO,CAAC,uCAA6B;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;ACnHA,0BAA0B,mBAAO,CAAC,+CAAqC;;AAEvE;AACA;;AAEA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;;;;;;;;;;;ACXA;AACA,oBA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AA0B,mBAAO,CAAC,sCAA6B;AAC/D,+BAA+B,mBAAO,CAAC,mDAAyC;AAChF,kCAAkC,mBAAO,CAAC,sDAA4C;AACtF,iCAAiC,mBAAO,CAAC,+CAAqC;;AAE9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR,MAAM;AACN,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,eAAe;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ,qBAAqB,aAAa;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;A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eAAe,mBAAO,CAAC,kCAAwB;AAC/C,6BAA6B,mBAAO,CAAC,iDAAuC;AAC5E,yBAAyB,mBAAO,CAAC,6CAAmC;AACpE,gBAAgB,mBAAO,CAAC,mCAAyB;AACjD,sBAAsB,mBAAO,CAAC,yCAA+B;AAC7D,iBAAiB,mBAAO,CAAC,6CAAmC;AAC5D,sBAAsB,mBAAO,CAAC,0CAAgC;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,oBAAoB;AAC1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;ACxIY;AACb,QAAQ,mBAAO,CAAC,8BAAqB;AACrC,kBAAkB,mBAAO,CAAC,qDAA2C;AACrE,+BAA+B,mFAA4D;AAC3F,eAAe,mBAAO,CAAC,kCAAwB;AAC/C,eAAe,mBAAO,CAAC,kCAAwB;AAC/C,iBAAiB,mBAAO,CAAC,qCAA2B;AACpD,6BAA6B,mBAAO,CAAC,iDAAuC;AAC5E,2BAA2B,mBAAO,CAAC,+CAAsC;AACzE,cAAc,mBAAO,CAAC,gCAAsB;;AAE5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,IAAI,sFAAsF;AAC1F;AACA;AACA;AACA;A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","sources":["./node_modules/rxjs/src/internal/ReplaySubject.ts","./node_modules/rxjs/src/internal/Scheduler.ts","./node_modules/rxjs/src/internal/Subject.ts","./node_modules/rxjs/src/internal/firstValueFrom.ts","./node_modules/rxjs/src/internal/observable/empty.ts","./node_modules/rxjs/src/internal/observable/throwError.ts","./node_modules/rxjs/src/internal/observable/timer.ts","./node_modules/rxjs/src/internal/operators/filter.ts","./node_modules/rxjs/src/internal/operators/take.ts","./node_modules/rxjs/src/internal/scheduler/Action.ts","./node_modules/rxjs/src/internal/scheduler/AsyncAction.ts","./node_modules/rxjs/src/internal/scheduler/AsyncScheduler.ts","./node_modules/rxjs/src/internal/scheduler/async.ts","./node_modules/rxjs/src/internal/scheduler/dateTimestampProvider.ts","./node_modules/rxjs/src/internal/scheduler/intervalProvider.ts","./node_modules/rxjs/src/internal/util/EmptyError.ts","./node_modules/rxjs/src/internal/util/ObjectUnsubscribedError.ts","./node_modules/rxjs/src/internal/util/isDate.ts","./node_modules/core-js/internals/a-callable.js","./node_modules/core-js/internals/a-constructor.js","./node_modules/core-js/internals/a-possible-prototype.js","./node_modules/core-js/internals/add-to-unscopables.js","./node_modules/core-js/internals/advance-string-index.js","./node_modules/core-js/internals/an-instance.js","./node_modules/core-js/internals/an-object.js","./node_modules/core-js/internals/array-includes.js","./node_modules/core-js/internals/array-slice.js","./node_modules/core-js/internals/check-correctness-of-iteration.js","./node_modules/core-js/internals/classof-raw.js","./node_modules/core-js/internals/classof.js","./node_modules/core-js/internals/copy-constructor-properties.js","./node_modules/core-js/internals/correct-is-regexp-logic.js","./node_modules/core-js/internals/correct-prototype-getter.js","./node_modules/core-js/internals/create-iter-result-object.js","./node_modules/core-js/internals/create-non-enumerable-property.js","./node_modules/core-js/internals/create-property-descriptor.js","./node_modules/core-js/internals/define-built-in.js","./node_modules/core-js/internals/define-global-property.js","./node_modules/core-js/internals/descriptors.js","./node_modules/core-js/internals/document-all.js","./node_modules/core-js/internals/document-create-element.js","./node_modules/core-js/internals/dom-iterables.js","./node_modules/core-js/internals/dom-token-list-prototype.js","./node_modules/core-js/internals/engine-is-browser.js","./node_modules/core-js/internals/engine-is-deno.js","./node_modules/core-js/internals/engine-is-ios-pebble.js","./node_modules/core-js/internals/engine-is-ios.js","./node_modules/core-js/internals/engine-is-node.js","./node_modules/core-js/internals/engine-is-webos-webkit.js","./node_modules/core-js/internals/engine-user-agent.js","./node_modules/core-js/internals/engine-v8-version.js","./node_modules/core-js/internals/enum-bug-keys.js","./node_modules/core-js/internals/export.js","./node_modules/core-js/internals/fails.js","./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","./node_modules/core-js/internals/function-apply.js","./node_modules/core-js/internals/function-bind-context.js","./node_modules/core-js/internals/function-bind-native.js","./node_modules/core-js/internals/function-call.js","./node_modules/core-js/internals/function-name.js","./node_modules/core-js/internals/function-uncurry-this-clause.js","./node_modules/core-js/internals/function-uncurry-this.js","./node_modules/core-js/internals/get-built-in.js","./node_modules/core-js/internals/get-iterator-method.js","./node_modules/core-js/internals/get-iterator.js","./node_modules/core-js/internals/get-method.js","./node_modules/core-js/internals/get-substitution.js","./node_modules/core-js/internals/global.js","./node_modules/core-js/internals/has-own-property.js","./node_modules/core-js/internals/hidden-keys.js","./node_modules/core-js/internals/host-report-errors.js","./node_modules/core-js/internals/html.js","./node_modules/core-js/internals/ie8-dom-define.js","./node_modules/core-js/internals/indexed-object.js","./node_modules/core-js/internals/inspect-source.js","./node_modules/core-js/internals/internal-state.js","./node_modules/core-js/internals/is-array-iterator-method.js","./node_modules/core-js/internals/is-callable.js","./node_modules/core-js/internals/is-constructor.js","./node_modules/core-js/internals/is-forced.js","./node_modules/core-js/internals/is-null-or-undefined.js","./node_modules/core-js/internals/is-object.js","./node_modules/core-js/internals/is-pure.js","./node_modules/core-js/internals/is-regexp.js","./node_modules/core-js/internals/is-symbol.js","./node_modules/core-js/internals/iterate.js","./node_modules/core-js/internals/iterator-close.js","./node_modules/core-js/internals/iterator-create-constructor.js","./node_modules/core-js/internals/iterator-define.js","./node_modules/core-js/internals/iterators-core.js","./node_modules/core-js/internals/iterators.js","./node_modules/core-js/internals/length-of-array-like.js","./node_modules/core-js/internals/make-built-in.js","./node_modules/core-js/internals/math-trunc.js","./node_modules/core-js/internals/microtask.js","./node_modules/core-js/internals/new-promise-capability.js","./node_modules/core-js/internals/not-a-regexp.js","./node_modules/core-js/internals/object-create.js","./node_modules/core-js/internals/object-define-properties.js","./node_modules/core-js/internals/object-define-property.js","./node_modules/core-js/internals/object-get-own-property-descriptor.js","./node_modules/core-js/internals/object-get-own-property-names.js","./node_modules/core-js/internals/object-get-own-property-symbols.js","./node_modules/core-js/internals/object-get-prototype-of.js","./node_modules/core-js/internals/object-is-prototype-of.js","./node_modules/core-js/internals/object-keys-internal.js","./node_modules/core-js/internals/object-keys.js","./node_modules/core-js/internals/object-property-is-enumerable.js","./node_modules/core-js/internals/object-set-prototype-of.js","./node_modules/core-js/internals/ordinary-to-primitive.js","./node_modules/core-js/internals/own-keys.js","./node_modules/core-js/internals/perform.js","./node_modules/core-js/internals/promise-constructor-detection.js","./node_modules/core-js/internals/promise-native-constructor.js","./node_modules/core-js/internals/promise-resolve.js","./node_modules/core-js/internals/promise-statics-incorrect-iteration.js","./node_modules/core-js/internals/queue.js","./node_modules/core-js/internals/regexp-exec-abstract.js","./node_modules/core-js/internals/regexp-exec.js","./node_modules/core-js/internals/regexp-flags.js","./node_modules/core-js/internals/regexp-sticky-helpers.js","./node_modules/core-js/internals/regexp-unsupported-dot-all.js","./node_modules/core-js/internals/regexp-unsupported-ncg.js","./node_modules/core-js/internals/require-object-coercible.js","./node_modules/core-js/internals/set-species.js","./node_modules/core-js/internals/set-to-string-tag.js","./node_modules/core-js/internals/shared-key.js","./node_modules/core-js/internals/shared-store.js","./node_modules/core-js/internals/shared.js","./node_modules/core-js/internals/species-constructor.js","./node_modules/core-js/internals/string-multibyte.js","./node_modules/core-js/internals/symbol-constructor-detection.js","./node_modules/core-js/internals/task.js","./node_modules/core-js/internals/to-absolute-index.js","./node_modules/core-js/internals/to-indexed-object.js","./node_modules/core-js/internals/to-integer-or-infinity.js","./node_modules/core-js/internals/to-length.js","./node_modules/core-js/internals/to-object.js","./node_modules/core-js/internals/to-primitive.js","./node_modules/core-js/internals/to-property-key.js","./node_modules/core-js/internals/to-string-tag-support.js","./node_modules/core-js/internals/to-string.js","./node_modules/core-js/internals/try-to-string.js","./node_modules/core-js/internals/uid.js","./node_modules/core-js/internals/use-symbol-as-uid.js","./node_modules/core-js/internals/v8-prototype-define-bug.js","./node_modules/core-js/internals/validate-arguments-length.js","./node_modules/core-js/internals/weak-map-basic-detection.js","./node_modules/core-js/internals/well-known-symbol.js","./node_modules/core-js/modules/es.array.includes.js","./node_modules/core-js/modules/es.array.iterator.js","./node_modules/core-js/modules/es.promise.all.js","./node_modules/core-js/modules/es.promise.catch.js","./node_modules/core-js/modules/es.promise.constructor.js","./node_modules/core-js/modules/es.promise.js","./node_modules/core-js/modules/es.promise.race.js","./node_modules/core-js/modules/es.promise.reject.js","./node_modules/core-js/modules/es.promise.resolve.js","./node_modules/core-js/modules/es.regexp.exec.js","./node_modules/core-js/modules/es.string.ends-with.js","./node_modules/core-js/modules/es.string.includes.js","./node_modules/core-js/modules/es.string.replace.js","./node_modules/core-js/modules/es.string.starts-with.js","./node_modules/core-js/modules/es.symbol.description.js","./node_modules/core-js/modules/web.dom-collections.iterator.js","./packages/core/src/lib/model/dont-code-schema-item.ts","./packages/core/src/lib/model/dont-code-model.ts","./packages/core/src/lib/model/dont-code-schema.ts","./packages/core/src/lib/model/dont-code-schema-manager.ts","./packages/core/src/lib/plugin/dont-code-plugin-manager.ts","./packages/core/src/lib/plugin/preview/dont-code-preview-manager.ts","./packages/core/src/lib/globals.ts","./packages/core/src/lib/store/dont-code-store-manager.ts","./packages/core/src/lib/change/change.ts","./packages/core/src/lib/action/action.ts","./packages/core/src/lib/model/dont-code-model-manager.ts","./packages/core/src/lib/change/dont-code-change-manager.ts","./packages/core/src/lib/dontcode.ts","./packages/core/src/lib/message/message.ts","./packages/core/src/lib/model/money-amount.ts","./packages/core/src/lib/plugin/action-handler.ts","./packages/core/src/lib/store/store-provider-helper.ts","./packages/core/src/lib/store/dont-code-store-provider.ts","./packages/core/src/lib/test/dont-code-test-manager.ts","./packages/core/src/lib/project/dont-code-project.ts","./node_modules/jsonpath-plus/dist/index-browser-esm.js"],"sourcesContent":["import { Subject } from './Subject';\nimport { TimestampProvider } from './types';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { dateTimestampProvider } from './scheduler/dateTimestampProvider';\n\n/**\n * A variant of {@link Subject} that \"replays\" old values to new subscribers by emitting them when they first subscribe.\n *\n * `ReplaySubject` has an internal buffer that will store a specified number of values that it has observed. Like `Subject`,\n * `ReplaySubject` \"observes\" values by having them passed to its `next` method. When it observes a value, it will store that\n * value for a time determined by the configuration of the `ReplaySubject`, as passed to its constructor.\n *\n * When a new subscriber subscribes to the `ReplaySubject` instance, it will synchronously emit all values in its buffer in\n * a First-In-First-Out (FIFO) manner. The `ReplaySubject` will also complete, if it has observed completion; and it will\n * error if it has observed an error.\n *\n * There are two main configuration items to be concerned with:\n *\n * 1. `bufferSize` - This will determine how many items are stored in the buffer, defaults to infinite.\n * 2. `windowTime` - The amount of time to hold a value in the buffer before removing it from the buffer.\n *\n * Both configurations may exist simultaneously. So if you would like to buffer a maximum of 3 values, as long as the values\n * are less than 2 seconds old, you could do so with a `new ReplaySubject(3, 2000)`.\n *\n * ### Differences with BehaviorSubject\n *\n * `BehaviorSubject` is similar to `new ReplaySubject(1)`, with a couple of exceptions:\n *\n * 1. `BehaviorSubject` comes \"primed\" with a single value upon construction.\n * 2. `ReplaySubject` will replay values, even after observing an error, where `BehaviorSubject` will not.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n * @see {@link shareReplay}\n */\nexport class ReplaySubject<T> extends Subject<T> {\n  private _buffer: (T | number)[] = [];\n  private _infiniteTimeWindow = true;\n\n  /**\n   * @param bufferSize The size of the buffer to replay on subscription\n   * @param windowTime The amount of time the buffered items will stay buffered\n   * @param timestampProvider An object with a `now()` method that provides the current timestamp. This is used to\n   * calculate the amount of time something has been buffered.\n   */\n  constructor(\n    private _bufferSize = Infinity,\n    private _windowTime = Infinity,\n    private _timestampProvider: TimestampProvider = dateTimestampProvider\n  ) {\n    super();\n    this._infiniteTimeWindow = _windowTime === Infinity;\n    this._bufferSize = Math.max(1, _bufferSize);\n    this._windowTime = Math.max(1, _windowTime);\n  }\n\n  next(value: T): void {\n    const { isStopped, _buffer, _infiniteTimeWindow, _timestampProvider, _windowTime } = this;\n    if (!isStopped) {\n      _buffer.push(value);\n      !_infiniteTimeWindow && _buffer.push(_timestampProvider.now() + _windowTime);\n    }\n    this._trimBuffer();\n    super.next(value);\n  }\n\n  /** @internal */\n  protected _subscribe(subscriber: Subscriber<T>): Subscription {\n    this._throwIfClosed();\n    this._trimBuffer();\n\n    const subscription = this._innerSubscribe(subscriber);\n\n    const { _infiniteTimeWindow, _buffer } = this;\n    // We use a copy here, so reentrant code does not mutate our array while we're\n    // emitting it to a new subscriber.\n    const copy = _buffer.slice();\n    for (let i = 0; i < copy.length && !subscriber.closed; i += _infiniteTimeWindow ? 1 : 2) {\n      subscriber.next(copy[i] as T);\n    }\n\n    this._checkFinalizedStatuses(subscriber);\n\n    return subscription;\n  }\n\n  private _trimBuffer() {\n    const { _bufferSize, _timestampProvider, _buffer, _infiniteTimeWindow } = this;\n    // If we don't have an infinite buffer size, and we're over the length,\n    // use splice to truncate the old buffer values off. Note that we have to\n    // double the size for instances where we're not using an infinite time window\n    // because we're storing the values and the timestamps in the same array.\n    const adjustedBufferSize = (_infiniteTimeWindow ? 1 : 2) * _bufferSize;\n    _bufferSize < Infinity && adjustedBufferSize < _buffer.length && _buffer.splice(0, _buffer.length - adjustedBufferSize);\n\n    // Now, if we're not in an infinite time window, remove all values where the time is\n    // older than what is allowed.\n    if (!_infiniteTimeWindow) {\n      const now = _timestampProvider.now();\n      let last = 0;\n      // Search the array for the first timestamp that isn't expired and\n      // truncate the buffer up to that point.\n      for (let i = 1; i < _buffer.length && (_buffer[i] as number) <= now; i += 2) {\n        last = i;\n      }\n      last && _buffer.splice(0, last + 1);\n    }\n  }\n}\n","import { Action } from './scheduler/Action';\nimport { Subscription } from './Subscription';\nimport { SchedulerLike, SchedulerAction } from './types';\nimport { dateTimestampProvider } from './scheduler/dateTimestampProvider';\n\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an `Action`.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n * @deprecated Scheduler is an internal implementation detail of RxJS, and\n * should not be used directly. Rather, create your own class and implement\n * {@link SchedulerLike}. Will be made internal in v8.\n */\nexport class Scheduler implements SchedulerLike {\n  public static now: () => number = dateTimestampProvider.now;\n\n  constructor(private schedulerActionCtor: typeof Action, now: () => number = Scheduler.now) {\n    this.now = now;\n  }\n\n  /**\n   * A getter method that returns a number representing the current time\n   * (at the time this function was called) according to the scheduler's own\n   * internal clock.\n   * @return {number} A number that represents the current time. May or may not\n   * have a relation to wall-clock time. May or may not refer to a time unit\n   * (e.g. milliseconds).\n   */\n  public now: () => number;\n\n  /**\n   * Schedules a function, `work`, for execution. May happen at some point in\n   * the future, according to the `delay` parameter, if specified. May be passed\n   * some context object, `state`, which will be passed to the `work` function.\n   *\n   * The given arguments will be processed an stored as an Action object in a\n   * queue of actions.\n   *\n   * @param {function(state: ?T): ?Subscription} work A function representing a\n   * task, or some unit of work to be executed by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler itself.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @return {Subscription} A subscription in order to be able to unsubscribe\n   * the scheduled work.\n   */\n  public schedule<T>(work: (this: SchedulerAction<T>, state?: T) => void, delay: number = 0, state?: T): Subscription {\n    return new this.schedulerActionCtor<T>(this, work).schedule(state, delay);\n  }\n}\n","import { Operator } from './Operator';\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { Observer, SubscriptionLike, TeardownLogic } from './types';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\n\n/**\n * A Subject is a special type of Observable that allows values to be\n * multicasted to many Observers. Subjects are like EventEmitters.\n *\n * Every Subject is an Observable and an Observer. You can subscribe to a\n * Subject, and you can call next to feed values as well as error and complete.\n */\nexport class Subject<T> extends Observable<T> implements SubscriptionLike {\n  closed = false;\n\n  private currentObservers: Observer<T>[] | null = null;\n\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  observers: Observer<T>[] = [];\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  isStopped = false;\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  hasError = false;\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  thrownError: any = null;\n\n  /**\n   * Creates a \"subject\" by basically gluing an observer to an observable.\n   *\n   * @nocollapse\n   * @deprecated Recommended you do not use. Will be removed at some point in the future. Plans for replacement still under discussion.\n   */\n  static create: (...args: any[]) => any = <T>(destination: Observer<T>, source: Observable<T>): AnonymousSubject<T> => {\n    return new AnonymousSubject<T>(destination, source);\n  };\n\n  constructor() {\n    // NOTE: This must be here to obscure Observable's constructor.\n    super();\n  }\n\n  /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const subject = new AnonymousSubject(this, this);\n    subject.operator = operator as any;\n    return subject as any;\n  }\n\n  /** @internal */\n  protected _throwIfClosed() {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n  }\n\n  next(value: T) {\n    errorContext(() => {\n      this._throwIfClosed();\n      if (!this.isStopped) {\n        if (!this.currentObservers) {\n          this.currentObservers = Array.from(this.observers);\n        }\n        for (const observer of this.currentObservers) {\n          observer.next(value);\n        }\n      }\n    });\n  }\n\n  error(err: any) {\n    errorContext(() => {\n      this._throwIfClosed();\n      if (!this.isStopped) {\n        this.hasError = this.isStopped = true;\n        this.thrownError = err;\n        const { observers } = this;\n        while (observers.length) {\n          observers.shift()!.error(err);\n        }\n      }\n    });\n  }\n\n  complete() {\n    errorContext(() => {\n      this._throwIfClosed();\n      if (!this.isStopped) {\n        this.isStopped = true;\n        const { observers } = this;\n        while (observers.length) {\n          observers.shift()!.complete();\n        }\n      }\n    });\n  }\n\n  unsubscribe() {\n    this.isStopped = this.closed = true;\n    this.observers = this.currentObservers = null!;\n  }\n\n  get observed() {\n    return this.observers?.length > 0;\n  }\n\n  /** @internal */\n  protected _trySubscribe(subscriber: Subscriber<T>): TeardownLogic {\n    this._throwIfClosed();\n    return super._trySubscribe(subscriber);\n  }\n\n  /** @internal */\n  protected _subscribe(subscriber: Subscriber<T>): Subscription {\n    this._throwIfClosed();\n    this._checkFinalizedStatuses(subscriber);\n    return this._innerSubscribe(subscriber);\n  }\n\n  /** @internal */\n  protected _innerSubscribe(subscriber: Subscriber<any>) {\n    const { hasError, isStopped, observers } = this;\n    if (hasError || isStopped) {\n      return EMPTY_SUBSCRIPTION;\n    }\n    this.currentObservers = null;\n    observers.push(subscriber);\n    return new Subscription(() => {\n      this.currentObservers = null;\n      arrRemove(observers, subscriber);\n    });\n  }\n\n  /** @internal */\n  protected _checkFinalizedStatuses(subscriber: Subscriber<any>) {\n    const { hasError, thrownError, isStopped } = this;\n    if (hasError) {\n      subscriber.error(thrownError);\n    } else if (isStopped) {\n      subscriber.complete();\n    }\n  }\n\n  /**\n   * Creates a new Observable with this Subject as the source. You can do this\n   * to create custom Observer-side logic of the Subject and conceal it from\n   * code that uses the Observable.\n   * @return {Observable} Observable that the Subject casts to\n   */\n  asObservable(): Observable<T> {\n    const observable: any = new Observable<T>();\n    observable.source = this;\n    return observable;\n  }\n}\n\n/**\n * @class AnonymousSubject<T>\n */\nexport class AnonymousSubject<T> extends Subject<T> {\n  constructor(\n    /** @deprecated Internal implementation detail, do not use directly. Will be made internal in v8. */\n    public destination?: Observer<T>,\n    source?: Observable<T>\n  ) {\n    super();\n    this.source = source;\n  }\n\n  next(value: T) {\n    this.destination?.next?.(value);\n  }\n\n  error(err: any) {\n    this.destination?.error?.(err);\n  }\n\n  complete() {\n    this.destination?.complete?.();\n  }\n\n  /** @internal */\n  protected _subscribe(subscriber: Subscriber<T>): Subscription {\n    return this.source?.subscribe(subscriber) ?? EMPTY_SUBSCRIPTION;\n  }\n}\n","import { Observable } from './Observable';\nimport { EmptyError } from './util/EmptyError';\nimport { SafeSubscriber } from './Subscriber';\n\nexport interface FirstValueFromConfig<T> {\n  defaultValue: T;\n}\n\nexport function firstValueFrom<T, D>(source: Observable<T>, config: FirstValueFromConfig<D>): Promise<T | D>;\nexport function firstValueFrom<T>(source: Observable<T>): Promise<T>;\n\n/**\n * Converts an observable to a promise by subscribing to the observable,\n * and returning a promise that will resolve as soon as the first value\n * arrives from the observable. The subscription will then be closed.\n *\n * If the observable stream completes before any values were emitted, the\n * returned promise will reject with {@link EmptyError} or will resolve\n * with the default value if a default was specified.\n *\n * If the observable stream emits an error, the returned promise will reject\n * with that error.\n *\n * **WARNING**: Only use this with observables you *know* will emit at least one value,\n * *OR* complete. If the source observable does not emit one value or complete, you will\n * end up with a promise that is hung up, and potentially all of the state of an\n * async function hanging out in memory. To avoid this situation, look into adding\n * something like {@link timeout}, {@link take}, {@link takeWhile}, or {@link takeUntil}\n * amongst others.\n *\n * ## Example\n *\n * Wait for the first value from a stream and emit it from a promise in\n * an async function\n *\n * ```ts\n * import { interval, firstValueFrom } from 'rxjs';\n *\n * async function execute() {\n *   const source$ = interval(2000);\n *   const firstNumber = await firstValueFrom(source$);\n *   console.log(`The first number is ${ firstNumber }`);\n * }\n *\n * execute();\n *\n * // Expected output:\n * // 'The first number is 0'\n * ```\n *\n * @see {@link lastValueFrom}\n *\n * @param source the observable to convert to a promise\n * @param config a configuration object to define the `defaultValue` to use if the source completes without emitting a value\n */\nexport function firstValueFrom<T, D>(source: Observable<T>, config?: FirstValueFromConfig<D>): Promise<T | D> {\n  const hasConfig = typeof config === 'object';\n  return new Promise<T | D>((resolve, reject) => {\n    const subscriber = new SafeSubscriber<T>({\n      next: (value) => {\n        resolve(value);\n        subscriber.unsubscribe();\n      },\n      error: reject,\n      complete: () => {\n        if (hasConfig) {\n          resolve(config!.defaultValue);\n        } else {\n          reject(new EmptyError());\n        }\n      },\n    });\n    source.subscribe(subscriber);\n  });\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\n\n/**\n * A simple Observable that emits no items to the Observer and immediately\n * emits a complete notification.\n *\n * <span class=\"informal\">Just emits 'complete', and nothing else.</span>\n *\n * ![](empty.png)\n *\n * A simple Observable that only emits the complete notification. It can be used\n * for composing with other Observables, such as in a {@link mergeMap}.\n *\n * ## Examples\n *\n * Log complete notification\n *\n * ```ts\n * import { EMPTY } from 'rxjs';\n *\n * EMPTY.subscribe({\n *   next: () => console.log('Next'),\n *   complete: () => console.log('Complete!')\n * });\n *\n * // Outputs\n * // Complete!\n * ```\n *\n * Emit the number 7, then complete\n *\n * ```ts\n * import { EMPTY, startWith } from 'rxjs';\n *\n * const result = EMPTY.pipe(startWith(7));\n * result.subscribe(x => console.log(x));\n *\n * // Outputs\n * // 7\n * ```\n *\n * Map and flatten only odd numbers to the sequence `'a'`, `'b'`, `'c'`\n *\n * ```ts\n * import { interval, mergeMap, of, EMPTY } from 'rxjs';\n *\n * const interval$ = interval(1000);\n * const result = interval$.pipe(\n *   mergeMap(x => x % 2 === 1 ? of('a', 'b', 'c') : EMPTY),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following to the console:\n * // x is equal to the count on the interval, e.g. (0, 1, 2, 3, ...)\n * // x will occur every 1000ms\n * // if x % 2 is equal to 1, print a, b, c (each on its own)\n * // if x % 2 is not equal to 1, nothing will be output\n * ```\n *\n * @see {@link Observable}\n * @see {@link NEVER}\n * @see {@link of}\n * @see {@link throwError}\n */\nexport const EMPTY = new Observable<never>((subscriber) => subscriber.complete());\n\n/**\n * @param scheduler A {@link SchedulerLike} to use for scheduling\n * the emission of the complete notification.\n * @deprecated Replaced with the {@link EMPTY} constant or {@link scheduled} (e.g. `scheduled([], scheduler)`). Will be removed in v8.\n */\nexport function empty(scheduler?: SchedulerLike) {\n  return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\n\nfunction emptyScheduled(scheduler: SchedulerLike) {\n  return new Observable<never>((subscriber) => scheduler.schedule(() => subscriber.complete()));\n}\n","import { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { SchedulerLike } from '../types';\nimport { isFunction } from '../util/isFunction';\n\n/**\n * Creates an observable that will create an error instance and push it to the consumer as an error\n * immediately upon subscription.\n *\n * <span class=\"informal\">Just errors and does nothing else</span>\n *\n * ![](throw.png)\n *\n * This creation function is useful for creating an observable that will create an error and error every\n * time it is subscribed to. Generally, inside of most operators when you might want to return an errored\n * observable, this is unnecessary. In most cases, such as in the inner return of {@link concatMap},\n * {@link mergeMap}, {@link defer}, and many others, you can simply throw the error, and RxJS will pick\n * that up and notify the consumer of the error.\n *\n * ## Example\n *\n * Create a simple observable that will create a new error with a timestamp and log it\n * and the message every time you subscribe to it\n *\n * ```ts\n * import { throwError } from 'rxjs';\n *\n * let errorCount = 0;\n *\n * const errorWithTimestamp$ = throwError(() => {\n *   const error: any = new Error(`This is error number ${ ++errorCount }`);\n *   error.timestamp = Date.now();\n *   return error;\n * });\n *\n * errorWithTimestamp$.subscribe({\n *   error: err => console.log(err.timestamp, err.message)\n * });\n *\n * errorWithTimestamp$.subscribe({\n *   error: err => console.log(err.timestamp, err.message)\n * });\n *\n * // Logs the timestamp and a new error message for each subscription\n * ```\n *\n * ### Unnecessary usage\n *\n * Using `throwError` inside of an operator or creation function\n * with a callback, is usually not necessary\n *\n * ```ts\n * import { of, concatMap, timer, throwError } from 'rxjs';\n *\n * const delays$ = of(1000, 2000, Infinity, 3000);\n *\n * delays$.pipe(\n *   concatMap(ms => {\n *     if (ms < 10000) {\n *       return timer(ms);\n *     } else {\n *       // This is probably overkill.\n *       return throwError(() => new Error(`Invalid time ${ ms }`));\n *     }\n *   })\n * )\n * .subscribe({\n *   next: console.log,\n *   error: console.error\n * });\n * ```\n *\n * You can just throw the error instead\n *\n * ```ts\n * import { of, concatMap, timer } from 'rxjs';\n *\n * const delays$ = of(1000, 2000, Infinity, 3000);\n *\n * delays$.pipe(\n *   concatMap(ms => {\n *     if (ms < 10000) {\n *       return timer(ms);\n *     } else {\n *       // Cleaner and easier to read for most folks.\n *       throw new Error(`Invalid time ${ ms }`);\n *     }\n *   })\n * )\n * .subscribe({\n *   next: console.log,\n *   error: console.error\n * });\n * ```\n *\n * @param errorFactory A factory function that will create the error instance that is pushed.\n */\nexport function throwError(errorFactory: () => any): Observable<never>;\n\n/**\n * Returns an observable that will error with the specified error immediately upon subscription.\n *\n * @param error The error instance to emit\n * @deprecated Support for passing an error value will be removed in v8. Instead, pass a factory function to `throwError(() => new Error('test'))`. This is\n * because it will create the error at the moment it should be created and capture a more appropriate stack trace. If\n * for some reason you need to create the error ahead of time, you can still do that: `const err = new Error('test'); throwError(() => err);`.\n */\nexport function throwError(error: any): Observable<never>;\n\n/**\n * Notifies the consumer of an error using a given scheduler by scheduling it at delay `0` upon subscription.\n *\n * @param errorOrErrorFactory An error instance or error factory\n * @param scheduler A scheduler to use to schedule the error notification\n * @deprecated The `scheduler` parameter will be removed in v8.\n * Use `throwError` in combination with {@link observeOn}: `throwError(() => new Error('test')).pipe(observeOn(scheduler));`.\n * Details: https://rxjs.dev/deprecations/scheduler-argument\n */\nexport function throwError(errorOrErrorFactory: any, scheduler: SchedulerLike): Observable<never>;\n\nexport function throwError(errorOrErrorFactory: any, scheduler?: SchedulerLike): Observable<never> {\n  const errorFactory = isFunction(errorOrErrorFactory) ? errorOrErrorFactory : () => errorOrErrorFactory;\n  const init = (subscriber: Subscriber<never>) => subscriber.error(errorFactory());\n  return new Observable(scheduler ? (subscriber) => scheduler.schedule(init as any, 0, subscriber) : init);\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { async as asyncScheduler } from '../scheduler/async';\nimport { isScheduler } from '../util/isScheduler';\nimport { isValidDate } from '../util/isDate';\n\n/**\n * Creates an observable that will wait for a specified time period, or exact date, before\n * emitting the number 0.\n *\n * <span class=\"informal\">Used to emit a notification after a delay.</span>\n *\n * This observable is useful for creating delays in code, or racing against other values\n * for ad-hoc timeouts.\n *\n * The `delay` is specified by default in milliseconds, however providing a custom scheduler could\n * create a different behavior.\n *\n * ## Examples\n *\n * Wait 3 seconds and start another observable\n *\n * You might want to use `timer` to delay subscription to an\n * observable by a set amount of time. Here we use a timer with\n * {@link concatMapTo} or {@link concatMap} in order to wait\n * a few seconds and start a subscription to a source.\n *\n * ```ts\n * import { of, timer, concatMap } from 'rxjs';\n *\n * // This could be any observable\n * const source = of(1, 2, 3);\n *\n * timer(3000)\n *   .pipe(concatMap(() => source))\n *   .subscribe(console.log);\n * ```\n *\n * Take all values until the start of the next minute\n *\n * Using a `Date` as the trigger for the first emission, you can\n * do things like wait until midnight to fire an event, or in this case,\n * wait until a new minute starts (chosen so the example wouldn't take\n * too long to run) in order to stop watching a stream. Leveraging\n * {@link takeUntil}.\n *\n * ```ts\n * import { interval, takeUntil, timer } from 'rxjs';\n *\n * // Build a Date object that marks the\n * // next minute.\n * const currentDate = new Date();\n * const startOfNextMinute = new Date(\n *   currentDate.getFullYear(),\n *   currentDate.getMonth(),\n *   currentDate.getDate(),\n *   currentDate.getHours(),\n *   currentDate.getMinutes() + 1\n * );\n *\n * // This could be any observable stream\n * const source = interval(1000);\n *\n * const result = source.pipe(\n *   takeUntil(timer(startOfNextMinute))\n * );\n *\n * result.subscribe(console.log);\n * ```\n *\n * ### Known Limitations\n *\n * - The {@link asyncScheduler} uses `setTimeout` which has limitations for how far in the future it can be scheduled.\n *\n * - If a `scheduler` is provided that returns a timestamp other than an epoch from `now()`, and\n * a `Date` object is passed to the `dueTime` argument, the calculation for when the first emission\n * should occur will be incorrect. In this case, it would be best to do your own calculations\n * ahead of time, and pass a `number` in as the `dueTime`.\n *\n * @param due If a `number`, the amount of time in milliseconds to wait before emitting.\n * If a `Date`, the exact time at which to emit.\n * @param scheduler The scheduler to use to schedule the delay. Defaults to {@link asyncScheduler}.\n */\nexport function timer(due: number | Date, scheduler?: SchedulerLike): Observable<0>;\n\n/**\n * Creates an observable that starts an interval after a specified delay, emitting incrementing numbers -- starting at `0` --\n * on each interval after words.\n *\n * The `delay` and `intervalDuration` are specified by default in milliseconds, however providing a custom scheduler could\n * create a different behavior.\n *\n * ## Example\n *\n * ### Start an interval that starts right away\n *\n * Since {@link interval} waits for the passed delay before starting,\n * sometimes that's not ideal. You may want to start an interval immediately.\n * `timer` works well for this. Here we have both side-by-side so you can\n * see them in comparison.\n *\n * Note that this observable will never complete.\n *\n * ```ts\n * import { timer, interval } from 'rxjs';\n *\n * timer(0, 1000).subscribe(n => console.log('timer', n));\n * interval(1000).subscribe(n => console.log('interval', n));\n * ```\n *\n * ### Known Limitations\n *\n * - The {@link asyncScheduler} uses `setTimeout` which has limitations for how far in the future it can be scheduled.\n *\n * - If a `scheduler` is provided that returns a timestamp other than an epoch from `now()`, and\n * a `Date` object is passed to the `dueTime` argument, the calculation for when the first emission\n * should occur will be incorrect. In this case, it would be best to do your own calculations\n * ahead of time, and pass a `number` in as the `startDue`.\n * @param startDue If a `number`, is the time to wait before starting the interval.\n * If a `Date`, is the exact time at which to start the interval.\n * @param intervalDuration The delay between each value emitted in the interval. Passing a\n * negative number here will result in immediate completion after the first value is emitted, as though\n * no `intervalDuration` was passed at all.\n * @param scheduler The scheduler to use to schedule the delay. Defaults to {@link asyncScheduler}.\n */\nexport function timer(startDue: number | Date, intervalDuration: number, scheduler?: SchedulerLike): Observable<number>;\n\n/**\n * @deprecated The signature allowing `undefined` to be passed for `intervalDuration` will be removed in v8. Use the `timer(dueTime, scheduler?)` signature instead.\n */\nexport function timer(dueTime: number | Date, unused: undefined, scheduler?: SchedulerLike): Observable<0>;\n\nexport function timer(\n  dueTime: number | Date = 0,\n  intervalOrScheduler?: number | SchedulerLike,\n  scheduler: SchedulerLike = asyncScheduler\n): Observable<number> {\n  // Since negative intervalDuration is treated as though no\n  // interval was specified at all, we start with a negative number.\n  let intervalDuration = -1;\n\n  if (intervalOrScheduler != null) {\n    // If we have a second argument, and it's a scheduler,\n    // override the scheduler we had defaulted. Otherwise,\n    // it must be an interval.\n    if (isScheduler(intervalOrScheduler)) {\n      scheduler = intervalOrScheduler;\n    } else {\n      // Note that this *could* be negative, in which case\n      // it's like not passing an intervalDuration at all.\n      intervalDuration = intervalOrScheduler;\n    }\n  }\n\n  return new Observable((subscriber) => {\n    // If a valid date is passed, calculate how long to wait before\n    // executing the first value... otherwise, if it's a number just schedule\n    // that many milliseconds (or scheduler-specified unit size) in the future.\n    let due = isValidDate(dueTime) ? +dueTime - scheduler!.now() : dueTime;\n\n    if (due < 0) {\n      // Ensure we don't schedule in the future.\n      due = 0;\n    }\n\n    // The incrementing value we emit.\n    let n = 0;\n\n    // Start the timer.\n    return scheduler.schedule(function () {\n      if (!subscriber.closed) {\n        // Emit the next value and increment.\n        subscriber.next(n++);\n\n        if (0 <= intervalDuration) {\n          // If we have a interval after the initial timer,\n          // reschedule with the period.\n          this.schedule(undefined, intervalDuration);\n        } else {\n          // We didn't have an interval. So just complete.\n          subscriber.complete();\n        }\n      }\n    }, due);\n  });\n}\n","import { OperatorFunction, MonoTypeOperatorFunction, TruthyTypesOf } from '../types';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\n\n/** @deprecated Use a closure instead of a `thisArg`. Signatures accepting a `thisArg` will be removed in v8. */\nexport function filter<T, S extends T, A>(predicate: (this: A, value: T, index: number) => value is S, thisArg: A): OperatorFunction<T, S>;\nexport function filter<T, S extends T>(predicate: (value: T, index: number) => value is S): OperatorFunction<T, S>;\nexport function filter<T>(predicate: BooleanConstructor): OperatorFunction<T, TruthyTypesOf<T>>;\n/** @deprecated Use a closure instead of a `thisArg`. Signatures accepting a `thisArg` will be removed in v8. */\nexport function filter<T, A>(predicate: (this: A, value: T, index: number) => boolean, thisArg: A): MonoTypeOperatorFunction<T>;\nexport function filter<T>(predicate: (value: T, index: number) => boolean): MonoTypeOperatorFunction<T>;\n\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * ![](filter.png)\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * ## Example\n *\n * Emit only click events whose target was a DIV element\n *\n * ```ts\n * import { fromEvent, filter } from 'rxjs';\n *\n * const div = document.createElement('div');\n * div.style.cssText = 'width: 200px; height: 200px; background: #09c;';\n * document.body.appendChild(div);\n *\n * const clicks = fromEvent(document, 'click');\n * const clicksOnDivs = clicks.pipe(filter(ev => (<HTMLElement>ev.target).tagName === 'DIV'));\n * clicksOnDivs.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param thisArg An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return A function that returns an Observable that emits items from the\n * source Observable that satisfy the specified `predicate`.\n */\nexport function filter<T>(predicate: (value: T, index: number) => boolean, thisArg?: any): MonoTypeOperatorFunction<T> {\n  return operate((source, subscriber) => {\n    // An index passed to our predicate function on each call.\n    let index = 0;\n\n    // Subscribe to the source, all errors and completions are\n    // forwarded to the consumer.\n    source.subscribe(\n      // Call the predicate with the appropriate `this` context,\n      // if the predicate returns `true`, then send the value\n      // to the consumer.\n      createOperatorSubscriber(subscriber, (value) => predicate.call(thisArg, value, index++) && subscriber.next(value))\n    );\n  });\n}\n","import { MonoTypeOperatorFunction } from '../types';\nimport { EMPTY } from '../observable/empty';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\n\n/**\n * Emits only the first `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Takes the first `count` values from the source, then\n * completes.</span>\n *\n * ![](take.png)\n *\n * `take` returns an Observable that emits only the first `count` values emitted\n * by the source Observable. If the source emits fewer than `count` values then\n * all of its values are emitted. After that, it completes, regardless if the\n * source completes.\n *\n * ## Example\n *\n * Take the first 5 seconds of an infinite 1-second interval Observable\n *\n * ```ts\n * import { interval, take } from 'rxjs';\n *\n * const intervalCount = interval(1000);\n * const takeFive = intervalCount.pipe(take(5));\n * takeFive.subscribe(x => console.log(x));\n *\n * // Logs:\n * // 0\n * // 1\n * // 2\n * // 3\n * // 4\n * ```\n *\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @param count The maximum number of `next` values to emit.\n * @return A function that returns an Observable that emits only the first\n * `count` values emitted by the source Observable, or all of the values from\n * the source if the source emits fewer than `count` values.\n */\nexport function take<T>(count: number): MonoTypeOperatorFunction<T> {\n  return count <= 0\n    ? // If we are taking no values, that's empty.\n      () => EMPTY\n    : operate((source, subscriber) => {\n        let seen = 0;\n        source.subscribe(\n          createOperatorSubscriber(subscriber, (value) => {\n            // Increment the number of values we have seen,\n            // then check it against the allowed count to see\n            // if we are still letting values through.\n            if (++seen <= count) {\n              subscriber.next(value);\n              // If we have met or passed our allowed count,\n              // we need to complete. We have to do <= here,\n              // because re-entrant code will increment `seen` twice.\n              if (count <= seen) {\n                subscriber.complete();\n              }\n            }\n          })\n        );\n      });\n}\n","import { Scheduler } from '../Scheduler';\nimport { Subscription } from '../Subscription';\nimport { SchedulerAction } from '../types';\n\n/**\n * A unit of work to be executed in a `scheduler`. An action is typically\n * created from within a {@link SchedulerLike} and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nexport class Action<T> extends Subscription {\n  constructor(scheduler: Scheduler, work: (this: SchedulerAction<T>, state?: T) => void) {\n    super();\n  }\n  /**\n   * Schedules this action on its parent {@link SchedulerLike} for execution. May be passed\n   * some context object, `state`. May happen at some point in the future,\n   * according to the `delay` parameter, if specified.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler.\n   * @return {void}\n   */\n  public schedule(state?: T, delay: number = 0): Subscription {\n    return this;\n  }\n}\n","import { Action } from './Action';\nimport { SchedulerAction } from '../types';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nimport { TimerHandle } from './timerHandle';\n\nexport class AsyncAction<T> extends Action<T> {\n  public id: TimerHandle | undefined;\n  public state?: T;\n  // @ts-ignore: Property has no initializer and is not definitely assigned\n  public delay: number;\n  protected pending: boolean = false;\n\n  constructor(protected scheduler: AsyncScheduler, protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n    if (this.closed) {\n      return this;\n    }\n\n    // Always replace the current state with the new state.\n    this.state = state;\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n\n    //\n    // Important implementation note:\n    //\n    // Actions only execute once by default, unless rescheduled from within the\n    // scheduled callback. This allows us to implement single and repeat\n    // actions via the same code path, without adding API surface area, as well\n    // as mimic traditional recursion but across asynchronous boundaries.\n    //\n    // However, JS runtimes and timers distinguish between intervals achieved by\n    // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n    // serial `setTimeout` calls can be individually delayed, which delays\n    // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n    // guarantee the interval callback will be invoked more precisely to the\n    // interval period, regardless of load.\n    //\n    // Therefore, we use `setInterval` to schedule single and repeat actions.\n    // If the action reschedules itself with the same delay, the interval is not\n    // canceled. If the action doesn't reschedule, or reschedules with a\n    // different delay, the interval will be canceled after scheduled callback\n    // execution.\n    //\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, delay);\n    }\n\n    // Set the pending flag indicating that this action has been scheduled, or\n    // has recursively rescheduled itself.\n    this.pending = true;\n\n    this.delay = delay;\n    // If this action has already an async Id, don't request a new one.\n    this.id = this.id ?? this.requestAsyncId(scheduler, this.id, delay);\n\n    return this;\n  }\n\n  protected requestAsyncId(scheduler: AsyncScheduler, _id?: TimerHandle, delay: number = 0): TimerHandle {\n    return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n  }\n\n  protected recycleAsyncId(_scheduler: AsyncScheduler, id?: TimerHandle, delay: number | null = 0): TimerHandle | undefined {\n    // If this action is rescheduled with the same delay time, don't clear the interval id.\n    if (delay != null && this.delay === delay && this.pending === false) {\n      return id;\n    }\n    // Otherwise, if the action's delay time is different from the current delay,\n    // or the action has been rescheduled before it's executed, clear the interval id\n    if (id != null) {\n      intervalProvider.clearInterval(id);\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Immediately executes this action and the `work` it contains.\n   * @return {any}\n   */\n  public execute(state: T, delay: number): any {\n    if (this.closed) {\n      return new Error('executing a cancelled action');\n    }\n\n    this.pending = false;\n    const error = this._execute(state, delay);\n    if (error) {\n      return error;\n    } else if (this.pending === false && this.id != null) {\n      // Dequeue if the action didn't reschedule itself. Don't call\n      // unsubscribe(), because the action could reschedule later.\n      // For example:\n      // ```\n      // scheduler.schedule(function doWork(counter) {\n      //   /* ... I'm a busy worker bee ... */\n      //   var originalAction = this;\n      //   /* wait 100ms before rescheduling the action */\n      //   setTimeout(function () {\n      //     originalAction.schedule(counter + 1);\n      //   }, 100);\n      // }, 1000);\n      // ```\n      this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n    }\n  }\n\n  protected _execute(state: T, _delay: number): any {\n    let errored: boolean = false;\n    let errorValue: any;\n    try {\n      this.work(state);\n    } catch (e) {\n      errored = true;\n      // HACK: Since code elsewhere is relying on the \"truthiness\" of the\n      // return here, we can't have it return \"\" or 0 or false.\n      // TODO: Clean this up when we refactor schedulers mid-version-8 or so.\n      errorValue = e ? e : new Error('Scheduled action threw falsy error');\n    }\n    if (errored) {\n      this.unsubscribe();\n      return errorValue;\n    }\n  }\n\n  unsubscribe() {\n    if (!this.closed) {\n      const { id, scheduler } = this;\n      const { actions } = scheduler;\n\n      this.work = this.state = this.scheduler = null!;\n      this.pending = false;\n\n      arrRemove(actions, this);\n      if (id != null) {\n        this.id = this.recycleAsyncId(scheduler, id, null);\n      }\n\n      this.delay = null!;\n      super.unsubscribe();\n    }\n  }\n}\n","import { Scheduler } from '../Scheduler';\nimport { Action } from './Action';\nimport { AsyncAction } from './AsyncAction';\nimport { TimerHandle } from './timerHandle';\n\nexport class AsyncScheduler extends Scheduler {\n  public actions: Array<AsyncAction<any>> = [];\n  /**\n   * A flag to indicate whether the Scheduler is currently executing a batch of\n   * queued actions.\n   * @type {boolean}\n   * @internal\n   */\n  public _active: boolean = false;\n  /**\n   * An internal ID used to track the latest asynchronous task such as those\n   * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n   * others.\n   * @type {any}\n   * @internal\n   */\n  public _scheduled: TimerHandle | undefined;\n\n  constructor(SchedulerAction: typeof Action, now: () => number = Scheduler.now) {\n    super(SchedulerAction, now);\n  }\n\n  public flush(action: AsyncAction<any>): void {\n    const { actions } = this;\n\n    if (this._active) {\n      actions.push(action);\n      return;\n    }\n\n    let error: any;\n    this._active = true;\n\n    do {\n      if ((error = action.execute(action.state, action.delay))) {\n        break;\n      }\n    } while ((action = actions.shift()!)); // exhaust the scheduler queue\n\n    this._active = false;\n\n    if (error) {\n      while ((action = actions.shift()!)) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n *\n * Async Scheduler\n *\n * <span class=\"informal\">Schedule task as if you used setTimeout(task, duration)</span>\n *\n * `async` scheduler schedules tasks asynchronously, by putting them on the JavaScript\n * event loop queue. It is best used to delay tasks in time or to schedule tasks repeating\n * in intervals.\n *\n * If you just want to \"defer\" task, that is to perform it right after currently\n * executing synchronous code ends (commonly achieved by `setTimeout(deferredTask, 0)`),\n * better choice will be the {@link asapScheduler} scheduler.\n *\n * ## Examples\n * Use async scheduler to delay task\n * ```ts\n * import { asyncScheduler } from 'rxjs';\n *\n * const task = () => console.log('it works!');\n *\n * asyncScheduler.schedule(task, 2000);\n *\n * // After 2 seconds logs:\n * // \"it works!\"\n * ```\n *\n * Use async scheduler to repeat task in intervals\n * ```ts\n * import { asyncScheduler } from 'rxjs';\n *\n * function task(state) {\n *   console.log(state);\n *   this.schedule(state + 1, 1000); // `this` references currently executing Action,\n *                                   // which we reschedule with new state and delay\n * }\n *\n * asyncScheduler.schedule(task, 3000, 0);\n *\n * // Logs:\n * // 0 after 3s\n * // 1 after 4s\n * // 2 after 5s\n * // 3 after 6s\n * ```\n */\n\nexport const asyncScheduler = new AsyncScheduler(AsyncAction);\n\n/**\n * @deprecated Renamed to {@link asyncScheduler}. Will be removed in v8.\n */\nexport const async = asyncScheduler;\n","import { TimestampProvider } from '../types';\n\ninterface DateTimestampProvider extends TimestampProvider {\n  delegate: TimestampProvider | undefined;\n}\n\nexport const dateTimestampProvider: DateTimestampProvider = {\n  now() {\n    // Use the variable rather than `this` so that the function can be called\n    // without being bound to the provider.\n    return (dateTimestampProvider.delegate || Date).now();\n  },\n  delegate: undefined,\n};\n","import type { TimerHandle } from './timerHandle';\ntype SetIntervalFunction = (handler: () => void, timeout?: number, ...args: any[]) => TimerHandle;\ntype ClearIntervalFunction = (handle: TimerHandle) => void;\n\ninterface IntervalProvider {\n  setInterval: SetIntervalFunction;\n  clearInterval: ClearIntervalFunction;\n  delegate:\n    | {\n        setInterval: SetIntervalFunction;\n        clearInterval: ClearIntervalFunction;\n      }\n    | undefined;\n}\n\nexport const intervalProvider: IntervalProvider = {\n  // When accessing the delegate, use the variable rather than `this` so that\n  // the functions can be called without being bound to the provider.\n  setInterval(handler: () => void, timeout?: number, ...args) {\n    const { delegate } = intervalProvider;\n    if (delegate?.setInterval) {\n      return delegate.setInterval(handler, timeout, ...args);\n    }\n    return setInterval(handler, timeout, ...args);\n  },\n  clearInterval(handle) {\n    const { delegate } = intervalProvider;\n    return (delegate?.clearInterval || clearInterval)(handle as any);\n  },\n  delegate: undefined,\n};\n","import { createErrorClass } from './createErrorClass';\n\nexport interface EmptyError extends Error {}\n\nexport interface EmptyErrorCtor {\n  /**\n   * @deprecated Internal implementation detail. Do not construct error instances.\n   * Cannot be tagged as internal: https://github.com/ReactiveX/rxjs/issues/6269\n   */\n  new (): EmptyError;\n}\n\n/**\n * An error thrown when an Observable or a sequence was queried but has no\n * elements.\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link single}\n * @see {@link firstValueFrom}\n * @see {@link lastValueFrom}\n *\n * @class EmptyError\n */\nexport const EmptyError: EmptyErrorCtor = createErrorClass((_super) => function EmptyErrorImpl(this: any) {\n  _super(this);\n  this.name = 'EmptyError';\n  this.message = 'no elements in sequence';\n});\n","import { createErrorClass } from './createErrorClass';\n\nexport interface ObjectUnsubscribedError extends Error {}\n\nexport interface ObjectUnsubscribedErrorCtor {\n  /**\n   * @deprecated Internal implementation detail. Do not construct error instances.\n   * Cannot be tagged as internal: https://github.com/ReactiveX/rxjs/issues/6269\n   */\n  new (): ObjectUnsubscribedError;\n}\n\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nexport const ObjectUnsubscribedError: ObjectUnsubscribedErrorCtor = createErrorClass(\n  (_super) =>\n    function ObjectUnsubscribedErrorImpl(this: any) {\n      _super(this);\n      this.name = 'ObjectUnsubscribedError';\n      this.message = 'object unsubscribed';\n    }\n);\n","/**\n * Checks to see if a value is not only a `Date` object,\n * but a *valid* `Date` object that can be converted to a\n * number. For example, `new Date('blah')` is indeed an\n * `instanceof Date`, however it cannot be converted to a\n * number.\n */\nexport function isValidDate(value: any): value is Date {\n  return value instanceof Date && !isNaN(value as any);\n}\n","var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","var isConstructor = require('../internals/is-constructor');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsConstructor(argument) is true`\nmodule.exports = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a constructor');\n};\n","var isCallable = require('../internals/is-callable');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw $TypeError('Incorrect invocation');\n};\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis([].slice);\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var documentAll = typeof document == 'object' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nvar IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;\n\nmodule.exports = {\n  all: documentAll,\n  IS_HTMLDDA: IS_HTMLDDA\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","// in old WebKit versions, `element.classList` is not an instance of global `DOMTokenList`\nvar documentCreateElement = require('../internals/document-create-element');\n\nvar classList = documentCreateElement('span').classList;\nvar DOMTokenListPrototype = classList && classList.constructor && classList.constructor.prototype;\n\nmodule.exports = DOMTokenListPrototype === Object.prototype ? undefined : DOMTokenListPrototype;\n","var IS_DENO = require('../internals/engine-is-deno');\nvar IS_NODE = require('../internals/engine-is-node');\n\nmodule.exports = !IS_DENO && !IS_NODE\n  && typeof window == 'object'\n  && typeof document == 'object';\n","/* global Deno -- Deno case */\nmodule.exports = typeof Deno == 'object' && Deno && typeof Deno.version == 'object';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /ipad|iphone|ipod/i.test(userAgent) && typeof Pebble != 'undefined';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);\n","var classof = require('../internals/classof-raw');\n\nmodule.exports = typeof process != 'undefined' && classof(process) == 'process';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","module.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var uncurriedNativeRegExpMethod = uncurryThis(/./[SYMBOL]);\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var uncurriedNativeMethod = uncurryThis(nativeMethod);\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: uncurriedNativeRegExpMethod(regexp, str, arg2) };\n        }\n        return { done: true, value: uncurriedNativeMethod(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    defineBuiltIn(String.prototype, KEY, methods[0]);\n    defineBuiltIn(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","var uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","var call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw $TypeError(tryToString(argument) + ' is not iterable');\n};\n","var aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar charAt = uncurryThis(''.charAt);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (charAt(ch, 0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return stringSlice(str, 0, position);\n      case \"'\": return stringSlice(str, tailPos);\n      case '<':\n        capture = namedCaptures[stringSlice(ch, 1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","module.exports = function (a, b) {\n  try {\n    // eslint-disable-next-line no-console -- safe\n    arguments.length == 1 ? console.error(a) : console.error(a, b);\n  } catch (error) { /* empty */ }\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = $documentAll.IS_HTMLDDA ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar noop = function () { /* empty */ };\nvar empty = [];\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.exec(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, empty, argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n  }\n  try {\n    // we can't check .prototype since constructors produced by .bind haven't it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","var isCallable = require('../internals/is-callable');\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\nmodule.exports = $documentAll.IS_HTMLDDA ? function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","var bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_RECORD = !!(options && options.IS_RECORD);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_RECORD) {\n    iterator = iterable.iterator;\n  } else if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = IS_RECORD ? iterable.next : iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar IS_PURE = require('../internals/is-pure');\nvar FunctionName = require('../internals/function-name');\nvar isCallable = require('../internals/is-callable');\nvar createIteratorConstructor = require('../internals/iterator-create-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar PROPER_FUNCTION_NAME = FunctionName.PROPER;\nvar CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {\n          defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (PROPER_FUNCTION_NAME && DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {\n      createNonEnumerableProperty(IterablePrototype, 'name', VALUES);\n    } else {\n      INCORRECT_VALUES_NAME = true;\n      defaultIterator = function values() { return call(nativeIterator, this); };\n    }\n  }\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        defineBuiltIn(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });\n  }\n  Iterators[NAME] = defaultIterator;\n\n  return methods;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","module.exports = {};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","var global = require('../internals/global');\nvar bind = require('../internals/function-bind-context');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar Queue = require('../internals/queue');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_IOS_PEBBLE = require('../internals/engine-is-ios-pebble');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar microtask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\nvar notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!microtask) {\n  var queue = new Queue();\n\n  var flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (fn = queue.get()) try {\n      fn();\n    } catch (error) {\n      if (queue.head) notify();\n      throw error;\n    }\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (!IS_IOS_PEBBLE && Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    // workaround of WebKit ~ iOS Safari 10.1 bug\n    promise.constructor = Promise;\n    then = bind(promise.then, promise);\n    notify = function () {\n      then(flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessage\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    // `webpack` dev server bug on IE global methods - use bind(fn, global)\n    macrotask = bind(macrotask, global);\n    notify = function () {\n      macrotask(flush);\n    };\n  }\n\n  microtask = function (fn) {\n    if (!queue.head) notify();\n    queue.add(fn);\n  };\n}\n\nmodule.exports = microtask;\n","'use strict';\nvar aCallable = require('../internals/a-callable');\n\nvar $TypeError = TypeError;\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw $TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aCallable(resolve);\n  this.reject = aCallable(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var isRegExp = require('../internals/is-regexp');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw $TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var global = require('../internals/global');\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar isCallable = require('../internals/is-callable');\nvar isForced = require('../internals/is-forced');\nvar inspectSource = require('../internals/inspect-source');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_BROWSER = require('../internals/engine-is-browser');\nvar IS_DENO = require('../internals/engine-is-deno');\nvar IS_PURE = require('../internals/is-pure');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\nvar SPECIES = wellKnownSymbol('species');\nvar SUBCLASSING = false;\nvar NATIVE_PROMISE_REJECTION_EVENT = isCallable(global.PromiseRejectionEvent);\n\nvar FORCED_PROMISE_CONSTRUCTOR = isForced('Promise', function () {\n  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(NativePromiseConstructor);\n  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(NativePromiseConstructor);\n  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can't detect it synchronously, so just check versions\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;\n  // We need Promise#{ catch, finally } in the pure version for preventing prototype pollution\n  if (IS_PURE && !(NativePromisePrototype['catch'] && NativePromisePrototype['finally'])) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (!V8_VERSION || V8_VERSION < 51 || !/native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) {\n    // Detect correctness of subclassing with @@species support\n    var promise = new NativePromiseConstructor(function (resolve) { resolve(1); });\n    var FakePromise = function (exec) {\n      exec(function () { /* empty */ }, function () { /* empty */ });\n    };\n    var constructor = promise.constructor = {};\n    constructor[SPECIES] = FakePromise;\n    SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;\n    if (!SUBCLASSING) return true;\n  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  } return !GLOBAL_CORE_JS_PROMISE && (IS_BROWSER || IS_DENO) && !NATIVE_PROMISE_REJECTION_EVENT;\n});\n\nmodule.exports = {\n  CONSTRUCTOR: FORCED_PROMISE_CONSTRUCTOR,\n  REJECTION_EVENT: NATIVE_PROMISE_REJECTION_EVENT,\n  SUBCLASSING: SUBCLASSING\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar FORCED_PROMISE_CONSTRUCTOR = require('../internals/promise-constructor-detection').CONSTRUCTOR;\n\nmodule.exports = FORCED_PROMISE_CONSTRUCTOR || !checkCorrectnessOfIteration(function (iterable) {\n  NativePromiseConstructor.all(iterable).then(undefined, function () { /* empty */ });\n});\n","var Queue = function () {\n  this.head = null;\n  this.tail = null;\n};\n\nQueue.prototype = {\n  add: function (item) {\n    var entry = { item: item, next: null };\n    var tail = this.tail;\n    if (tail) tail.next = entry;\n    else this.head = entry;\n    this.tail = entry;\n  },\n  get: function () {\n    var entry = this.head;\n    if (entry) {\n      var next = this.head = entry.next;\n      if (next === null) this.tail = null;\n      return entry.item;\n    }\n  }\n};\n\nmodule.exports = Queue;\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar $TypeError = TypeError;\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (isCallable(exec)) {\n    var result = call(exec, R, S);\n    if (result !== null) anObject(result);\n    return result;\n  }\n  if (classof(R) === 'RegExp') return call(regexpExec, R, S);\n  throw $TypeError('RegExp#exec called on incompatible receiver');\n};\n","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\nvar nativeExec = RegExp.prototype.exec;\nvar patchedExec = nativeExec;\nvar charAt = uncurryThis(''.charAt);\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  call(nativeExec, re1, 'a');\n  call(nativeExec, re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = call(patchedExec, raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = call(regexpFlags, re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = replace(flags, 'y', '');\n      if (indexOf(flags, 'g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = stringSlice(str, re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = call(nativeExec, sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = stringSlice(match.input, charsAdded);\n        match[0] = stringSlice(match[0], charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn't work for /(.?)?/\n      call(nativeReplace, match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nvar UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\n// UC Browser bug\n// https://github.com/zloirock/core-js/issues/1008\nvar MISSED_STICKY = UNSUPPORTED_Y || fails(function () {\n  return !$RegExp('a', 'y').sticky;\n});\n\nvar BROKEN_CARET = UNSUPPORTED_Y || fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n\nmodule.exports = {\n  BROKEN_CARET: BROKEN_CARET,\n  MISSED_STICKY: MISSED_STICKY,\n  UNSUPPORTED_Y: UNSUPPORTED_Y\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","var isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (target, TAG, STATIC) {\n  if (target && !STATIC) target = target.prototype;\n  if (target && !hasOwn(target, TO_STRING_TAG)) {\n    defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.27.2',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2014-2023 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","var anObject = require('../internals/an-object');\nvar aConstructor = require('../internals/a-constructor');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || isNullOrUndefined(S = anObject(C)[SPECIES]) ? defaultConstructor : aConstructor(S);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar stringSlice = uncurryThis(''.slice);\n\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toIntegerOrInfinity(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = charCodeAt(S, position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING\n          ? charAt(S, position)\n          : first\n        : CONVERT_TO_STRING\n          ? stringSlice(S, position, position + 2)\n          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar bind = require('../internals/function-bind-context');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar fails = require('../internals/fails');\nvar html = require('../internals/html');\nvar arraySlice = require('../internals/array-slice');\nvar createElement = require('../internals/document-create-element');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar Dispatch = global.Dispatch;\nvar Function = global.Function;\nvar MessageChannel = global.MessageChannel;\nvar String = global.String;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar $location, defer, channel, port;\n\nfails(function () {\n  // Deno throws a ReferenceError on `location` access without `--location` flag\n  $location = global.location;\n});\n\nvar run = function (id) {\n  if (hasOwn(queue, id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar eventListener = function (event) {\n  run(event.data);\n};\n\nvar globalPostMessageDefer = function (id) {\n  // old engines have not location.origin\n  global.postMessage(String(id), $location.protocol + '//' + $location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(handler) {\n    validateArgumentsLength(arguments.length, 1);\n    var fn = isCallable(handler) ? handler : Function(handler);\n    var args = arraySlice(arguments, 1);\n    queue[++counter] = function () {\n      apply(fn, undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = eventListener;\n    defer = bind(port.postMessage, port);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    isCallable(global.postMessage) &&\n    !global.importScripts &&\n    $location && $location.protocol !== 'file:' &&\n    !fails(globalPostMessageDefer)\n  ) {\n    defer = globalPostMessageDefer;\n    global.addEventListener('message', eventListener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw $TypeError('Not enough arguments');\n  return passed;\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar fails = require('../internals/fails');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// FF99+ bug\nvar BROKEN_ON_SPARSE = fails(function () {\n  return !Array(1).includes();\n});\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineProperty = require('../internals/object-define-property').f;\nvar defineIterator = require('../internals/iterator-define');\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return createIterResultObject(undefined, true);\n  }\n  if (kind == 'keys') return createIterResultObject(index, false);\n  if (kind == 'values') return createIterResultObject(target[index], false);\n  return createIterResultObject([index, target[index]], false);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nvar values = Iterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n// V8 ~ Chrome 45- bug\nif (!IS_PURE && DESCRIPTORS && values.name !== 'values') try {\n  defineProperty(values, 'name', { value: 'values' });\n} catch (error) { /* empty */ }\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\nvar PROMISE_STATICS_INCORRECT_ITERATION = require('../internals/promise-statics-incorrect-iteration');\n\n// `Promise.all` method\n// https://tc39.es/ecma262/#sec-promise.all\n$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aCallable(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        remaining++;\n        call($promiseResolve, C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar FORCED_PROMISE_CONSTRUCTOR = require('../internals/promise-constructor-detection').CONSTRUCTOR;\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\n\n// `Promise.prototype.catch` method\n// https://tc39.es/ecma262/#sec-promise.prototype.catch\n$({ target: 'Promise', proto: true, forced: FORCED_PROMISE_CONSTRUCTOR, real: true }, {\n  'catch': function (onRejected) {\n    return this.then(undefined, onRejected);\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\nif (!IS_PURE && isCallable(NativePromiseConstructor)) {\n  var method = getBuiltIn('Promise').prototype['catch'];\n  if (NativePromisePrototype['catch'] !== method) {\n    defineBuiltIn(NativePromisePrototype, 'catch', method, { unsafe: true });\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar IS_NODE = require('../internals/engine-is-node');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar aCallable = require('../internals/a-callable');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar perform = require('../internals/perform');\nvar Queue = require('../internals/queue');\nvar InternalStateModule = require('../internals/internal-state');\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar PromiseConstructorDetection = require('../internals/promise-constructor-detection');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\n\nvar PROMISE = 'Promise';\nvar FORCED_PROMISE_CONSTRUCTOR = PromiseConstructorDetection.CONSTRUCTOR;\nvar NATIVE_PROMISE_REJECTION_EVENT = PromiseConstructorDetection.REJECTION_EVENT;\nvar NATIVE_PROMISE_SUBCLASSING = PromiseConstructorDetection.SUBCLASSING;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar setInternalState = InternalStateModule.set;\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\nvar PromiseConstructor = NativePromiseConstructor;\nvar PromisePrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\n\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\n\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && isCallable(then = it.then) ? then : false;\n};\n\nvar callReaction = function (reaction, state) {\n  var value = state.value;\n  var ok = state.state == FULFILLED;\n  var handler = ok ? reaction.ok : reaction.fail;\n  var resolve = reaction.resolve;\n  var reject = reaction.reject;\n  var domain = reaction.domain;\n  var result, then, exited;\n  try {\n    if (handler) {\n      if (!ok) {\n        if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n        state.rejection = HANDLED;\n      }\n      if (handler === true) result = value;\n      else {\n        if (domain) domain.enter();\n        result = handler(value); // can throw\n        if (domain) {\n          domain.exit();\n          exited = true;\n        }\n      }\n      if (result === reaction.promise) {\n        reject(TypeError('Promise-chain cycle'));\n      } else if (then = isThenable(result)) {\n        call(then, result, resolve, reject);\n      } else resolve(result);\n    } else reject(value);\n  } catch (error) {\n    if (domain && !exited) domain.exit();\n    reject(error);\n  }\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  microtask(function () {\n    var reactions = state.reactions;\n    var reaction;\n    while (reaction = reactions.get()) {\n      callReaction(reaction, state);\n    }\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_PROMISE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          call(then, value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED_PROMISE_CONSTRUCTOR) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromisePrototype);\n    aCallable(executor);\n    call(Internal, this);\n    var state = getInternalPromiseState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n\n  PromisePrototype = PromiseConstructor.prototype;\n\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: new Queue(),\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n\n  // `Promise.prototype.then` method\n  // https://tc39.es/ecma262/#sec-promise.prototype.then\n  Internal.prototype = defineBuiltIn(PromisePrototype, 'then', function then(onFulfilled, onRejected) {\n    var state = getInternalPromiseState(this);\n    var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n    state.parent = true;\n    reaction.ok = isCallable(onFulfilled) ? onFulfilled : true;\n    reaction.fail = isCallable(onRejected) && onRejected;\n    reaction.domain = IS_NODE ? process.domain : undefined;\n    if (state.state == PENDING) state.reactions.add(reaction);\n    else microtask(function () {\n      callReaction(reaction, state);\n    });\n    return reaction.promise;\n  });\n\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalPromiseState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && isCallable(NativePromiseConstructor) && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!NATIVE_PROMISE_SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      defineBuiltIn(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          call(nativeThen, that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromisePrototype);\n    }\n  }\n}\n\n$({ global: true, constructor: true, wrap: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n","// TODO: Remove this module from `core-js@4` since it's split to modules listed below\nrequire('../modules/es.promise.constructor');\nrequire('../modules/es.promise.all');\nrequire('../modules/es.promise.catch');\nrequire('../modules/es.promise.race');\nrequire('../modules/es.promise.reject');\nrequire('../modules/es.promise.resolve');\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\nvar PROMISE_STATICS_INCORRECT_ITERATION = require('../internals/promise-statics-incorrect-iteration');\n\n// `Promise.race` method\n// https://tc39.es/ecma262/#sec-promise.race\n$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aCallable(C.resolve);\n      iterate(iterable, function (promise) {\n        call($promiseResolve, C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar FORCED_PROMISE_CONSTRUCTOR = require('../internals/promise-constructor-detection').CONSTRUCTOR;\n\n// `Promise.reject` method\n// https://tc39.es/ecma262/#sec-promise.reject\n$({ target: 'Promise', stat: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {\n  reject: function reject(r) {\n    var capability = newPromiseCapabilityModule.f(this);\n    call(capability.reject, undefined, r);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar FORCED_PROMISE_CONSTRUCTOR = require('../internals/promise-constructor-detection').CONSTRUCTOR;\nvar promiseResolve = require('../internals/promise-resolve');\n\nvar PromiseConstructorWrapper = getBuiltIn('Promise');\nvar CHECK_WRAPPER = IS_PURE && !FORCED_PROMISE_CONSTRUCTOR;\n\n// `Promise.resolve` method\n// https://tc39.es/ecma262/#sec-promise.resolve\n$({ target: 'Promise', stat: true, forced: IS_PURE || FORCED_PROMISE_CONSTRUCTOR }, {\n  resolve: function resolve(x) {\n    return promiseResolve(CHECK_WRAPPER && this === PromiseConstructorWrapper ? NativePromiseConstructor : this, x);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es/no-string-prototype-endswith -- safe\nvar nativeEndsWith = uncurryThis(''.endsWith);\nvar slice = uncurryThis(''.slice);\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = toString(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = that.length;\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = toString(searchString);\n    return nativeEndsWith\n      ? nativeEndsWith(that, search, end)\n      : slice(that, end - search.length, end) === search;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","'use strict';\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getMethod = require('../internals/get-method');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\nvar concat = uncurryThis([].concat);\nvar push = uncurryThis([].push);\nvar stringIndexOf = uncurryThis(''.indexOf);\nvar stringSlice = uncurryThis(''.slice);\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = isNullOrUndefined(searchValue) ? undefined : getMethod(searchValue, REPLACE);\n      return replacer\n        ? call(replacer, searchValue, O, replaceValue)\n        : call(nativeReplace, toString(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (\n        typeof replaceValue == 'string' &&\n        stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&\n        stringIndexOf(replaceValue, '$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var functionalReplace = isCallable(replaceValue);\n      if (!functionalReplace) replaceValue = toString(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        push(results, result);\n        if (!global) break;\n\n        var matchStr = toString(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = toString(result[0]);\n        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = concat([matched], captures, position, S);\n          if (namedCaptures !== undefined) push(replacerArgs, namedCaptures);\n          var replacement = toString(apply(replaceValue, undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + stringSlice(S, nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es/no-string-prototype-startswith -- safe\nvar nativeStartsWith = uncurryThis(''.startsWith);\nvar stringSlice = uncurryThis(''.slice);\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = toString(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = toString(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith(that, search, index)\n      : stringSlice(that, index, index + search.length) === search;\n  }\n});\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var thisSymbolValue = uncurryThis(SymbolPrototype.valueOf);\n  var symbolDescriptiveString = uncurryThis(SymbolPrototype.toString);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = thisSymbolValue(this);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var string = symbolDescriptiveString(symbol);\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, constructor: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nvar handlePrototype = function (CollectionPrototype, COLLECTION_NAME) {\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype, COLLECTION_NAME);\n}\n\nhandlePrototype(DOMTokenListPrototype, 'DOMTokenList');\n","import * as DontCode from '../globals';\n\n/**\n * Stores and manipulate the schema representing a dont-code application\n */\nexport interface DontCodeSchemaItem {\n  isObject(): boolean;\n  isArray(): boolean;\n  isEnum(): boolean;\n  isValue(): boolean;\n  isReference(): boolean;\n  isRoot(): boolean;\n  isReadonly(): boolean;\n  isHidden(): boolean;\n\n  /**\n   * Adds or update a child with the change given by the plugin\n   * @param change\n   */\n  upsertWith(change: DontCode.ChangeConfig): boolean;\n\n  /**\n   * Updates the Schema Item with the given change config\n   * @param update\n   */\n  updateWith(update: DontCode.ChangeConfig): void;\n\n  getParent(): DontCodeSchemaItem | undefined;\n  getChild(id?: string): DontCodeSchemaItem | undefined;\n  //  getChildIndex (child:DontCodeSchemaItem): number;\n  getChildren(): IterableIterator<[string, DontCodeSchemaItem]>;\n\n  /**\n   * Returns all properties\n   */\n  allProperties(): IterableIterator<[string, DontCodeSchemaProperty]>;\n  getProperties(code: string): DontCodeSchemaProperty | undefined;\n  hasProperties(code: string): boolean;\n\n  /**\n   * Check if possibly the property named code can be assigned to this schemaItem by one of its child dynamically.\n   * @param code\n   */\n  isPossibleDynamicProperty(code: string): DontCodeSchemaProperty | undefined;\n\n  /**\n   * Returns all the children and the dynamic properties that could appear depending on the data\n   */\n  getChildrenAndPossibleProperties (): IterableIterator<[string, DontCodeSchemaItem]>;\n\n  getRelativeId(): string | undefined;\n  setRelativeId(relativeId: string | undefined): void;\n\n  getTargetPath(): string | undefined;\n}\n\nexport abstract class AbstractSchemaItem implements DontCodeSchemaItem {\n  protected parent: DontCodeSchemaItem | undefined;\n  protected array = false;\n  protected readOnly = false;\n  protected hidden = false;\n  protected relativeId: string | undefined;\n  protected targetPath: string | undefined;\n\n  protected constructor(\n    parent: DontCodeSchemaItem | undefined,\n    relativeId?: string\n  ) {\n    this.parent = parent;\n    this.relativeId = relativeId;\n  }\n\n  isArray(): boolean {\n    return this.array;\n  }\n\n  setArray(val: boolean) {\n    this.array = val;\n  }\n\n  isEnum(): boolean {\n    return false;\n  }\n\n  isObject(): boolean {\n    return false;\n  }\n\n  isReference(): boolean {\n    return false;\n  }\n\n  isValue(): boolean {\n    return false;\n  }\n\n  isRoot(): boolean {\n    return false;\n  }\n\n  isHidden(): boolean {\n    return this.hidden;\n  }\n\n  setHidden(val: boolean): void {\n    this.hidden = val;\n  }\n\n  isReadonly(): boolean {\n    return this.readOnly;\n  }\n\n  setReadonly(val: boolean): void {\n    this.readOnly = val;\n  }\n\n  public static generateItem(\n    json: any,\n    itemId: string,\n    parent?: DontCodeSchemaItem\n  ): AbstractSchemaItem {\n    let isArray = Array.isArray(json);\n\n    if (isArray) {\n      console.error('arrays are not supported', json);\n      return json;\n    }\n\n    let ret: AbstractSchemaItem;\n    isArray = false;\n\n    if (json['type']) {\n      const type = json['type'];\n      switch (type) {\n        case 'object':\n          ret = new DontCodeSchemaObject(json, itemId, parent);\n          break;\n        case 'array':\n          ret = this.generateItem(json['items'], itemId, parent);\n          isArray = true;\n          break;\n        default:\n          ret = new DontCodeSchemaValue(json, itemId, parent);\n      }\n    } else if (json['enum']) {\n      ret = new DontCodeSchemaEnum(json, itemId, parent);\n    } else if (json['$ref']) {\n      ret = new DontCodeSchemaRef(json, itemId, parent);\n    } else {\n      return json;\n    }\n    if (json['readOnly'] === true) ret.setReadonly(true);\n    if (json['writeOnly'] === true) ret.setHidden(true);\n    ret.setArray(isArray);\n    return ret;\n  }\n\n  public static isObject(item: any): boolean {\n    return typeof item === 'object' && !Array.isArray(item) && item !== null;\n  }\n\n  public static goto(\n    entity: DontCodeSchemaItem,\n    to: string\n  ): DontCodeSchemaItem | undefined {\n    let ret: DontCodeSchemaItem | undefined = entity;\n    to.split('/').forEach((value) => {\n      if (value !== '#' && value != '') {\n        ret = ret?.getChild(value);\n      }\n      if (!ret) {\n        console.error(\n          'Cannot find ' + value + ' of ' + to + ' in the following item ',\n          entity\n        );\n      }\n    });\n    return ret;\n  }\n\n  upsertWith(change: DontCode.ChangeConfig): boolean {\n    return false;\n  }\n\n  getParent(): DontCodeSchemaItem | undefined {\n    return this.parent;\n  }\n\n  getChild(id?: string): DontCodeSchemaItem | undefined {\n    return;\n  }\n\n  getChildren(): IterableIterator<[string, DontCodeSchemaItem]> {\n    return new Map().entries();\n  }\n\n  updateWith(update: DontCode.ChangeConfig): void {\n    //\n  }\n\n  allProperties(): IterableIterator<[string, DontCodeSchemaProperty]> {\n    return [].values();\n  }\n\n  getProperties(code: string): DontCodeSchemaProperty | undefined {\n    return undefined;\n  }\n\n  hasProperties(code: string): boolean {\n    return false;\n  }\n\n  getRelativeId(): string | undefined {\n    return this.relativeId;\n  }\n  setRelativeId(relativeId: string | undefined) {\n    this.relativeId = relativeId;\n  }\n\n  getTargetPath(): string | undefined {\n    return this.targetPath;\n  }\n\n  setTargetPath(newPath: string): void {\n    this.targetPath = newPath;\n  }\n\n  isPossibleDynamicProperty(code: string): DontCodeSchemaProperty | undefined {\n    const children = this.getChildren();\n    for (const child of children) {\n      const childProps = child[1].allProperties();\n      for (const childProp of childProps) {\n        if (childProp[1].getChild(code)) {\n          return childProp[1];\n        }\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Returns all properties that can be used by this SchemaItem depending on the values entered\n   */\n  getAllPossibleDynamicProperties ():IterableIterator<[string, DontCodeSchemaItem]> {\n    const children = this.getChildren();\n    const ret = new Map<string, DontCodeSchemaItem>();\n    for (const child of children) {\n      const childProps = child[1].allProperties();\n      for (const childProp of childProps) {\n        for (const childChildProp of childProp[1].getChildren()) {\n          if (ret.has(childChildProp[0])) {\n            console.warn(\"Dynamic Property \"+childChildProp[0]+\" is being defined by multiple children.\");\n          }\n          ret.set(childChildProp[0], childChildProp[1]);\n        }\n      }\n    }\n    return ret.entries();\n  }\n\n  /**\n   * Returns the list of children and all possible dynamic properties that can be created depending on the values entered\n   */\n  getChildrenAndPossibleProperties(): IterableIterator<[string, DontCodeSchemaItem]> {\n    return concatIterable(this.getChildren(), this.getAllPossibleDynamicProperties());\n  }\n\n}\n\n/**\n * Generator function to combine multiple iterators into one\n * @param iterators\n */\nexport function* concatIterable<T>(...iterators: IterableIterator<T>[]) {\n  for (let i of iterators) {\n      i = i[Symbol.iterator]();\n\n    let f: IteratorResult<T> | Promise<IteratorResult<T>>;\n    while (true) {\n      f = i.next();\n      if (f.done) {\n        break;\n      }\n      yield f.value;\n    }\n  }\n}\n\n/**\n * Handles an item defined as an object consisting of a name and a set of named children\n */\nexport class DontCodeSchemaObject extends AbstractSchemaItem {\n  protected children = new Map<string, DontCodeSchemaItem>();\n\n  constructor(json: any, relativeId?: string, parent?: DontCodeSchemaItem) {\n    super(parent, relativeId);\n    if (json) this.readJson(json);\n  }\n\n  protected readJson(json: any) {\n    const props = json['properties'];\n    if (props) {\n      for (const key in props) {\n        this.children.set(\n          key,\n          AbstractSchemaItem.generateItem(props[key], key, this)\n        );\n      }\n    }\n    /*const definitions =json['$defs'];\n    if( definitions) {\n      const defsItem=AbstractSchemaItem.generateItem(definitions, '$defs', this);\n      this.children.set('$defs', defsItem);\n    }*/\n  }\n\n  override isEnum(): boolean {\n    return false;\n  }\n\n  override isObject(): boolean {\n    return true;\n  }\n\n  override isReference(): boolean {\n    return false;\n  }\n\n  override isValue(): boolean {\n    return false;\n  }\n\n  override isRoot(): boolean {\n    return false;\n  }\n\n  override upsertWith(change: DontCode.ChangeConfig): boolean {\n    const existsOrNot = this.getChild(change.location.id);\n    if (!existsOrNot) {\n      if (change.location.id!=null) {\n        const exists = AbstractSchemaItem.generateItem(\n          change.update,\n          change.location.id,\n          this\n        );\n        if (change.location.after) {\n          const newMap = new Map<string, DontCodeSchemaItem>();\n          this.children.forEach((value, key) => {\n            newMap.set(key, value);\n            if ((key === change.location.after)&&(change.location.id!=null)) {\n              newMap.set(change.location.id, exists);\n            }\n          });\n          this.children = newMap;\n        } else {\n          this.children.set(change.location.id, exists);\n        }\n        exists.updateWith(change);\n      }\n    } else {\n      // Make sure to load the sub-properties\n      existsOrNot.updateWith(change);\n    }\n    return true;\n  }\n\n  override updateWith(update: DontCode.ChangeConfig) {\n    super.updateWith(update);\n  }\n\n  override getChild(id?: string): DontCodeSchemaItem | undefined {\n    if (id) return this.children.get(id);\n    else return;\n  }\n\n  override getChildren(): IterableIterator<[string, DontCodeSchemaItem]> {\n    return this.children.entries();\n  }\n\n  /*getChildIndex(child: DontCodeSchemaItem): number {\n    let ret=-1;\n    this.children.forEach((value, key) => {\n      ret++;\n      if( value===child)\n        return ret;\n    })\n    return -1;\n  }*/\n}\n\n/**\n * The root item of the model is a specialized object\n */\nexport class DontCodeSchemaRoot extends DontCodeSchemaObject {\n  constructor(json?: any) {\n    super(json, undefined);\n  }\n\n  protected override readJson(json: any) {\n    super.readJson(json);\n\n    // Let the base class believe it's a property and do all the work !\n    const $defs = json['$defs'];\n    if ($defs) {\n      this.children.set(\n        '$defs',\n        new DontCodeSchemaObject(\n          {\n            properties: $defs,\n          },\n          '$defs',\n          this\n        )\n      );\n    }\n  }\n\n  override isEnum(): boolean {\n    return false;\n  }\n\n  override isObject(): boolean {\n    return true;\n  }\n\n  override isReference(): boolean {\n    return false;\n  }\n\n  override isValue(): boolean {\n    return false;\n  }\n  override isRoot(): boolean {\n    return true;\n  }\n}\n\n/**\n * Supports selection of a value amongst a list (or a hierarchical tree)\n */\nexport class DontCodeSchemaEnum extends AbstractSchemaItem {\n  protected values = new Array<DontCodeSchemaEnumValue>();\n  protected properties = new Map<string, DontCodeSchemaProperty>();\n\n  constructor(json: any, relativeId?: string, parent?: DontCodeSchemaItem) {\n    super(parent, relativeId);\n    this.updateValues(json['enum'], this.values);\n    this.targetPath = json['format'];\n  }\n\n  override isEnum(): boolean {\n    return true;\n  }\n\n  override isObject(): boolean {\n    return false;\n  }\n\n  override isReference(): boolean {\n    return false;\n  }\n\n  override isValue(): boolean {\n    return false;\n  }\n\n  override isRoot(): boolean {\n    return false;\n  }\n\n  getValues(): Array<DontCodeSchemaEnumValue> {\n    return this.values;\n  }\n\n  override updateWith(update: DontCode.ChangeConfig) {\n    super.updateWith(update);\n    this.updateValues(update.update['enum'], this.values, update);\n  }\n\n  updateValues(\n    values: Array<any>,\n    destination: Array<DontCodeSchemaEnumValue>,\n    from?: DontCode.ChangeConfig\n  ): void {\n    values.forEach((value) => {\n      if (typeof value === 'string') {\n        if (\n          !destination.find((dest) => {\n            return dest.getValue() === value;\n          })\n        ) {\n          destination.push(new DontCodeSchemaEnumValue(value));\n        }\n        if (from?.props) {\n          const props = new DontCodeSchemaProperty(\n            from,\n            this.relativeId + '=' + value,\n            this\n          );\n          if (!props.isEmpty()) this.properties.set(value, props);\n        }\n      } else {\n        for (const subKey in value) {\n          if (value.hasOwnProperty(subKey)) {\n            let enumValue = destination.find((dest) => {\n              return dest.getValue() === value;\n            });\n            if (!enumValue) {\n              enumValue = new DontCodeSchemaEnumValue(subKey);\n              destination.push(enumValue);\n            }\n            if (!enumValue.getChildren()) enumValue.setChildren([]);\n            this.updateValues(\n              value[subKey].enum,\n              enumValue.getChildren(),\n              from\n            );\n          }\n        }\n      }\n    });\n  }\n\n  override allProperties(): IterableIterator<[string, DontCodeSchemaProperty]> {\n    return this.properties.entries();\n  }\n\n  override getProperties(code: string): DontCodeSchemaProperty | undefined {\n    return this.properties.get(code);\n  }\n\n  override hasProperties(code: string): boolean {\n    return this.properties.has(code);\n  }\n}\n\n/**\n * A Simple class to store possible hierarchies of values, and separate label from the model value\n */\nexport class DontCodeSchemaEnumValue {\n  private _label: string;\n  private _value: string;\n  private _children = new Array<DontCodeSchemaEnumValue>();\n\n  constructor(value: string, label?: string) {\n    this._value = value;\n    if (label) {\n      this._label = label;\n    } else {\n      this._label = value;\n    }\n  }\n\n  getLabel(): string {\n    if (this._label) return this._label;\n    else return this._value;\n  }\n\n  setLabel(value: string) {\n    this._label = value;\n  }\n\n  getValue(): string {\n    return this._value;\n  }\n\n  setValue(value: string) {\n    this._value = value;\n  }\n\n  getChildren(): Array<DontCodeSchemaEnumValue> {\n    return this._children;\n  }\n\n  setChildren(value: Array<DontCodeSchemaEnumValue>) {\n    this._children = value;\n  }\n}\n\n/**\n * The model item is just a value that the user can change\n */\nexport class DontCodeSchemaValue extends AbstractSchemaItem {\n  protected type: string;\n\n  constructor(json: any, relativeId?: string, parent?: DontCodeSchemaItem) {\n    super(parent, relativeId);\n    this.type = json['type'];\n    this.targetPath = json['format'];\n  }\n\n  override isValue(): boolean {\n    return true;\n  }\n\n  getType(): string {\n    return this.type;\n  }\n}\n\n/**\n * This item is a reference (in json-schema term) to a definition elsewhere in the schema.\n */\nexport class DontCodeSchemaRef extends AbstractSchemaItem {\n  protected ref: string;\n  protected resolvedRef = new Map<string, DontCodeSchemaItem>();\n\n  constructor(json: any, relativeId?: string, parent?: DontCodeSchemaItem) {\n    super(parent, relativeId);\n    this.ref = json['$ref'];\n  }\n\n  override isReference(): boolean {\n    return true;\n  }\n\n  getReference(): string {\n    return this.ref;\n  }\n\n  resolveReference(resolved: DontCodeSchemaItem) {\n    this.resolvedRef.set('', resolved);\n  }\n\n  override getChildren(): IterableIterator<[string, DontCodeSchemaItem]> {\n    return this.resolvedRef.entries();\n  }\n}\n\n/**\n * An Object Item in the schema can define alternative subproperties that are used depending on some values.\n */\nexport class DontCodeSchemaProperty extends DontCodeSchemaObject {\n  protected replace: boolean;\n  protected posAfter?: string;\n\n  constructor(\n    json: DontCode.ChangeConfig,\n    relativeId: string,\n    parent: DontCodeSchemaItem\n  ) {\n    super(\n      {\n        type: 'object',\n        properties: json.props,\n      },\n      relativeId,\n      parent\n    );\n    if (json.replace) {\n      this.replace = json.replace;\n    } else {\n      this.replace = false;\n    }\n    this.posAfter = json.location.after;\n  }\n\n  isEmpty(): boolean {\n    return this.children.size == 0;\n  }\n\n  isReplace(): boolean {\n    return this.replace;\n  }\n\n  getPosAfter(): string | undefined {\n    return this.posAfter;\n  }\n}\n","export class DontCodeModel {\n  static readonly ROOT = 'creation';\n  static readonly APP_NAME_NODE = 'name';\n  static readonly APP_TYPE_NODE = 'type';\n  static readonly APP_TYPE =\n    DontCodeModel.ROOT + '/' + DontCodeModel.APP_TYPE_NODE;\n  static readonly APP_NAME =\n    DontCodeModel.ROOT + '/' + DontCodeModel.APP_NAME_NODE;\n  static readonly APP_ENTITIES_NODE = 'entities';\n  static readonly APP_ENTITIES =\n    DontCodeModel.ROOT + '/' + DontCodeModel.APP_ENTITIES_NODE;\n  static readonly APP_ENTITIES_FROM_NODE = 'from';\n  static readonly APP_ENTITIES_FROM =\n    DontCodeModel.APP_ENTITIES + '/' + DontCodeModel.APP_ENTITIES_FROM_NODE;\n  static readonly APP_ENTITIES_NAME_NODE = 'name';\n  static readonly APP_ENTITIES_NAME =\n    DontCodeModel.APP_ENTITIES + '/' + DontCodeModel.APP_ENTITIES_NAME_NODE;\n  static readonly APP_FIELDS_NODE = 'fields';\n  static readonly APP_FIELDS =\n    DontCodeModel.APP_ENTITIES + '/' + DontCodeModel.APP_FIELDS_NODE;\n  static readonly APP_FIELDS_NAME_NODE = 'name';\n  static readonly APP_FIELDS_NAME =\n    DontCodeModel.APP_FIELDS + '/' + DontCodeModel.APP_FIELDS_NAME_NODE;\n  static readonly APP_FIELDS_TYPE_NODE = 'type';\n  static readonly APP_FIELDS_TYPE =\n    DontCodeModel.APP_FIELDS + '/' + DontCodeModel.APP_FIELDS_TYPE_NODE;\n  static readonly APP_SHARING_NODE = 'sharing';\n  static readonly APP_SHARING =\n    DontCodeModel.ROOT + '/' + DontCodeModel.APP_SHARING_NODE;\n  static readonly APP_SHARING_WITH_NODE = 'with';\n  static readonly APP_SHARING_WITH =\n    DontCodeModel.APP_SHARING + '/' + DontCodeModel.APP_SHARING_WITH_NODE;\n  static readonly APP_REPORTS_NODE = 'reports';\n  static readonly APP_REPORTS =\n    DontCodeModel.ROOT + '/' + DontCodeModel.APP_REPORTS_NODE;\n  static readonly APP_REPORTS_TITLE_NODE = 'title';\n  static readonly APP_REPORTS_TITLE =\n    DontCodeModel.APP_REPORTS + '/' + DontCodeModel.APP_REPORTS_TITLE_NODE;\n  static readonly APP_REPORTS_FOR_NODE = 'for';\n  static readonly APP_REPORTS_FOR =\n    DontCodeModel.APP_REPORTS + '/' + DontCodeModel.APP_REPORTS_FOR_NODE;\n  static readonly APP_REPORTS_GROUP_NODE = 'groupedBy';\n  static readonly APP_REPORTS_GROUP =\n    DontCodeModel.APP_REPORTS + '/' + DontCodeModel.APP_REPORTS_GROUP_NODE;\n  static readonly APP_REPORTS_SORT_NODE = 'sortedBy';\n  static readonly APP_REPORTS_SORT =\n    DontCodeModel.APP_REPORTS + '/' + DontCodeModel.APP_REPORTS_SORT_NODE;\n  static readonly APP_REPORTS_DISPLAY_NODE = 'as';\n  static readonly APP_REPORTS_DISPLAY =\n    DontCodeModel.APP_REPORTS + '/' + DontCodeModel.APP_REPORTS_DISPLAY_NODE;\n  static readonly APP_REPORTS_GROUP_LABEL_NODE = 'label';\n  static readonly APP_REPORTS_GROUP_LABEL =\n    DontCodeModel.APP_REPORTS_GROUP + '/' + DontCodeModel.APP_REPORTS_GROUP_LABEL_NODE;\n  static readonly APP_REPORTS_GROUP_OF_NODE = 'of';\n  static readonly APP_REPORTS_GROUP_OF =\n    DontCodeModel.APP_REPORTS_GROUP + '/' + DontCodeModel.APP_REPORTS_GROUP_OF_NODE;\n  static readonly APP_REPORTS_GROUP_SHOW_NODE = 'show';\n  static readonly APP_REPORTS_GROUP_SHOW =\n    DontCodeModel.APP_REPORTS_GROUP + '/' + DontCodeModel.APP_REPORTS_GROUP_SHOW_NODE;\n  static readonly APP_REPORTS_GROUP_AGGREGATE_NODE = 'display';\n  static readonly APP_REPORTS_GROUP_AGGREGATE =\n    DontCodeModel.APP_REPORTS_GROUP + '/' + DontCodeModel.APP_REPORTS_GROUP_AGGREGATE_NODE;\n  static readonly APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE = 'label';\n  static readonly APP_REPORTS_GROUP_AGGREGATE_LABEL =\n    DontCodeModel.APP_REPORTS_GROUP_AGGREGATE + '/' + DontCodeModel.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE;\n  static readonly APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE = 'operation';\n  static readonly APP_REPORTS_GROUP_AGGREGATE_OPERATION =\n    DontCodeModel.APP_REPORTS_GROUP_AGGREGATE + '/' + DontCodeModel.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE;\n  static readonly APP_REPORTS_GROUP_AGGREGATE_OF_NODE = 'of';\n  static readonly APP_REPORTS_GROUP_AGGREGATE_OF =\n    DontCodeModel.APP_REPORTS_GROUP_AGGREGATE + '/' + DontCodeModel.APP_REPORTS_GROUP_AGGREGATE_OF_NODE;\n  static readonly APP_REPORTS_SORT_BY_NODE = 'by';\n  static readonly APP_REPORTS_SORT_BY =\n    DontCodeModel.APP_REPORTS_SORT + '/' + DontCodeModel.APP_REPORTS_SORT_BY_NODE;\n  static readonly APP_REPORTS_SORT_DIRECTION_NODE = 'direction';\n  static readonly APP_REPORTS_SORT_DIRECTION =\n    DontCodeModel.APP_REPORTS_SORT + '/' + DontCodeModel.APP_REPORTS_SORT_DIRECTION_NODE;\n  static readonly APP_REPORTS_DISPLAY_TITLE_NODE = 'title';\n  static readonly APP_REPORTS_DISPLAY_TITLE =\n    DontCodeModel.APP_REPORTS_DISPLAY + '/' + DontCodeModel.APP_REPORTS_DISPLAY_TITLE_NODE;\n  static readonly APP_REPORTS_DISPLAY_TYPE_NODE = 'type';\n  static readonly APP_REPORTS_DISPLAY_TYPE =\n    DontCodeModel.APP_REPORTS_DISPLAY + '/' + DontCodeModel.APP_REPORTS_DISPLAY_TYPE_NODE;\n  static readonly APP_REPORTS_DISPLAY_OF_NODE = 'of';\n  static readonly APP_REPORTS_DISPLAY_OF =\n    DontCodeModel.APP_REPORTS_DISPLAY + '/' + DontCodeModel.APP_REPORTS_DISPLAY_OF_NODE;\n  static readonly APP_REPORTS_DISPLAY_BY_NODE = 'by';\n  static readonly APP_REPORTS_DISPLAY_BY =\n    DontCodeModel.APP_REPORTS_DISPLAY + '/' + DontCodeModel.APP_REPORTS_DISPLAY_BY_NODE;\n  static readonly APP_SOURCES_NODE = 'sources';\n  static readonly APP_SOURCES =\n    DontCodeModel.ROOT + '/' + DontCodeModel.APP_SOURCES_NODE;\n  static readonly APP_SOURCES_NAME_NODE = 'name';\n  static readonly APP_SOURCES_NAME =\n    DontCodeModel.ROOT +\n    '/' +\n    DontCodeModel.APP_SOURCES_NODE +\n    '/' +\n    DontCodeModel.APP_SOURCES_NAME_NODE;\n  static readonly APP_SOURCES_TYPE_NODE = 'type';\n  static readonly APP_SOURCES_TYPE =\n    DontCodeModel.ROOT +\n    '/' +\n    DontCodeModel.APP_SOURCES_NODE +\n    '/' +\n    DontCodeModel.APP_SOURCES_TYPE_NODE;\n  static readonly APP_SOURCES_URL_NODE = 'url';\n  static readonly APP_SOURCES_URL =\n    DontCodeModel.ROOT +\n    '/' +\n    DontCodeModel.APP_SOURCES_NODE +\n    '/' +\n    DontCodeModel.APP_SOURCES_URL_NODE;\n  static readonly APP_SCREENS_NODE = 'screens';\n  static readonly APP_SCREENS =\n    DontCodeModel.ROOT + '/' + DontCodeModel.APP_SCREENS_NODE;\n  static readonly APP_SCREENS_NAME_NODE = 'name';\n  static readonly APP_SCREENS_NAME =\n    DontCodeModel.APP_SCREENS + '/' + DontCodeModel.APP_SCREENS_NAME_NODE;\n  static readonly APP_SCREENS_LAYOUT_NODE = 'layout';\n  static readonly APP_SCREENS_LAYOUT =\n    DontCodeModel.APP_SCREENS + '/' + DontCodeModel.APP_SCREENS_LAYOUT_NODE;\n  static readonly APP_COMPONENTS_NODE = 'components';\n  static readonly APP_COMPONENTS =\n    DontCodeModel.APP_SCREENS + '/' + DontCodeModel.APP_COMPONENTS_NODE;\n  static readonly APP_COMPONENTS_TYPE_NODE = 'type';\n  static readonly APP_COMPONENTS_TYPE =\n    DontCodeModel.APP_COMPONENTS + '/' + DontCodeModel.APP_COMPONENTS_TYPE_NODE;\n  static readonly APP_COMPONENTS_ENTITY_NODE = 'entity';\n  static readonly APP_COMPONENTS_ENTITY =\n    DontCodeModel.APP_COMPONENTS +\n    '/' +\n    DontCodeModel.APP_COMPONENTS_ENTITY_NODE;\n}\n","import { DontCodeModel } from './dont-code-model';\nimport { DontCodeSchemaManager } from './dont-code-schema-manager';\n\nexport class DontCodeSchema {\n  static ROOT = '/properties/' + DontCodeModel.ROOT;\n\n  /**\n   * This is a copy of dont-code-schema.json, please don't forget to update\n   */\n  static defaultv1 = {\n    \"$id\": \"https://dont-code.net/v1/dont-code-schema.json\",\n    \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n    \"description\": \"JSON Schema v1 for dont-code\",\n    \"type\": \"object\",\n    \"required\": [\"creation\"],\n    \"properties\": {\n      \"creation\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"type\": {\n            \"enum\": [\"Application\"]\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"entities\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/$defs/entity\"\n            }\n          },\n          \"sharing\": {\n            \"$ref\": \"#/$defs/sharing\"\n          },\n          \"reports\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/$defs/report\"\n            }\n          },\n          \"sources\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/$defs/source\"\n            }\n          },\n          \"screens\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/$defs/screen\"\n            }\n          }\n        },\n        \"additionalProperties\": false\n      }\n    },\n    \"$defs\": {\n      \"entity\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"from\": {\n            \"type\": \"string\",\n            \"format\": \"$.creation.sources.name\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"fields\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/$defs/field\"\n            }\n          }\n        },\n        \"additionalProperties\": false\n      },\n      \"field\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"type\": {\n            \"enum\": [\n              \"Text\",\n              \"Number\",\n              \"Boolean\",\n              {\n                \"Time\": {\n                  \"enum\": [\"Date\", \"Date & Time\", \"Time\"]\n                }\n              },\n              {\n                \"Money\": {\n                  \"enum\": [\"Dollar\", \"Euro\", \"Other currency\"]\n                },\n                \"Web\": {\n                  \"enum\": [\"Website (url)\", \"Image\"]\n                }\n              }, {\n                \"Special\": {\n                  \"enum\": [\"Reference\"]\n                }\n              }\n            ]\n          }\n        },\n        \"additionalProperties\": false\n      },\n      \"sharing\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"with\": {\n            \"enum\": [\"No-one\"]\n          }\n        },\n        \"additionalProperties\": false\n      },\n      \"source\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"type\": {\n            \"enum\": [\"Unknown\"]\n          }\n        }\n      },\n      \"report\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"title\": {\n            \"type\": \"string\"\n          },\n          \"for\": {\n            \"type\": \"string\",\n            \"format\": \"$.creation.entities.name\"\n          },\n          \"groupedBy\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/$defs/report-group\"\n            }\n          },\n          \"sortedBy\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/$defs/report-sort\"\n            }\n          },\n          \"as\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/$defs/report-display\"\n            }\n          }\n        },\n        \"additionalProperties\": false\n      },\n      \"report-group\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"of\": {\n            \"type\": \"string\",\n            \"format\": \".fields.name\"\n          },\n          \"label\": {\n            \"type\": \"string\"\n          },\n          \"show\": {\n            \"enum\": [\"OnlyLowest\", \"OnlyHighest\"]\n          },\n          \"display\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/$defs/report-group-aggregate\"\n            }\n          }\n        },\n        \"additionalProperties\": false\n      },\n      \"report-group-aggregate\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"operation\": {\n            \"enum\": [\"Count\", \"Sum\", \"Average\", \"Minimum\", \"Maximum\"]\n          },\n          \"of\": {\n            \"type\": \"string\",\n            \"format\": \".@parent.fields.name\"\n          },\n          \"label\": {\n            \"type\": \"string\"\n          }\n        },\n        \"additionalProperties\": false\n      },\n      \"report-sort\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"by\": {\n            \"type\": \"string\",\n            \"format\": \".fields.name\"\n          },\n          \"direction\": {\n            \"enum\": [\"None\", \"Ascending\", \"Descending\"]\n          }\n        },\n        \"additionalProperties\": false\n      },\n      \"report-display\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"type\": {\n            \"enum\": [\"Table\", \"Bar\", \"Line\", \"Pie\"]\n          },\n          \"of\": {\n            \"type\": \"string\",\n            \"format\": \".@parent.fields.name\"\n          },\n          \"by\": {\n            \"type\": \"string\",\n            \"format\": \".@parent.fields.name\"\n          },\n          \"title\": {\n            \"type\": \"string\"\n          }\n        },\n        \"additionalProperties\": false\n      },\n\n      \"screen\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"layout\": {\n            \"enum\": [\"Flow\", \"Grid\"]\n          },\n          \"components\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/$defs/component\"\n            }\n          }\n        },\n        \"additionalProperties\": false\n      },\n      \"component\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"type\": {\n            \"enum\": [\"List\", \"Edit\", \"View\"]\n          },\n          \"entity\": {\n            \"type\": \"string\",\n            \"format\": \"$.creation.entities.name\"\n          }\n        },\n        \"additionalProperties\": false\n      }\n    }\n  }\n}\n\n  /**\n * Store all information needed to point to a single element in a model.\n */\n  export class DontCodeModelPointer {\n  position: string;\n\n  positionInSchema: string;\n\n  containerPosition?: string; // undefined as root does not have container...\n  containerPositionInSchema?: string; // undefined as root does not have container...\n\n  lastElement: string;\n  isProperty?: boolean;\n\n  constructor(\n    position: string,\n    schemaPosition: string,\n    containerPosition?: string,\n    containerSchemaPosition?: string,\n    lastElement?: string,\n    isProperty?: boolean\n  ) {\n    this.position = position;\n    this.positionInSchema = schemaPosition;\n    this.containerPosition = containerPosition;\n    this.containerPositionInSchema = containerSchemaPosition;\n    if (lastElement) this.lastElement = lastElement;\n    else this.lastElement = '';\n    this.isProperty = isProperty;\n    this.fillMissingElements();\n  }\n\n  fillMissingElements(optionalSchemaMgr?: DontCodeSchemaManager): void {\n    if (this.position == null || this.positionInSchema == null) {\n      throw new Error('Cannot fill Elements for an empty position');\n    }\n\n    if (this.containerPosition == null) {\n      this.containerPosition =\n        DontCodeModelPointer.parentPosition(this.position) ?? undefined;\n    }\n    if (this.containerPositionInSchema == null) {\n      this.containerPositionInSchema =\n        DontCodeModelPointer.parentPosition(this.positionInSchema) ?? undefined;\n    }\n    if (this.lastElement == null || this.lastElement.length == 0) {\n      this.lastElement =\n        DontCodeModelPointer.lastElementOf(this.position) ?? this.position;\n    }\n\n    if (this.isProperty == null && optionalSchemaMgr) {\n      if (this.containerPositionInSchema)\n        this.isProperty =\n          optionalSchemaMgr\n            .locateItem(this.containerPositionInSchema, true)\n            .getChild(this.lastElement) != null;\n      else this.isProperty = true; // We only have properties at root level\n    }\n  }\n\n  /**\n   * Finds the last element of this position\n   * @param position\n   */\n  public static lastElementOf(position?: string): string | undefined {\n    if (position == null) return position;\n    return position.substring(position.lastIndexOf('/') + 1);\n  }\n\n  /**\n   * Finds the next item in the position and returns its value and position in the string\n   * @param position\n   * @param from\n   */\n  public static nextItemAndPosition(\n    position: string,\n    from: number\n  ): { pos: number; value: string | null } {\n    let posSlash = position.indexOf('/', from);\n    if (posSlash === from) {\n      from = from + 1;\n      posSlash = position.indexOf('/', from);\n    }\n    if (posSlash !== -1) posSlash = posSlash - 1;\n    else {\n      if (posSlash === from) {\n        posSlash = -1;\n      } else {\n        posSlash = position.length - 1;\n      }\n    }\n\n    let value = null;\n    if (posSlash !== -1) value = position.substring(from, posSlash + 1);\n\n    return {\n      pos: posSlash,\n      value: value,\n    };\n  }\n\n  /**\n   * Find the name of the last element pointed by this pointer\n   * Usually it's the value of key (if it's a field) or the last container name (if it's an element in a container like entity/a/fields/a)\n   * @deprecated\n   */\n\n  calculateKeyOrContainer(): string {\n    if (this.isProperty === true) {\n      return this.lastElement;\n    } else {\n      return DontCodeModelPointer.lastElementOf(this.containerPosition) ?? '';\n    }\n  }\n\n  /**\n   * Find the ItemId or container key represented by the pointer\n   * Usually it's the id of the item (if it's an element in a container like entity/a/fields/a) or the last container name\n   * @Deprecated\n   */\n  calculateItemIdOrContainer(): string | undefined {\n    if (this.isProperty === false) {\n      return this.lastElement;\n    } else {\n      return DontCodeModelPointer.lastElementOf(this.containerPosition) ?? '';\n    }\n  }\n\n  /**\n   * If this pointer is pointing to a direct property of the given pointer, then it returns the property's name, otherwise null\n   * @param pointer\n   * @return the property name or null\n   */\n  isSubItemOf(pointer: DontCodeModelPointer): string | null {\n    if (pointer.position === this.containerPosition) {\n      return this.lastElement;\n    } else return null;\n  }\n\n  /**\n   * Returns the direct property's name under which this pointer points to, even if it's pointing to sub properties of the direct property.\n   * @param pointer\n   * @return the property name or null\n   */\n  isUnderSubItemOf(pointer: DontCodeModelPointer): string | null {\n    if (this.positionInSchema.startsWith(pointer.positionInSchema)) {\n      const keyPos = this.positionInSchema.indexOf(\n        '/',\n        pointer.positionInSchema.length + 1\n      );\n      if (keyPos == -1)\n        return this.positionInSchema.substring(\n          pointer.positionInSchema.length + 1\n        );\n      else\n        return this.positionInSchema.substring(\n          pointer.positionInSchema.length + 1,\n          keyPos\n        );\n    } else return null;\n  }\n\n  /**\n   * Returns a pointer pointing to a sub Item of the current pointer.\n   * The current pointer must point to an array\n   * @param subItem\n   */\n  subItemOrPropertyPointer(\n    subElement: string,\n    isItem: boolean\n  ): DontCodeModelPointer {\n    if (isItem) return this.subPropertyPointer(subElement);\n    else return this.subItemPointer(subElement);\n  }\n\n  /**\n   * Returns a pointer pointing to a sub property of the current pointer\n   * @param subProp\n   */\n  subPropertyPointer(subProp: string): DontCodeModelPointer {\n    const newPointer = new DontCodeModelPointer(\n      this.position === '' ? subProp : this.position + '/' + subProp,\n      this.positionInSchema === ''\n        ? subProp\n        : this.positionInSchema + '/' + subProp,\n      this.position,\n      this.positionInSchema,\n      subProp,\n      true\n    );\n    return newPointer;\n  }\n\n  /**\n   * Returns a pointer pointing to a sub Item of the current pointer.\n   * The current pointer must point to an array\n   * @param subItem\n   */\n  subItemPointer(subItem: string): DontCodeModelPointer {\n    const newPointer = new DontCodeModelPointer(\n      this.position === '' ? subItem : this.position + '/' + subItem,\n      this.positionInSchema,\n      this.position,\n      this.containerPositionInSchema,\n      subItem,\n      false\n    );\n    return newPointer;\n  }\n\n    /**\n     * Returns the parent pointer or an exception if it's the root\n     * @param subItem\n     */\n    safeParentPointer(optionalSchemaMgr?: DontCodeSchemaManager): DontCodeModelPointer {\n      const ret = this.parentPointer(optionalSchemaMgr);\n      if( ret===undefined)\n        throw new Error(\"No parent position for pointer \"+this.position);\n      return ret;\n    }\n\n    /**\n     * Returns the parent pointer or undefined if it's the root\n     * @param subItem\n     */\n    parentPointer(optionalSchemaMgr?: DontCodeSchemaManager): DontCodeModelPointer|undefined {\n      if( (this.containerPosition==null) || (this.containerPositionInSchema==null))\n        return undefined;\n      const newPointer = new DontCodeModelPointer(\n        this.containerPosition,\n        this.containerPositionInSchema\n      );\n      if( optionalSchemaMgr!=null) {\n        newPointer.fillMissingElements(optionalSchemaMgr);\n      }\n      return newPointer;\n    }\n\n    /**\n     * Returns true if the pointer is the parent of the position.\n     * @param position\n     * @param directOnly: if true, only returns true if it's a direct parent\n     */\n    public isParentOf (position:string, directOnly?:boolean): boolean {\n      if (directOnly===true) {\n        const parent=DontCodeModelPointer.parentPosition(position);\n        if( parent==null) {\n          return false;\n        } else {\n          return this.position == parent;\n        }\n      }else {\n        return position.startsWith(this.position);\n      }\n    }\n\n    /**\n   * Safely returns the parent position\n   * @param position\n   */\n  public static parentPosition(position?: string): string | null {\n    if (position == null || position.length === 0) return null;\n    const lastSlash = position.lastIndexOf('/');\n    if (lastSlash == -1) return '';\n    else {\n      return position.substring(0, lastSlash);\n    }\n  }\n\n\n  /**\n   * Safely splits between the parent position and last element\n   * @param position\n   */\n  public static splitPosition(\n    position?: string\n  ): { parent: string; element: string } | null {\n    if (position == null || position.length === 0) return null;\n    const lastSlash = position.lastIndexOf('/');\n    if (lastSlash == -1)\n      return {\n        parent: '',\n        element: position,\n      };\n    else {\n      return {\n        parent: position.substring(0, lastSlash),\n        element: position.substring(lastSlash + 1),\n      };\n    }\n  }\n}\n","import {\n  DontCodeSchemaItem,\n  DontCodeSchemaRef,\n  DontCodeSchemaRoot,\n} from './dont-code-schema-item';\nimport { DontCodeModelPointer, DontCodeSchema } from './dont-code-schema';\nimport { PluginConfig } from '../globals';\n\n/**\n * Manages the schema used to describe an application in Dont-code.\n * A schema is provided by default, but can be updated by plugins.\n * That means plugins can add or modify new fields or entities thus changing the way applications are edited and described.\n */\nexport class DontCodeSchemaManager {\n  protected currentSchema!: DontCodeSchemaRoot;\n  protected readSchema: any;\n\n  constructor() {\n    this.reset();\n  }\n  /**\n   * Returns the current schema\n   */\n  getSchema(): DontCodeSchemaItem {\n    return this.currentSchema;\n  }\n\n  convertSchemaToMap(readSchema: any): DontCodeSchemaRoot {\n    return new DontCodeSchemaRoot(readSchema);\n  }\n\n  registerChanges(config: PluginConfig) {\n    const pluginFullName = config.plugin.id + '-v' + config.plugin.version;\n    if (config['schema-updates']) {\n      const updates = config['schema-updates'];\n      for (const update of updates) {\n        const changes = update.changes;\n        for (const change of changes) {\n          if (change.location.id) {\n            const parent = this.locateItem(change.location.parent);\n            if (parent) {\n              parent.upsertWith(change);\n            } else {\n              throw 'Cannot find parent element: ' + change.location.parent;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Locate an item from it's position in the model\n   * @param schemaPosition\n   * @param resolveReference true to resolve the last reference instead of returning a @DontCodeSchemaRef\n   */\n  locateItem(\n    schemaPosition: string,\n    resolveReference?: boolean\n  ): DontCodeSchemaItem {\n    const split = schemaPosition.split('/');\n    let cur: DontCodeSchemaItem | undefined = this.currentSchema;\n    for (const value of split) {\n      if (!cur) {\n        console.error(\n          'Could not find subItem ' + value + ' of ' + schemaPosition\n        );\n        throw new Error(\n          'Could not find subItem ' + value + ' of ' + schemaPosition\n        );\n      }\n      if (value && value.length > 0 && value !== '#') {\n        if (cur.isReference())\n          cur = this.resolveReference(cur as DontCodeSchemaRef);\n        if (!cur) {\n          console.error(\n            'Could not find reference ' +\n              (cur as unknown as DontCodeSchemaRef)?.getReference() +\n              ' of ' +\n              schemaPosition\n          );\n          throw new Error(\n            'Could not find reference ' +\n              (cur as unknown as DontCodeSchemaRef)?.getReference() +\n              ' of ' +\n              schemaPosition\n          );\n        }\n        cur = cur.getChild(value);\n      }\n    }\n\n    if (resolveReference && cur?.isReference()) {\n      cur = this.resolveReference(cur as DontCodeSchemaRef);\n    }\n    if (cur!=null)\n      return cur;\n    else {\n      throw new Error(\n        'Could not find item at schema position ' + schemaPosition);\n\n    }\n  }\n\n  resolveReference(ref: DontCodeSchemaRef): DontCodeSchemaItem {\n    return this.locateItem(ref.getReference());\n  }\n\n  generateParentPointer(\n    pointer: DontCodeModelPointer\n  ): DontCodeModelPointer | undefined {\n    if (pointer.containerPosition != null)\n      return this.generateSchemaPointer(pointer.containerPosition);\n    return;\n  }\n\n  /**\n   * Generates a new and complete DontCodeModelPointer from the specified position\n   * @param queriedPosition\n   */\n  generateSchemaPointer(queriedPosition: string): DontCodeModelPointer {\n    let ret: DontCodeModelPointer;\n\n    const position = queriedPosition;\n    const posElems = position.split('/');\n\n    if (posElems.length === 0 || posElems[0].length === 0) {\n      // Managing the special case of asking for root\n      ret = new DontCodeModelPointer(queriedPosition, queriedPosition);\n      return ret;\n    } else {\n      ret = new DontCodeModelPointer(queriedPosition, '');\n    }\n\n    let parentItem = this.currentSchema as DontCodeSchemaItem;\n    let ignoreNext = false;\n    for (const element of posElems) {\n      if (!ignoreNext) {\n        let nextItem =\n          parentItem.getChild(element) ??\n          parentItem.isPossibleDynamicProperty(element);\n        if (nextItem) {\n          ret.isProperty = true;\n          ret.containerPositionInSchema = ret.positionInSchema;\n          if (ret.positionInSchema !== null && ret.positionInSchema.length > 0)\n            ret.positionInSchema = ret.positionInSchema + '/' + element;\n          else ret.positionInSchema = element;\n\n          if (nextItem.isArray()) {\n            ignoreNext = true;\n          } else {\n            ignoreNext = false;\n          }\n\n          if (nextItem.isReference())\n            nextItem = this.resolveReference(nextItem as DontCodeSchemaRef);\n\n          if (nextItem == null) {\n            // Cannot find the next item in the schema: Error in the url\n            throw new Error(\n              \"Cannot parse '\" +\n                position +\n                \"' from the schema as \" +\n                nextItem +\n                ' is reference an unknown element'\n            );\n          }\n          parentItem = nextItem;\n        } else {\n          // Cannot find the next item in the schema: Error in the url\n          throw new Error(\n            \"Cannot parse '\" +\n              position +\n              \"' from the schema as \" +\n              element +\n              ' is not a child of ' +\n              parentItem.getRelativeId()\n          );\n        }\n      } else {\n        ret.isProperty = false;\n        ignoreNext = false;\n      }\n    }\n\n    ret.containerPositionInSchema = ret.positionInSchema.substring(\n      0,\n      ret.positionInSchema.lastIndexOf('/')\n    );\n    ret.containerPosition = ret.position.substring(\n      0,\n      ret.position.lastIndexOf('/')\n    );\n    ret.lastElement = posElems[posElems.length - 1];\n\n    return ret;\n  }\n\n  /**\n   * Returns the pointer to the subElement of the given pointer. It checked whether the given propOrItemName is a property or an item\n   * by looking at the schema\n   * @param panullrent\n   * @param propOrItemName\n   */\n  generateSubSchemaPointer(\n    parent: DontCodeModelPointer,\n    propOrItemName: string\n  ): DontCodeModelPointer {\n    if (\n      this.locateItem(parent.positionInSchema, true).getChild(propOrItemName)\n    ) {\n      return parent.subPropertyPointer(propOrItemName);\n    } else {\n      return parent.subItemPointer(propOrItemName);\n    }\n  }\n\n  reset() {\n    this.readSchema = DontCodeSchema.defaultv1;\n    this.currentSchema = this.convertSchemaToMap(this.readSchema);\n  }\n}\n","import {DontCodeSchemaManager} from '../model/dont-code-schema-manager';\nimport * as DontCode from '../globals';\nimport {DontCodePreviewManager} from './preview/dont-code-preview-manager';\nimport PluginConfig = DontCode.PluginConfig;\n\nexport class DontCodePluginManager {\n  protected plugins: Map<string, PluginInfo> = new Map();\n\n  registerPlugin(\n    plugin: DontCode.Plugin,\n    schemaManager: DontCodeSchemaManager,\n    previewManager: DontCodePreviewManager\n  ) {\n    // Ensure registering plugins only once.\n    const config: PluginConfig = plugin.getConfiguration();\n    const fullId = config.plugin.id + '-v' + config.plugin.version;\n\n    if( this.plugins.get(fullId)==null) {\n      //console.debug (\"Setting up\", fullId);\n      schemaManager.registerChanges(config);\n      previewManager.registerHandlers(config);\n\n      this.plugins.set(fullId, new PluginInfo (plugin));\n    } else {\n      //console.debug(\"Plugin \"+fullId+\" already registered, skipping it\");\n    }\n  }\n\n  initPlugins (core:DontCode.Core): void {\n    this.plugins.forEach(plugin => {\n      if (plugin.initCalled===false) {\n        try {\n            // Initialize the change of model\n          const defs = plugin.plugin.getConfiguration()?.[\"definition-updates\"];\n          core.getChangeManager().applyPluginConfigUpdates(defs);\n          plugin.plugin.pluginInit(core);\n          plugin.initCalled=true;\n        } catch (error) {\n          console.error(\"Error calling \"+plugin.plugin+\" init method:\", error);\n        }\n      }\n    });\n  }\n\n  reset() {\n    this.plugins.clear();\n  }\n}\n\nclass PluginInfo {\n  plugin: DontCode.Plugin;\n  initCalled:boolean;\n\n  constructor(plugin: DontCode.Plugin, initCalled?: boolean) {\n    this.plugin=plugin;\n    if (initCalled==null)\n      this.initCalled=false;\n    else\n      this.initCalled=initCalled;\n  }\n}\n","import {ActionHandlerConfig, ChangeHandlerConfig, PluginConfig} from '../../globals';\nimport { Observable, ReplaySubject, Subject, Subscription } from 'rxjs';\nimport {ActionHandler} from \"../action-handler\";\n\n/**\n * Manages handlers that provides UI, calculation or action for data associated with an element.\n * It decodes \"preview-handlers\", \"global-handlers\", \"action-handlers\" from plugin-config.\n */\nexport class DontCodePreviewManager {\n  protected handlersPerLocations!: Map<string, ChangeHandlerConfig[]>;\n  protected globalHandlersPerLocations!: Map<string, ChangeHandlerConfig[]>;\n  protected actionHandlersPerLocation!: Map<{ position:string, context:string }, ActionHandlerConfig[]>;\n  protected globalHandlers!: ReplaySubject<ChangeHandlerConfig>;\n\n  constructor() {\n    this.reset();\n  }\n\n  reset() {\n    this.handlersPerLocations = new Map<string, ChangeHandlerConfig[]>();\n    this.globalHandlersPerLocations = new Map<string, ChangeHandlerConfig[]>();\n    this.actionHandlersPerLocation = new Map();\n    this.globalHandlers = new ReplaySubject();\n  }\n\n  registerHandlers(config: PluginConfig): void {\n    if (config['preview-handlers']) {\n      config['preview-handlers'].forEach((value) => {\n        let array = this.handlersPerLocations.get(value.location.parent);\n        if (!array) {\n          array = new Array<ChangeHandlerConfig>();\n          this.handlersPerLocations.set(value.location.parent, array);\n        }\n        array.push(value);\n      });\n    }\n    if (config['global-handlers']) {\n      config['global-handlers'].forEach((value) => {\n        let array = this.handlersPerLocations.get(value.location.parent);\n        if (!array) {\n          array = new Array<ChangeHandlerConfig>();\n          this.handlersPerLocations.set(value.location.parent, array);\n        }\n        array.push(value);\n        // Update the global handlers as well\n        array = this.globalHandlersPerLocations.get(value.location.parent);\n        if (!array) {\n          array = new Array<ChangeHandlerConfig>();\n          this.globalHandlersPerLocations.set(value.location.parent, array);\n        }\n        array.push(value);\n        this.globalHandlers.next(value);\n      });\n    }\n    if (config['action-handlers']) {\n      for (const value of config['action-handlers']) {\n        let array = this.actionHandlersPerLocation.get({position:value.location.parent, context:value[\"action-context\"]});\n        if (!array) {\n          array = new Array<ActionHandlerConfig>();\n          this.actionHandlersPerLocation.set({position:value.location.parent, context:value[\"action-context\"]}, array);\n        }\n        array.push(value);\n\n      }\n    }\n  }\n\n  getGlobalHandlers(): Map<string, Array<ChangeHandlerConfig>> {\n    return this.globalHandlersPerLocations;\n  }\n\n  receiveGlobalHandlers(): Observable<ChangeHandlerConfig> {\n    return this.globalHandlers;\n  }\n\n  retrieveHandlerConfig(\n    position: string,\n    modelContent?: any\n  ): ChangeHandlerConfig | null {\n    const found = this.handlersPerLocations.get(position);\n    let ret: ChangeHandlerConfig | null = null;\n    let contentNeeded = false;\n\n    if (found) {\n      for (const configuration of found) {\n        if (configuration.location.values) {\n          if (modelContent) {\n            let jsonValue = modelContent as string;\n            if (configuration.location.id)\n              jsonValue = modelContent[configuration.location.id];\n\n            this.extractValuesAsArray(configuration.location.values).forEach(\n              (targetValue) => {\n                if (targetValue === jsonValue) {\n                  ret = configuration;\n                  return;\n                }\n              }\n            );\n          } else {\n            // We found one handler that needs the jsonContent\n            contentNeeded = true;\n          }\n        } else {\n          // We have found a default handler, we keep it but keep on looking for a better one\n          if (ret === null) {\n            ret = configuration;\n          }\n        }\n      }\n    } else {\n      // Try to see if the parent position is handled\n      if (typeof modelContent === 'string' && position.lastIndexOf('/') > 0) {\n        if (position.endsWith('/'))\n          position = position.substring(0, position.length - 1);\n\n        const key = position.substring(position.lastIndexOf('/') + 1);\n        const parentValue: { [index: string]: string } = {};\n        parentValue[key] = modelContent;\n        return this.retrieveHandlerConfig(\n          position.substring(0, position.lastIndexOf('/')),\n          parentValue\n        );\n      }\n    }\n\n    if (ret === null && contentNeeded) {\n      // We had one potential handler but couldn't select it as the jsonContent is not provided\n      throw new Error(\n        'Content must be provided in order to select an handler for position ' +\n          position\n      );\n    }\n    return ret;\n  }\n\n  /**\n   * Returns all the action handlers for a given position in the model and for a given context.\n   * @param position\n   * @param context\n   * @param modelContent\n   */\n  retrieveActionHandlers(    position: string, context:string, modelContent?: any ): ActionHandlerConfig[] {\n    const ret= this.actionHandlersPerLocation.get({position, context});\n    if( ret==null)\n      return [];\n    else\n      return ret;\n  }\n\n  private extractValuesAsArray(values: any): Array<string> {\n    const ret = new Array<string>();\n    this.extractValuesToArray(values, ret);\n    return ret;\n  }\n\n  private extractValuesToArray(values: any, res: Array<string>) {\n    if (Array.isArray(values)) {\n      (values as Array<string>).forEach((value) => {\n        if (typeof value === 'string') {\n          res.push(value);\n        } else {\n          this.extractValuesToArray(value, res);\n        }\n      });\n    } else {\n      for (const key in values) {\n        if (values.hasOwnProperty(key)) {\n          this.extractValuesToArray(values[key], res);\n        }\n      }\n    }\n  }\n}\n","import { DontCodeSchemaManager } from './model/dont-code-schema-manager';\nimport { DontCodePreviewManager } from './plugin/preview/dont-code-preview-manager';\nimport { DontCodeStoreManager } from './store/dont-code-store-manager';\nimport { DontCodeModelManager } from './model/dont-code-model-manager';\nimport {DontCodeChangeManager} from \"./change/dont-code-change-manager\";\n\nexport interface Core {\n  getSchemaUri(): string;\n  registerPlugin(plugin: Plugin): void;\n  initPlugins (): void;\n  getSchemaManager(): DontCodeSchemaManager;\n  getModelManager(): DontCodeModelManager;\n  getChangeManager(): DontCodeChangeManager;\n  getPreviewManager(): DontCodePreviewManager;\n  getStoreManager(): DontCodeStoreManager;\n  reset(): Core;\n}\n\nexport interface Plugin {\n  getConfiguration(): PluginConfig;\n  /**\n   * Once all plugins have been loaded, each one pluginInit's is being called.\n   * @param dontCode\n   */\n  pluginInit (dontCode: Core): void;\n}\n\n/**\n * The typescript equivalent of the dont-code-schema.json\n */\nexport interface DontCodeSchemaType {\n  creation: {\n    type: string;\n    name: string;\n    entities?: {[key:string]:DontCodeEntityType};\n    sharing?: DontCodeSharingType;\n    reports?: {[key:string]:DontCodeReportType};\n    sources?: {[key:string]:DontCodeSourceType};\n    screens?: Array<{\n      name: string;\n    }>;\n  };\n}\n\nexport interface DontCodeEntityType {\n  from?: string;\n  name: string;\n  fields?: {[key:string]:DontCodeFieldType};\n}\n\nexport interface DontCodeFieldType {\n  name: string;\n  type: string;\n}\n\nexport interface DontCodeSharingType {\n  with: string;\n}\n\nexport interface DontCodeReportType {\n  title: string;\n  for: string;\n  groupedBy?: {[key:string]:DontCodeReportGroupType};\n  sortedBy?: {[key:string]:DontCodeReportSortType};\n  as?: {[key:string]:DontCodeReportDisplayType};\n}\n\nexport interface DontCodeReportGroupType {\n  of: string,\n  display:{[key:string]:DontCodeReportGroupAggregateType};\n  show?:DontCodeReportGroupShowType,\n  label?:string,\n}\n\nexport interface DontCodeReportGroupAggregateType {\n  operation: DontCodeGroupOperationType;\n  of:string,\n  label?:string\n}\n\nexport enum DontCodeReportGroupShowType {\n  OnlyLowest=\"OnlyLowest\",\n  OnlyHighest=\"OnlyHighest\"\n}\n\nexport enum DontCodeGroupOperationType {\n  Count= \"Count\",\n  Sum=\"Sum\",\n  Average=\"Average\",\n  Minimum=\"Minimum\",\n  Maximum=\"Maximum\"\n}\n\nexport interface DontCodeReportSortType {\n  by:string,\n  direction: DontCodeSortDirectionType\n}\n\nexport enum DontCodeSortDirectionType {\n  None = \"None\",\n  Ascending = \"Ascending\",\n  Descending = \"Descending\"\n}\n\nexport interface DontCodeReportDisplayType {\n  type: string;\n  of: string;\n  by?:string;\n  title: string;\n}\n\nexport interface DontCodeSourceType {\n  name: string;\n  type: string;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface DontCodeSharingType {\n\n}\n\n/**\n * The typescript equivalent of plugin-config-schema.json\n */\nexport interface PluginConfig {\n  plugin: {\n    id: string;\n    'display-name'?: string;\n    version: string;\n  };\n  'schema-updates'?: Array<{\n    id: string;\n    description?: string;\n    changes: Array<ChangeConfig>;\n  }>;\n  'preview-handlers'?: Array<ChangeHandlerConfig>;\n  'global-handlers'?: Array<ChangeHandlerConfig>;\n  'action-handlers'?: Array<ActionHandlerConfig>;\n  'definition-updates'?: Array<DefinitionUpdateConfig>\n}\n\nexport interface ChangeConfig {\n  location: LocationConfig;\n  update?: any;\n  props?: any;\n  replace?: boolean;\n}\n\nexport interface ChangeHandlerConfig {\n  location: LocationConfig;\n  class: {\n    source: string;\n    name: string;\n  };\n}\n\nexport interface LocationConfig {\n  parent: string;\n  id?: string;\n  after?: string;\n  values?: any;\n}\n\nexport interface DefinitionUpdateConfig {\n  location: LocationConfig;\n  update: any;\n}\n\nexport interface ChangeHandlerConfig {\n  location: LocationConfig;\n  class: ClassDefinitionConfig;\n}\n\nexport interface ClassDefinitionConfig {\n  source: string;\n  name: string;\n}\n\nexport interface ActionHandlerConfig {\n  location: LocationConfig;\n  'action-context': ActionContextType;\n  actions: Array<ActionConfig>;\n  class: ClassDefinitionConfig\n}\n\nexport enum ActionContextType {\n  LIST=\"list\",\n  EDIT=\"edit\",\n  VIEW=\"view\"\n}\n\nexport interface ActionConfig {\n  type:ActionType;\n  'display-name':string;\n  icon: IconDefinitionConfig;\n}\n\nexport enum ActionType {\n  EXTRACT=\"extract\",\n  UPDATE=\"update\",\n  CALCULATE=\"calculate\"\n}\n\nexport interface IconDefinitionConfig {\n  url?:string;\n}\n\n\n/**\n * The typescript equivalent of repository-schema.json\n */\nexport interface RepositorySchema {\n  name:string,\n  description?:string,\n  plugins: Array<RepositoryPluginEntry>\n}\n\nexport interface RepositoryPluginEntry {\n  id:string,\n  \"display-name\"?:string,\n  version:string,\n  info?: RepositoryPluginInfo,\n  config?: RepositoryPluginConfig\n}\n\nexport interface RepositoryPluginInfo {\n  \"exposed-module\":string,\n  \"remote-entry\"?:string\n}\n\nexport interface RepositoryPluginConfig {\n  \"definition-updates\"?:Array<DefinitionUpdateConfig>\n}\n\nexport {};\n","import {DontCodeStoreProvider,} from './dont-code-store-provider';\nimport {DontCodeModelManager} from '../model/dont-code-model-manager';\nimport {\n  DontCodeGroupOperationType,\n  DontCodeReportGroupAggregateType, DontCodeReportGroupShowType,\n  DontCodeReportGroupType,\n  DontCodeReportSortType,\n  DontCodeSortDirectionType,\n  DontCodeSourceType\n} from '../globals';\nimport {DontCodeModel} from '../model/dont-code-model';\nimport {DontCodeStorePreparedEntities} from \"./store-provider-helper\";\nimport {Observable} from \"rxjs\";\nimport {DontCodeDataTransformer} from \"./dont-code-data-transformer\";\n\nexport class DontCodeStoreManager {\n  private _default?: DontCodeStoreProvider<never>;\n  private providerByPosition = new Map<string, DontCodeStoreProvider<never>>();\n  private providerByType = new Map<string, DontCodeStoreProvider<never>>();\n\n  constructor(\n    protected modelMgr: DontCodeModelManager,\n    provider?: DontCodeStoreProvider<never>\n  ) {\n    this._default = provider;\n    this.reset();\n  }\n\n  reset() {\n    this.providerByPosition.clear();\n    this.providerByType.clear();\n  }\n\n  getProvider<T>(position?: string): DontCodeStoreProvider<T> | undefined {\n    if (position == null) {\n      return this._default;\n    } else {\n      let ret = null;\n      // Try to find if the entity is loaded from a defined source\n      const srcDefinition = this.modelMgr.findTargetOfProperty(\n        DontCodeModel.APP_ENTITIES_FROM_NODE,\n        position\n      )?.value as DontCodeSourceType;\n      if (srcDefinition) {\n        ret = this.providerByType.get(srcDefinition.type);\n      }\n      if (!ret) {\n        ret = this.providerByPosition.get(position);\n      }\n      return ret ?? this._default;\n    }\n  }\n\n  getProviderSafe<T=never>(position?: string): DontCodeStoreProvider<T> {\n    const ret = this.getProvider<T>(position);\n    if (ret == null) {\n      throw new Error('Trying to get an undefined or null provider');\n    } else {\n      return ret;\n    }\n  }\n\n  getDefaultProvider<T=never>(): DontCodeStoreProvider<T> | undefined {\n    return this.getProvider();\n  }\n\n  getDefaultProviderSafe<T=never>(): DontCodeStoreProvider<T> {\n    return this.getProviderSafe();\n  }\n\n  setProvider(value: DontCodeStoreProvider<never>, position?: string): void {\n    if (position == null) this._default = value;\n    else {\n      this.providerByPosition.set(position, value);\n    }\n  }\n\n  setProviderForSourceType(\n    value: DontCodeStoreProvider<never>,\n    srcType: string\n  ): void {\n    this.providerByType.set(srcType, value);\n  }\n\n  setDefaultProvider(value: DontCodeStoreProvider<never>): void {\n    this.setProvider(value);\n  }\n\n  removeProvider(position?: string): void {\n    if (position == null) this._default = undefined;\n    else {\n      this.providerByPosition.delete(position);\n    }\n  }\n\n  removeProviderForSourceType(srcType: string): void {\n    this.providerByType.delete(srcType);\n  }\n\n  removeDefaultProvider(): void {\n    this.removeProvider();\n  }\n\n  storeEntity<T=never>(position: string, entity: T): Promise<T> {\n    return this.getProviderSafe<T>(position).storeEntity(position, entity);\n  }\n\n  loadEntity<T=never>(position: string, key: any): Promise<T|undefined> {\n    return this.getProviderSafe<T>(position).loadEntity(position, key);\n  }\n\n  safeLoadEntity<T=never>(position: string, key: any): Promise<T> {\n    return this.getProviderSafe<T>(position).safeLoadEntity(position, key);\n  }\n\n  deleteEntity(position: string, key: any): Promise<boolean> {\n    return this.getProviderSafe(position).deleteEntity(position, key);\n  }\n\n  searchEntities<T=never>(\n    position: string,\n    ...criteria: DontCodeStoreCriteria[]\n  ): Observable<Array<T>> {\n    return this.getProviderSafe<T>(position).searchEntities(position, ...criteria);\n  }\n\n  searchAndPrepareEntities<T=never>(\n    position: string,\n    sort?:DontCodeStoreSort,\n    groupBy?:DontCodeStoreGroupby,\n    dataTransformer?:DontCodeDataTransformer,\n    ...criteria: DontCodeStoreCriteria[]\n  ): Observable<DontCodeStorePreparedEntities<T>> {\n    return this.getProviderSafe<T>(position).searchAndPrepareEntities(position, sort, groupBy, dataTransformer, ...criteria);\n  }\n\n\n  canStoreDocument(position?: string): boolean {\n    const res = this.getProvider(position)?.canStoreDocument(position);\n    if (res) return res;\n    else return false;\n  }\n\n  storeDocuments(\n    toStore: File[],\n    position?: string\n  ): Observable<UploadedDocumentInfo> {\n    return this.getProviderSafe(position).storeDocuments(toStore, position);\n  }\n\n}\n\nexport type UploadedDocumentInfo = {\n  documentName: string;\n  isUrl: boolean;\n  documentId?: string;\n};\n\nexport enum DontCodeStoreCriteriaOperator {\n  EQUALS = '=',\n  LESS_THAN = '<',\n  LESS_THAN_EQUAL = '<=',\n}\n\nexport class DontCodeStoreCriteria {\n  name: string;\n  value: any;\n  operator: DontCodeStoreCriteriaOperator;\n\n  constructor(\n    name: string,\n    value: any,\n    operator?: DontCodeStoreCriteriaOperator\n  ) {\n    this.name = name;\n    this.value = value;\n    if (!operator) this.operator = DontCodeStoreCriteriaOperator.EQUALS;\n    else {\n      this.operator = operator;\n    }\n  }\n}\n\nexport class DontCodeStoreSort implements DontCodeReportSortType {\n\n  direction: DontCodeSortDirectionType;\n\n  constructor(public by: string, direction?:DontCodeSortDirectionType, public subSort?:DontCodeStoreSort) {\n    if (direction==null)   this.direction=DontCodeSortDirectionType.None;\n    else this.direction=direction;\n  }\n}\n\nexport class DontCodeStoreGroupby implements DontCodeReportGroupType {\n  display:{[key:string]:DontCodeStoreAggregate};\n\n  constructor(public of:string, display?:{[key:string]:DontCodeStoreAggregate}, public show?:DontCodeReportGroupShowType) {\n    if (display==null) this.display={};\n    else this.display=display;\n  }\n\n  public atLeastOneGroupIsRequested (): boolean {\n    if( (this.display!=null) && (Object.keys(this.display).length>0))\n      return true;\n    return false;\n  }\n\n  getRequiredListOfFields(): Set<string> {\n    const ret = new Set<string>();\n    if( this.display!=null) {\n      for (const aggregate of Object.values(this.display)) {\n        ret.add(aggregate.of);\n      }\n    }\n    return ret;\n  }\n}\n\nexport class DontCodeStoreAggregate implements DontCodeReportGroupAggregateType{\n  constructor(public of:string, public operation:DontCodeGroupOperationType) {\n  }\n}\n","import { DontCodeModelPointer } from '../model/dont-code-schema';\n\nexport class Change {\n  type: ChangeType;\n  position: string;\n  value: any;\n  pointer?: DontCodeModelPointer;\n  oldPosition?: string;\n  beforeKey?: string;\n\n  constructor(\n    type: ChangeType,\n    position: string,\n    value: any,\n    pointer?: DontCodeModelPointer,\n    beforeKey?: string,\n    oldPosition?: string\n  ) {\n    this.type = type;\n    this.position = position;\n    if (position === '/')\n      throw new Error(\n        'Root position is defined by empty string and not slash anymore'\n      );\n    this.value = value;\n    this.pointer = pointer;\n    this.beforeKey = beforeKey;\n    this.oldPosition = oldPosition;\n  }\n\n  /**\n   * Utility method to return the position parent of this change by selecting the right way to calculate it\n   * if the change is for the root (thus with no parent), it throws an exception.\n   * Use this method if you are sure the Change is not for root.\n   */\n  getSafeParentPosition(): string {\n    const parent = this.getParentPosition();\n    if (parent == null) throw new Error('No Parent position for root changes.');\n    return parent;\n  }\n\n  /**\n   * Utility method to return the position parent of this change by selecting the right way to calculate it\n   * if the change is for the root (thus with no parent), it returns null.\n   * */\n  getParentPosition(): string | null {\n    if (this.pointer != null) {\n      return this.pointer.containerPosition ?? null;\n    } else {\n      return DontCodeModelPointer.parentPosition(this.position);\n    }\n  }\n}\n\nexport enum ChangeType {\n  ADD = 'ADD',\n  UPDATE = 'UPDATE',\n  DELETE = 'DELETE',\n  MOVE = 'MOVE',\n  RESET = 'RESET',\n  ACTION = 'ACTION'\n}\n","import {Change, ChangeType} from \"../change/change\";\nimport {ActionContextType, ActionType} from \"../globals\";\nimport {DontCodeModelPointer} from \"../model/dont-code-schema\";\nimport {Observable, Subject} from \"rxjs\";\nimport {run} from \"jest\";\n\n/**\n * An action is a special type of change where we ask the handler to act on data.\n */\nexport class Action extends Change {\n  context: ActionContextType;\n  actionType:ActionType;\n  running: Subject<Promise<void>> | null = new Subject<Promise<void>>();\n\n  constructor(\n                  position: string,\n                  value: any,\n                  context: ActionContextType,\n                  actionType:ActionType,\n                  pointer?: DontCodeModelPointer,\n                  running?:Subject<Promise<void>>|null,\n                  changeType?:ChangeType\n) {\n    super(changeType??ChangeType.ACTION,position, value,pointer);\n    this.context=context;\n    this.actionType=actionType;\n    if( running!=null) this.running=running;\n  }\n}\n","import {Change, ChangeType} from '../change/change';\nimport {DontCodeSchemaItem} from './dont-code-schema-item';\nimport {DontCodeSchemaManager} from './dont-code-schema-manager';\nimport {JSONPath} from 'jsonpath-plus';\nimport {DontCodeModelPointer} from './dont-code-schema';\nimport {DefinitionUpdateConfig} from \"../globals\";\nimport {Action} from \"../action/action\";\n\n/**\n * Stores and constantly updates the json (as an instance of the DontCodeSchema) as it is being edited / modified through Change events\n * It does not store the entity values but the description of entities, screens... as defined in the Editor\n */\nexport class DontCodeModelManager {\n  protected content: any;\n\n  static readonly POSSIBLE_CHARS_FOR_ARRAY_KEYS = \"abcdefghijklmnopqrstuvxyz\";\n  static readonly POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH = DontCodeModelManager.POSSIBLE_CHARS_FOR_ARRAY_KEYS.length;\n\n  constructor(protected schemaMgr: DontCodeSchemaManager) {\n    this.reset();\n  }\n\n  reset() {\n    this.content = undefined;\n  }\n\n  /**\n   * Returns the complete json stored\n   */\n  getContent(): any {\n    return this.content;\n  }\n\n  /**\n   * Resets the current json content to the one given in parameter\n   * @param newContent\n   */\n  resetContent(newContent: any) {\n    this.content = newContent;\n  }\n\n  /**\n   * Checks if the element can be viewed in the Builder or not\n   * @param content\n   */\n  static isHidden(content: any): boolean {\n    return content?.$hidden == true;\n  }\n\n  /**\n   * Checks if the element can be edited in the Builder or not\n   * @param content\n   */\n  static isReadonly(content: any): boolean {\n    return content?.$readOnly == true;\n  }\n\n  /**\n   * Apply the change to the current model and split it into multiple atomic changes for each modified property\n   * @param toApply\n   */\n  applyChange(toApply: Change): Array<Change> {\n    let pointer =\n      toApply.pointer ?? this.schemaMgr.generateSchemaPointer(toApply.position);\n    toApply.pointer = pointer;\n    const parentPosition = pointer.containerPosition;\n    const subElem = toApply.pointer?.lastElement;\n    if (parentPosition != null && subElem != null)\n      pointer = this.schemaMgr.generateParentPointer(pointer)!;\n\n    const atomicChanges = new AtomicChange();\n    atomicChanges.isRoot = true;\n    atomicChanges.name = pointer.position;\n    let lastChange = atomicChanges;\n    let content = this.findAtPosition(pointer.position);\n\n    if (content == null) {\n      // Are we trying to delete a non existing content ?\n      if (toApply.type === ChangeType.DELETE) {\n        return []; // Nothing has changed\n      } else {\n        // we are adding something, so create the parent\n        content = this.findAtPosition(pointer.position, true, atomicChanges);\n        let basePosition = pointer.position;\n        while (lastChange.subChanges.length > 0) {\n          basePosition = basePosition.substring(\n            0,\n            basePosition.lastIndexOf('/')\n          );\n          lastChange = lastChange.subChanges[0];\n        }\n        atomicChanges.name = basePosition;\n      }\n    }\n\n    if( toApply.type===ChangeType.ACTION) {\n      lastChange.type=ChangeType.ACTION;\n    }\n\n    this.applyChangeRecursive(\n      toApply,\n      content,\n      toApply.value,\n      toApply.pointer,\n      lastChange\n    );\n    return this.generateChanges(\n      toApply,\n      atomicChanges,\n      this.schemaMgr.generateSchemaPointer(atomicChanges.name)\n    );\n  }\n\n  protected applyChangeRecursive(\n    srcChange: Change,\n    oldContent: any,\n    newContent: any,\n    pointer: DontCodeModelPointer,\n    atomicChanges: AtomicChange,\n    oldPosition?: string\n  ): void {\n    if (srcChange.pointer == null)\n      throw new Error(\n        'Cannot apply a change without a pointer at position ' +\n        srcChange.position\n      );\n\n    if (oldPosition == null) oldPosition = srcChange.oldPosition;\n\n    const subElem = pointer.lastElement;\n    if (subElem || subElem.length === 0) {\n      //const subPointer = pointer.subItemOrPropertyPointer(subElem, pointer?.key==null);\n      const oldSubContent =\n        subElem.length === 0 ? oldContent : oldContent[subElem];\n      switch (srcChange.type) {\n        case ChangeType.ACTION: {\n\n          // An action doesn't modify the data but must be created for each subelement\n          const curAtomicChange = atomicChanges.createSubChange(ChangeType.ACTION, subElem, atomicChanges.value);\n          this.compareRecursiveIfNeeded(srcChange, oldSubContent,null,pointer, curAtomicChange);\n          break;\n        }\n        case ChangeType.ADD:\n        case ChangeType.UPDATE:\n        case ChangeType.RESET: {\n          let curAtomicChange;\n          if (\n            srcChange.type === ChangeType.RESET &&\n            srcChange.position === pointer.position\n          ) {\n            // Create a RESET change for the root element reset only\n            if (\n              typeof newContent === 'object' &&\n              this.isTheSameForParent(oldSubContent, newContent)\n            ) {\n              curAtomicChange = atomicChanges.createSubChange(\n                undefined,\n                subElem,\n                null\n              );\n            } else if (\n              typeof newContent === 'object' ||\n              oldSubContent !== newContent\n            ) {\n              curAtomicChange = atomicChanges.createSubChange(\n                ChangeType.RESET,\n                subElem,\n                newContent\n              );\n            }\n          } else if (oldSubContent == null) {\n            curAtomicChange = atomicChanges.createSubChange(\n              ChangeType.ADD,\n              subElem,\n              newContent\n            );\n          } else if (\n            typeof newContent === 'object' &&\n            this.isTheSameForParent(oldSubContent, newContent)\n          ) {\n            curAtomicChange = atomicChanges.createSubChange(\n              undefined,\n              subElem,\n              null\n            );\n          } else if (\n            typeof newContent === 'object' ||\n            oldSubContent !== newContent\n          ) {\n            curAtomicChange = atomicChanges.createSubChange(\n              ChangeType.UPDATE,\n              subElem,\n              newContent\n            );\n          }\n\n          if (curAtomicChange)\n            this.compareRecursiveIfNeeded(\n              srcChange,\n              oldSubContent,\n              newContent,\n              pointer,\n              curAtomicChange\n            );\n          if (subElem.length > 0)\n            // Special case when changing the root element (subElem = '')\n            this.insertProperty(\n              oldContent,\n              subElem,\n              newContent,\n              srcChange.beforeKey\n            );\n        }\n          break;\n        case ChangeType.DELETE: {\n          if (oldContent[subElem]) {\n            const curAtomicChange = atomicChanges.createSubChange(\n              ChangeType.DELETE,\n              subElem,\n              null\n            );\n            this.compareRecursiveIfNeeded(\n              srcChange,\n              oldContent[subElem],\n              newContent,\n              pointer,\n              curAtomicChange\n            );\n            delete oldContent[subElem];\n          }\n        }\n          break;\n        case ChangeType.MOVE: {\n          // If it's the root of move, then find the value to move from the oldPosition\n          if (srcChange.position === pointer.position) {\n            if (oldPosition == null)\n              throw new Error(\n                'Cannot process MOVE change without oldPosition' +\n                srcChange.position\n              );\n            if (newContent == null) {\n              newContent = this.findAtPosition(oldPosition);\n            }\n            if (newContent) {\n              const curAtomicChange = atomicChanges.createSubChange(\n                ChangeType.MOVE,\n                subElem,\n                newContent,\n                oldPosition\n              );\n              if (srcChange.position !== oldPosition) {\n                // When we reorder elements of an array, it's a move to the same position: No changes\n                this.compareRecursiveIfNeeded(\n                  srcChange,\n                  null,\n                  newContent,\n                  pointer,\n                  curAtomicChange,\n                  oldPosition\n                );\n                this.insertProperty(\n                  oldContent,\n                  subElem,\n                  newContent,\n                  srcChange.beforeKey\n                );\n                // Really perform the change\n                const splittedPosition =\n                  DontCodeModelPointer.splitPosition(oldPosition)!;\n                const parentContent = this.findAtPosition(\n                  splittedPosition.parent\n                );\n                delete parentContent[splittedPosition.element];\n              } else {\n                // Just insert the same element at a different position in the object\n                this.compareRecursiveIfNeeded(\n                  srcChange,\n                  null,\n                  newContent,\n                  pointer,\n                  curAtomicChange,\n                  oldPosition\n                );\n                this.insertProperty(\n                  oldContent,\n                  subElem,\n                  newContent,\n                  srcChange.beforeKey\n                );\n              }\n            }\n          } else {\n            // The move has already been done, so just createSubChange and loop through subElements\n            const curAtomicChange = atomicChanges.createSubChange(\n              ChangeType.MOVE,\n              subElem,\n              null,\n              oldPosition\n            );\n            this.compareRecursiveIfNeeded(\n              srcChange,\n              oldContent,\n              newContent,\n              pointer,\n              curAtomicChange,\n              oldPosition\n            );\n          }\n        }\n          break;\n        default:\n          throw new Error('No support for change of type ' + srcChange.type);\n      }\n    } else {\n      this.compareRecursiveIfNeeded(\n        srcChange,\n        oldContent,\n        newContent,\n        pointer,\n        atomicChanges,\n        oldPosition\n      );\n    }\n  }\n\n  /**\n   * Check if the values are the same, or the objects property names are the same, so that we can define it impacts or not the parent\n   * @param oldValue\n   * @param newValue\n   */\n  isTheSameForParent(oldValue: any, newValue: any): boolean {\n    if (newValue === oldValue) {\n      return true;\n    } else if (newValue == null || oldValue == null) {\n      return false;\n    } else if (typeof oldValue === 'object' && typeof newValue === 'object') {\n      const oldKeys = Object.keys(oldValue);\n      const newKeys = Object.keys(newValue);\n      return (\n        oldKeys.length === newKeys.length &&\n        oldKeys.every((value, index) => {\n          return value === newKeys[index];\n        })\n      );\n    } else {\n      return oldValue === newValue;\n    }\n  }\n\n  /**\n   * By checking the differences between old and new content, and depending on the src change type, generate a change for each sub element hierarchically\n   * @param src\n   * @param oldContent\n   * @param newContent\n   * @param atomicChanges\n   */\n  compareRecursiveIfNeeded(\n    src: Change,\n    oldContent: any,\n    newContent: any,\n    pointer: DontCodeModelPointer,\n    atomicChanges: AtomicChange,\n    oldPosition?: string\n  ): void {\n    if (oldContent == null || typeof oldContent !== 'object') oldContent = {};\n    if (newContent == null || typeof newContent !== 'object') newContent = {};\n    const alreadyChecked = new Set<string>();\n\n    // Check if existing elements have been deleted or updated\n    for (const oldSubProperty in oldContent) {\n      const subPointer = this.schemaMgr.generateSubSchemaPointer(\n        pointer,\n        oldSubProperty\n      );\n      const subPosition = subPointer.position;\n      alreadyChecked.add(oldSubProperty);\n      // eslint-disable-next-line no-prototype-builtins\n      if (newContent.hasOwnProperty(oldSubProperty)) {\n        this.applyChangeRecursive(\n          src,\n          oldContent,\n          newContent[oldSubProperty],\n          subPointer,\n          atomicChanges,\n          oldPosition\n        );\n      } else {\n          // Action are just passed to all subElements\n        if (src.type==ChangeType.ACTION) {\n          const srcAction = src as Action;\n          this.applyChangeRecursive(new Action(subPosition, srcAction.value, srcAction.context, srcAction.actionType, subPointer, srcAction.running),\n            oldContent, null, subPointer, atomicChanges);\n        } else {\n          // It doesn't exist in the new element, so it's deleted\n          this.applyChangeRecursive(\n            new Change(ChangeType.DELETE, subPosition, null, subPointer),\n            oldContent,\n            null,\n            subPointer,\n            atomicChanges,\n            oldPosition\n          );\n        }\n      }\n    }\n\n    // Check if new elements have been added\n    for (const newSubProperty in newContent) {\n      if (src.type === ChangeType.MOVE) {\n        const subPointer = this.schemaMgr.generateSubSchemaPointer(\n          pointer,\n          newSubProperty\n        );\n        const subPosition = subPointer.position;\n        //src.oldPosition = subPosition;\n        this.applyChangeRecursive(\n          src,\n          oldContent,\n          newContent[newSubProperty],\n          subPointer,\n          atomicChanges,\n          oldPosition + '/' + newSubProperty\n        );\n      } else if (!alreadyChecked.has(newSubProperty)) {\n        const subPointer = this.schemaMgr.generateSubSchemaPointer(\n          pointer,\n          newSubProperty\n        );\n        const subPosition = subPointer.position;\n        this.applyChangeRecursive(\n          new Change(\n            ChangeType.ADD,\n            subPosition,\n            newContent[newSubProperty],\n            subPointer\n          ),\n          oldContent,\n          newContent[newSubProperty],\n          subPointer,\n          atomicChanges\n        );\n      }\n    }\n  }\n\n  protected generateChanges(\n    src: Change,\n    atomicChanges: AtomicChange,\n    pointer?: DontCodeModelPointer,\n    result?: Array<Change>\n  ): Array<Change> {\n    if (result == null) result = new Array<Change>();\n\n    if (src.pointer == null)\n      throw new Error('Cannot generate changes without the pointer');\n\n    if (pointer == null) pointer = src.pointer;\n\n    if (atomicChanges.type != null) {\n      //pointer = this.schemaMgr.generateSubSchemaPointer(pointer, atomicChanges.name);\n      if (atomicChanges.type === ChangeType.MOVE) {\n        if (atomicChanges.oldPosition == null)\n          throw new Error(\n            'A Move Change must have an oldPosition set ' + pointer.position\n          );\n        if (\n          atomicChanges.oldPosition !== pointer.position &&\n          src.position === pointer.position\n        ) {\n          // Generate an update of the old position only if it's different from the new position, as for the new position an update has already been generated\n          result.push(\n            new Change(\n              ChangeType.UPDATE,\n              DontCodeModelPointer.parentPosition(atomicChanges.oldPosition)!,\n              atomicChanges.value\n            )\n          );\n        }\n        result.push(\n          new Change(\n            ChangeType.MOVE,\n            pointer.position,\n            atomicChanges.value,\n            pointer,\n            undefined,\n            atomicChanges.oldPosition\n          )\n        );\n      } else {\n        if ( atomicChanges.type===ChangeType.ACTION) {\n            // Create an action for Change of action type\n          const srcAction = src as Action;\n          result.push(\n            new Action(\n              pointer.position,\n              srcAction.value,\n              srcAction.context,\n              srcAction.actionType,\n              pointer,\n              srcAction.running\n            )\n          );\n\n        } else {\n          result.push(\n            new Change(\n              atomicChanges.type,\n              pointer.position,\n              atomicChanges.value,\n              pointer\n            )\n          );\n        }\n      }\n    } else {\n      // First check if we need to send an UPDATED change to this element because a subElement is added / removed\n      for (let i = 0; i < atomicChanges.subChanges.length; i++) {\n        const cur = atomicChanges.subChanges[i];\n        if (\n          cur.type != null &&\n          cur.type !== ChangeType.UPDATE &&\n          cur.name.length > 0\n        ) {\n          result.push(\n            new Change(\n              ChangeType.UPDATE,\n              pointer.position,\n              this.findAtPosition(pointer.position),\n              pointer\n            )\n          );\n          break;\n        }\n        /*if( (cur.type === ChangeType.MOVE) && (cur.oldPosition != null)) {\n          result.push(new Change (ChangeType.UPDATE, cur.oldPosition, null));\n        }*/\n      }\n    }\n\n    // Then recurse through all subelements, generating changes along the way\n    for (let i = 0; i < atomicChanges.subChanges.length; i++) {\n      const cur = atomicChanges.subChanges[i];\n      this.generateChanges(\n        src,\n        cur,\n        this.schemaMgr.generateSubSchemaPointer(pointer, cur.name),\n        result\n      );\n    }\n\n    return result;\n  }\n\n  /**\n   * Calculates a key that can be inserted at the given position in the content\n   * @param pos\n   */\n  generateNextKeyForPosition(pos: string, create = false): string {\n    const array = this.findAtPosition(pos, create);\n    if (array == null)\n      throw new Error(\"No element at position \" + pos);\n    return DontCodeModelManager.generateNextKey(array);\n  }\n\n  static generateNextKey(array: Record<string, unknown> | Set<string>): string {\n    let keys: Set<string>;\n    if (array.size != null) {\n      keys = array as Set<string>;\n    } else {\n      keys = new Set(Object.keys(array));\n    }\n    let tentative = keys.size;\n    let found = false;\n    const modulo = DontCodeModelManager.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH;\n    let key;\n    do {\n      // Calculate a tentative key\n      key = '';\n      do {\n        const quotient = Math.trunc(tentative / modulo);\n        const rest = tentative % modulo;\n\n        key = DontCodeModelManager.POSSIBLE_CHARS_FOR_ARRAY_KEYS[rest].concat(key);\n        tentative = quotient - 1; // -1 because we need to not take into account the first row of values as they don't have the same number of chars\n\n      } while (tentative >= 0);\n\n      // Check if the key is already present\n      found = keys.has(key);\n      tentative++;\n    } while (found);\n    return key;\n  }\n\n  /**\n   * Provides the json extract at the given position.\n   * For example, findAtPosition ('creation/entities/a') will returns the description (fields...) of the first entity created with the editor\n   * @param position\n   * @param create\n   */\n  findAtPosition(\n    position: string,\n    create?: boolean,\n    added?: AtomicChange\n  ): any {\n    const path = position.split('/');\n    if (this.content == null) {\n      if (create) {\n        this.content = {};\n      } else {\n        return null;\n      }\n    }\n\n    let current = this.content;\n    let currentPath = '';\n\n    path.forEach((element) => {\n      if (element === '' || current === null) return current;\n      if (currentPath.length === 0) currentPath = element;\n      else currentPath = currentPath + '/' + element;\n      if (!current[element]) {\n        if (create) {\n          current[element] = {};\n          if (added) {\n            added = added.createSubChange(ChangeType.ADD, element, {});\n          }\n        } else {\n          current = null;\n          return null;\n        }\n      }\n\n      current = current[element];\n    });\n    return current;\n  }\n\n  /**\n   * Enable querying the model for any value, following jsonPath model\n   * To use when potentially you expect multiple values\n   * @param query: the query as a jsonPath\n   * @param position: in case the jsonPath is relative\n   */\n  queryModelToArray(query: string, position?: string): Array<any> {\n    let root = this.content;\n    if (position) {\n      root = this.findAtPosition(position, false);\n    }\n    const result = JSONPath({\n      path: query,\n      json: root,\n      resultType: 'value',\n      wrap: false,\n      flatten: true,\n    });\n    return result;\n  }\n\n  /**\n   * Enable querying the model for any value, following jsonPath model\n   * To use when potentially you expect a single value.\n   * @param query: the query as a  jsonPath\n   * @param position: in case the jsonPath is relative\n   */\n  queryModelToSingle(query: string, position?: string): ModelQuerySingleResult|null {\n    let root = this.content;\n    if (position) {\n      root = this.findAtPosition(position, false);\n    }\n    let result = JSONPath({\n      path: query,\n      json: root,\n      resultType: 'all',\n      wrap: false,\n    });\n    if (Array.isArray(result)) {\n      if (result.length <= 1) result = result[0];\n      else\n        throw new Error(\n          'Multiple results returned by queryModelToSingle with path ' + query\n        );\n    }\n    // In Dont-code, on the contrary of Json Pointer, you don't start a pointer by /\n    if (result?.pointer?.startsWith('/')) {\n      result.pointer = result.pointer.substring(1);\n    }\n\n    if (result != null) {\n      delete result.path;\n      delete result.parent;\n      delete result.parentProperty;\n    }\n    return result as ModelQuerySingleResult;\n  }\n\n  /**\n   * Returns the list of values that are possible target of a given property path. With this the Builder User Interface can display to the user a combo-box will all targets\n   * For example, with the following Dont-code model:\n   * \"from\": {\n   *           \"type\": \"string\",\n   *           \"format\": \"$.creation.sources.name\"\n   *         }\n   *\n   * findAllPossibleTargetsOrProperty (\"from\", ...) will returns all sources names.\n   * @param property\n   * @param position\n   * @param schemaItem\n   */\n  findAllPossibleTargetsOfProperty(\n    property: string,\n    position: string,\n    schemaItem?: DontCodeSchemaItem\n  ): Array<any> {\n    if (schemaItem == null) {\n      const ptr = this.schemaMgr.generateSchemaPointer(position);\n      schemaItem = this.schemaMgr.locateItem(\n        ptr.subPropertyPointer(property).positionInSchema,\n        true\n      );\n    }\n    const targetPath = schemaItem?.getTargetPath();\n    if (schemaItem && targetPath) {\n      const lastDotPos = targetPath.lastIndexOf('.');\n      return this.queryModelToArray(targetPath.substring(0, lastDotPos) + '.*');\n    } else {\n      throw new Error(\n        'No Schema or no format definition for ' + position + '/' + property\n      );\n    }\n  }\n\n  /**\n   * Returns the exact element that matches the target of a given property path.\n   *\n   * For example, with the following Dont-code model:\n   * \"from\": {\n   *           \"type\": \"string\",\n   *           \"format\": \"$.creation.sources.name\"\n   *         }\n   *\n   * and an instantiated model like this:\n   * {\n   *   \"from\": \"EntityName\"\n   * }\n   * findAllPossibleTargetsOrProperty (\"from\", ...) will return only the source named \"EntityName\".\n   * @param property\n   * @param position\n   * @param schemaItem\n   */\n  findTargetOfProperty(\n    property: string,\n    position: string,\n    schemaItem?: DontCodeSchemaItem\n  ): ModelQuerySingleResult | null {\n    const src = this.findAtPosition(position, false);\n    if (src && src[property]) {\n      if (schemaItem == null) {\n        const ptr = this.schemaMgr.generateSchemaPointer(position);\n        schemaItem = this.schemaMgr.locateItem(\n          ptr.subPropertyPointer(property).positionInSchema,\n          true\n        );\n      }\n      const targetPath = schemaItem?.getTargetPath();\n      if (schemaItem && targetPath) {\n        const lastDotPos = targetPath.lastIndexOf('.');\n        //        const filteredQuery = targetPath.substring(0, lastDotPos)+'[?(@.'+targetPath.substring(lastDotPos+1)+'===\"'+src[property]+'\")]';\n        const filteredQuery =\n          targetPath.substring(0, lastDotPos) +\n          \"[?(@['\" +\n          targetPath.substring(lastDotPos + 1) +\n          '\\']===\"' +\n          src[property] +\n          '\")]';\n        return this.queryModelToSingle(filteredQuery);\n      } else {\n        throw new Error(\n          'No Schema or no format definition for ' + position + '/' + property\n        );\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Insert a property at the end of an object or before the specified property\n   * @param parent\n   * @param propName\n   * @param value\n   * @param beforeProp\n   */\n  insertProperty(\n    parent: any,\n    propName: string,\n    value: any,\n    beforeProp?: string\n  ) {\n    if (beforeProp) {\n      // Reinsert all properties of the object and inject the new one at the right order\n      const keys = Object.keys(parent);\n      for (const key of keys) {\n        if (key !== propName) {\n          const copy = parent[key];\n          delete parent[key];\n          if (key === beforeProp) {\n            if (parent[propName] !== undefined) delete parent[propName];\n            parent[propName] = value;\n          }\n          parent[key] = copy;\n        }\n      }\n    } else {\n      if (parent[propName] !== undefined) delete parent[propName];\n      parent[propName] = value;\n    }\n  }\n\n  /**\n   * From a DefinitionUpdateConfig given by a repository configuration, generates a Change that can be applied to the model.\n   * @param definition\n   */\n  convertToChange(definition: DefinitionUpdateConfig): Change {\n    let ptr = this.schemaMgr.generateSchemaPointer(definition.location.parent);\n    const schemaItem = this.schemaMgr.locateItem(ptr.positionInSchema, false);\n    if (schemaItem.isArray()) {\n      if ((definition.location.id == null) || (definition.location.id === '*')) {\n        // We must create a subelement\n        ptr = ptr.subItemPointer(this.generateNextKeyForPosition(ptr.position, true));\n      } else {\n        ptr = ptr.subItemPointer(definition.location.id);\n      }\n    } else {\n      if (definition.location.id != null) {\n        ptr = ptr.subItemPointer(definition.location.id);\n      }\n    }\n    return new Change(ChangeType.ADD, ptr.position, definition.update\n      , ptr\n      , definition.location.after);\n\n  }\n\n  /**\n   * Try to guess which field is most likely to represent the name of an object (ususally a field with name \"name\", or \"title\")\n   * @param position\n   * @param modelAsJson\n   */\n  guessNamePropertyOfElement(position: string | null, modelAsJson: any): string | null {\n    if (modelAsJson == null) {\n      if (position == null)\n        throw new Error(\"Either position or model must be provided\");\n      modelAsJson = this.findAtPosition(position, false);\n      if (modelAsJson == null) {\n        throw new Error(\"Position \" + position + \" does not exist in model\");\n      }\n    }\n    if ((modelAsJson.fields != null) && (Array.isArray(modelAsJson.fields)))\n      modelAsJson = modelAsJson.fields;\n\n    const curScore: { score: number, field: any } = {score: -1, field: null};\n\n    for (const field in modelAsJson) {\n      if (DontCodeModelManager.scoreFieldAsName(modelAsJson[field].name, modelAsJson[field].type, curScore))\n        break;\n    }\n\n    if (curScore.score > 0) {\n      return curScore.field;\n    } else\n      return null;\n\n  }\n\n  public static guessNamePropertyOfObject(obj: any): string | null {\n    const score: { score: number, field: any } = {score: -1, field: null};\n    for (const prop in obj) {\n      DontCodeModelManager.scoreFieldAsName(prop, 'Text', score);\n    }\n    if (score.score > 0)\n      return score.field;\n    else\n      return null;\n  }\n\n  public static guessNamePropertyFromList(...list: string[]): string | null {\n    const score: { score: number, field: any } = {score: -1, field: null};\n    for (const prop of list) {\n      DontCodeModelManager.scoreFieldAsName(prop, 'Text', score);\n    }\n    if (score.score > 0)\n      return score.field;\n    else\n      return null;\n  }\n\n  /**\n   * Checks the probability the name given (and type) is field name that represents the name of the element.\n   * @param name\n   * @param type\n   * @param score\n   * @protected\n   */\n  protected static scoreFieldAsName(name: string, type: string, score: { score: number, field: any }): boolean {\n    if (name == null)\n      return false;\n    const propName = name.toLowerCase();\n    for (const [key, value] of this.NAME_PROPERTY_NAMES) {\n      if (propName === key) {\n        const foundScore = value ?? 0;\n        if (score.score < foundScore) {\n          score.score = foundScore;\n          score.field = name;\n          if (score.score == 100)\n            return true;\n        }\n      } else if (propName.includes(key)) {\n        const foundScore = (value ?? 0) / 2;\n        if (score.score < foundScore) {\n          score.score = foundScore;\n          score.field = name;\n        }\n      }\n    }\n\n    if (type == \"Text\") {\n      if (score.score < 20) {\n        score.score = 20;\n        score.field = name;\n      }\n    }\n\n    if (score.score > 0) return true;\n    else return false;\n  }\n\n  protected static readonly NAME_PROPERTY_NAMES = new Map<string, number>([\n    ['name', 100],\n    ['nom', 100],\n    ['title', 80],\n    ['titre', 80],\n    ['lastname', 80],\n    ['label', 70],\n    ['libell', 70]\n  ])\n\n  /**\n   * Extract the value of any data in parameter. It can handle complex data and flattens it into something that you can calculate or act upon (number or string)\n   * @param obj\n   * @param metaData Will store information about how to extract the data for this item. Will accelerate greatly extraction for other similar data.\n   * @param position\n   * @param schemaItem\n   * @protected\n   */\n  public extractValue<T>(obj: T, metaData: DataTransformationInfo, position?: DontCodeModelPointer, schemaItem?: DontCodeSchemaItem): any {\n    if (obj == null)\n      return obj;\n    if (!metaData.parsed) {\n      this.extractMetaData(obj, metaData, position, schemaItem);\n    }\n\n    // We already know what to do\n    if (metaData.direct) {\n      return obj;\n    } else {\n      if (metaData.array) {\n        if ((obj as Array<T>).length > 0) {\n          obj = (obj as Array<T>)[0];\n        } else return obj;\n      }\n      if (metaData.subValue != null) {\n        return (obj as any)[metaData.subValue];\n      } else if (metaData.subValues!=null) {\n\n        for (let i=0;i<metaData.subValues.length; i++) {\n          obj=(obj as any)[metaData.subValues[i]];\n          if (obj==null) break;\n        }\n        return obj;\n\n      } else {\n        // If we couldn't determine the object's value, maybe it's because the value is not present\n        return undefined;\n      }\n    }\n  }\n\n  /**\n   * Apply the primitive value back in the object\n   * @param obj\n   * @param value\n   * @param metaData Will store information about how to extract the data for this item. Will accelerate greatly extraction for other similar data.\n   * @param valueObj if any, the object that contained the source. In case you want to apply other values of the source as well\n   * @param position\n   * @param schemaItem\n   * @return The object with the primitive set or the value if the obj is indeed a primitive already\n   */\n  public applyValue <T>(obj: T, value:any, metaData: DataTransformationInfo, valueObj?: T, position?: DontCodeModelPointer, schemaItem?: DontCodeSchemaItem): T {\n    if (obj == null)\n      return value;\n\n    if (!metaData.parsed) {\n      this.extractMetaData(obj, metaData, position, schemaItem);\n    }\n\n    // We already know what to do\n    if (metaData.direct) {\n      return value as unknown as T;\n    } else {\n      if (metaData.array) {\n          // We extract the first element of the array\n        if ((obj as Array<T>).length > 0) {\n          obj = (obj as Array<T>)[0];\n        } else {\n          if (value!=undefined) // Only undefined are not pushed, null values can be pushed\n            (obj as Array<T>).push(value as unknown as T);\n          return obj\n        }\n      }\n      if (metaData.subValue != null) {\n        if( value===undefined) {\n          delete (obj as any)[metaData.subValue];\n        } else {\n          (obj as any)[metaData.subValue]=value;\n        }\n      } else if (metaData.subValues != null) {\n        let curObj = obj as any;\n        if (value === undefined) {\n          for (let i=0;i<metaData.subValues.length-1; i++) {\n            curObj=curObj[metaData.subValues[i]];\n            if (curObj==null) break;\n          }\n            // Delete the element only it there was one\n          if( (curObj!=null) && (curObj[metaData.subValues[metaData.subValues.length-1]]!=undefined)) {\n              delete curObj[metaData.subValues[metaData.subValues.length-1]];\n\n          }\n        } else {\n          for (let i=0;i<metaData.subValues.length-1; i++) {\n            if (curObj[metaData.subValues[i]]==undefined) {\n              curObj[metaData.subValues[i]]={};\n            }\n            curObj = curObj[metaData.subValues[i]];\n          }\n\n          if ((curObj[metaData.subValues[metaData.subValues.length-1]]==null) && (valueObj!=null)) {\n            let curValueObj=valueObj as any;\n            for (let i=0;i<metaData.subValues.length-1; i++) {\n              if (curValueObj[metaData.subValues[i]]==null) {\n                curValueObj=null;\n                break;\n              }\n              curValueObj = curValueObj[metaData.subValues[i]];\n            }\n  \n            if (curValueObj!=null) {\n                // The element to copy to was null, so let's copy all properties from the second element\n                for (const valueProp in curValueObj) {\n\n                  if ((curObj[valueProp]==null) && (curValueObj[valueProp]!=null)) {\n                    curObj[valueProp]= structuredClone (curValueObj[valueProp]);\n                  }\n                }\n              }\n          }\n            // apply the value\n          curObj[metaData.subValues[metaData.subValues.length-1]]=value;\n        }\n      }\n      return obj;\n    }\n  }\n\n  /**\n   * Guess how values can be set or extracted from an unknown object\n   * @param obj\n   * @param metaData\n   * @param position\n   * @param schemaItem\n   */\n  public extractMetaData<T>(obj: T, metaData: DataTransformationInfo, position?: DontCodeModelPointer, schemaItem?: DontCodeSchemaItem): void {\n\n    metaData.parsed = true;\n    metaData.subValue = null;\n    metaData.subValues = null;\n    if (typeof obj !== 'object') {\n      if (obj != null) {\n        metaData.direct = true;\n      } else {\n        metaData.parsed = false;\n      }\n    } else {\n      if (Array.isArray(obj)) {\n        metaData.array = true;\n        // eslint-disable-next-line no-restricted-syntax\n        console.debug(\"Getting an array as a value for metadata extraction\", obj);\n        if ((obj as Array<any>).length > 0) {\n          obj = (obj as Array<any>)[0];\n        } else {\n          metaData.parsed = false;\n        }\n      }\n      if (obj instanceof Date) {\n        metaData.direct = true;\n      } else {\n        // It's an unknown object\n        if ((obj as any).value !== undefined) {\n          metaData.subValue = 'value';\n        } else if ((obj as any).amount !== undefined) {\n          // It's an MoneyAmount\n          metaData.subValue = 'amount';\n        } else if ((obj as any).cost !== undefined) {\n            // It's a PriceModel\n          metaData.subValues = ['cost','amount'];\n        } else {\n          let firstKey = null;\n          for (const key in obj) {\n            if (firstKey == null) firstKey = key;\n            if ((obj[key] != null) && (typeof (obj[key]) !== 'object')) {\n              metaData.subValue = key;\n            }\n          }\n          if ((metaData.subValue == null)&& (metaData.subValues==null)) {\n            if ((typeof obj!=='object') || (obj instanceof Date)) {\n              metaData.subValue = firstKey;\n              console.warn(\"Guessed value key of \" + metaData.subValue + ' for object:', obj);\n            } else {\n              console.warn(\"Cannot guess value for object: \", obj);\n              metaData.parsed=false;\n              metaData.subValue=null;\n              metaData.subValues=null;\n              metaData.direct=false;\n              metaData.array=false;\n            }\n          }\n\n        }\n      }\n    }\n  }\n\n\n  /**\n   * Modify the first element with the value of the second element by applying the operator given in parameter\n   * @param firstElement\n   * @param secondElement\n   * @param metaData Will store information about how to extract the data for this item. Will accelerate greatly extraction for other similar data.\n   * @param operator\n   * @param position\n   * @param schemaItem\n   * @protected\n   */\n  public modifyValues<T>(firstElement: T, secondElement: T, metaData: DataTransformationInfo, operator: (firstValue: any, secondValue: any) => any , position?: DontCodeModelPointer, schemaItem?: DontCodeSchemaItem): T {\n    if (firstElement == null) {\n      throw new Error(\"Cannot modify value of null object\");\n    }\n    const firstValue = this.extractValue(firstElement, metaData, position, schemaItem);\n    const secondValue =this.extractValue(secondElement, metaData, position, schemaItem); \n    const calculatedValue = operator(firstValue, secondValue);\n\n      return this.applyValue(firstElement, calculatedValue, metaData, secondElement, position, schemaItem);\n  }\n}\n/**\n * Keep track of information about how to extract value of data\n */\nexport class DataTransformationInfo {\n  parsed = false; // Has the element been parsed ?\n  array=false; // Is it an array ?\n  direct = false; // Is the element already a usable value (not an object)\n  subValue:string|null=null; // What field will give the usable value ?\n  subValues:string[]|null=null; // What list of fields needs to be following to extract the usable value ?\n}\n\nclass AtomicChange {\n  type!: ChangeType;\n  name = '';\n  subChanges = new Array<AtomicChange>();\n  isRoot = false;\n  oldPosition: string | undefined;\n  value: any;\n\n  constructor(\n    type?: ChangeType,\n    name?: string,\n    value?: any,\n    oldPosition?: string\n  ) {\n    if (type) this.type = type;\n    if (name) this.name = name;\n    this.oldPosition = oldPosition;\n    this.value = value;\n  }\n\n  createSubChange(\n    type: ChangeType | undefined,\n    elementName: string,\n    value: any,\n    oldPosition?: string\n  ): AtomicChange {\n    const newChange = new AtomicChange(type, elementName, value, oldPosition);\n    this.subChanges.push(newChange);\n    return newChange;\n  }\n}\n\nexport class ModelQuerySingleResult {\n  value?:any;\n  pointer!:string;\n}\n","import {Observable, ReplaySubject, Subject, throwError} from \"rxjs\";\nimport {Change, ChangeType} from \"./change\";\nimport {DontCodeModelManager} from \"../model/dont-code-model-manager\";\nimport {DontCodeSchemaManager} from \"../model/dont-code-schema-manager\";\nimport {DefinitionUpdateConfig} from \"../globals\";\nimport {DontCodeModelPointer} from \"../model/dont-code-schema\";\nimport {Action} from \"../action/action\";\n\n/**\n * Manages the impact of changes that modify the model.\n * Any element can listen to a change at any level of the model, and gets notified accordingly\n */\nexport class DontCodeChangeManager {\n\n  protected receivedChanges!:Subject<Change>;\n\n  protected listeners = new Map<\n    { position: string; property?: string },\n    Subject<Change>\n    >();\n  protected listenerCachePerPosition = new Map<\n    string,\n    Array<Subject<Change>>\n    >();\n\n  constructor(protected schemaManager:DontCodeSchemaManager,\n              protected modelManager:DontCodeModelManager) {\n    this.reset();\n  }\n\n  reset() {\n    if (this.receivedChanges!=null)\n      this.receivedChanges.complete();\n    this.receivedChanges = new Subject<Change>();\n    this.listeners.clear();\n    this.listenerCachePerPosition.clear();\n  }\n\n  /**\n   * Check if the change affects the given position\n   * @param pos\n   * @param change\n   * @protected\n   */\n  protected isInterestedIn(\n    position: string,\n    property: string | undefined,\n    change: Change\n  ): boolean {\n    let onlyLevel = false;\n    if (position[position.length - 1] === '?') {\n      onlyLevel = true;\n      position = position.substring(0, position.length - 1);\n    }\n    if (position[position.length - 1] === '/') {\n      position = position.substring(0, position.length - 1);\n    }\n    //console.log(\"Setting Commands updates for \", position);\n    //console.log(\"Filtering position for pos,item:\", command.position, position, lastItem);\n    if (change.position != null && change.position.startsWith(position)) {\n      let nextPosition = DontCodeModelPointer.nextItemAndPosition(\n        change.position,\n        position.length + 1\n      );\n      const nextItem = nextPosition.value;\n      if (property) {\n        if (nextItem === property) {\n          //console.log(\"Filtering ok\");\n          return true;\n        } else {\n          // Supports for listeners like \"creation/entities\", with \"name\" property that are in fact \"creation/entities/xxanyEntityIDxx\", with \"name\" property\n          nextPosition = DontCodeModelPointer.nextItemAndPosition(\n            change.position,\n            nextPosition.pos + 1\n          );\n          if (nextPosition.value === property) {\n            return true;\n          }\n        }\n        //console.log(\"Filtering no\");\n        return false;\n      } else if (onlyLevel) {\n        //console.log(\"Filtering ok\");\n        if (nextItem != null) {\n          // Check if its the last item\n          nextPosition = DontCodeModelPointer.nextItemAndPosition(\n            change.position,\n            nextPosition.pos + 1\n          );\n          if (nextPosition.value === '') return true;\n        }\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      //console.log(\"Filtering no\");\n      return false;\n    }\n  }\n\n  protected createNewListener(\n    position: string,\n    property?: string\n  ): Observable<Change> {\n    const key = { position, property };\n\n    this.clearEmptyListeners ();\n    let item = this.listeners.get(key);\n    if (item == null) {\n      item = new ReplaySubject<Change>(1);\n      this.listeners.set(key, item);\n      this.listenerCachePerPosition.clear();\n    }\n\n        // Someone was listening to the same element, so we need to send the initial Reset only to the new listener\n    if (item.observed==true) {\n      return throwError( () => new Error (\"Several components listen to the same position {\"+position+', '+property));\n    }\n\n\n    // In case the model already contains a value the listener is interested in, just call it already\n    const cleanedPosition = this.cleanPosition(position);\n    const existing = this.modelManager.findAtPosition(cleanedPosition, false);\n    if (existing!=null) {\n      let chg = new Change(ChangeType.RESET, cleanedPosition, existing, this.schemaManager.generateSchemaPointer(cleanedPosition));\n      if (this.isInterestedIn(position, property, chg)) {\n        item.next(chg);\n      } else {\n        // Try to find if a sub element works (in case the listener wants all changes inside an array, for example \"creation/entities\" and \"name\" property)\n        if (property!=null) {\n          for (const propKey in existing) {\n            chg = new Change(ChangeType.RESET, cleanedPosition + '/' + propKey, existing[propKey], this.schemaManager.generateSchemaPointer(cleanedPosition + '/' + propKey));\n            if (this.isInterestedIn(position, property, chg)) {\n              item.next(chg);\n            } else if ((property!=null)&&(existing[propKey][property]!=null)) {\n              chg = new Change(ChangeType.RESET, cleanedPosition + '/' + propKey+'/'+property, existing[propKey][property], this.schemaManager.generateSchemaPointer(cleanedPosition + '/' + propKey+'/'+property));\n              if (this.isInterestedIn(position, property, chg)) {\n                item.next(chg);\n              }\n            }\n          }\n        }\n      }\n    }\n    return item;\n  }\n\n  protected addToListenerCache(position: string, who: Subject<Change>) {\n    let interesteds = this.listenerCachePerPosition.get(position);\n    if (!interesteds) {\n      interesteds = new Array<Subject<Change>>();\n      this.listenerCachePerPosition.set(position, interesteds);\n    }\n\n    interesteds.push(who);\n  }\n\n  getJsonAt(position: string): any {\n    return this.modelManager.findAtPosition(position, false);\n  }\n\n  /**\n   * Adds to the model the updates of configuration defined by the plugin or by the repository\n   * @param defs\n   */\n  applyPluginConfigUpdates (defs: DefinitionUpdateConfig[] | undefined):void {\n    if (defs!=null) {\n      for (const definition of defs) {\n        this.pushChange(this.modelManager.convertToChange(definition));\n      }\n    }\n\n  }\n\n  /**\n   * Updates the model by the change (by calling DontCodeModelManager.applyChange ()), and notifies all listeners of the modifications\n   * @param change\n   * @return true if at least one listener has been called\n   */\n  pushChange(change: Change): boolean {\n    let ret=false;\n    const subChanges = this.modelManager.applyChange(change);\n    ret = this.manageChangeInternally(change);\n    // Sends as well the subChanges induced by this change\n    for (const subChange of subChanges) {\n      if (\n        subChange.type !== change.type ||\n        subChange.position !== change.position\n      ) {\n        const otherRet=this.manageChangeInternally(subChange);\n        ret = ret || otherRet;\n      }\n    }\n    return ret;\n  }\n\n  manageChangeInternally(change: Change): boolean {\n    if (!change.pointer) {\n      change.pointer = this.calculatePointerFor(change.position);\n    }\n    this.receivedChanges.next(change);\n    return this.findAndNotify(change, new Map<Subject<Change>, Array<string>>());\n  }\n\n  /**\n   * Finds a listener that is interested in this change and notifies it.\n   * @param change\n   * @param alreadyCalled\n   */\n  findAndNotify(\n    change: Change,\n    alreadyCalled: Map<Subject<Change>, Array<string>>\n  ): boolean {\n    let ret=false;\n    // First resolve the position and cache it\n    if (!this.listenerCachePerPosition.get(change.position)) {\n      this.listeners.forEach((value, key) => {\n        if (this.isInterestedIn(key.position, key.property, change)) {\n          this.addToListenerCache(change.position, value);\n        }\n      });\n    }\n\n      // Then call all listeners, but only once\n    const affected = this.listenerCachePerPosition.get(change.position);\n    if (affected!=null) {\n      for (const subject of affected) {\n        let canCall = true;\n        const positions = alreadyCalled.get(subject);\n        if (positions) {\n          // Don't call twice the same listener for the same or parent position\n          for (const position of positions) {\n            if (change.position.startsWith(position)) {\n              canCall = false;\n            }\n          }\n        } else {\n          alreadyCalled.set(subject, new Array<string>());\n        }\n        if (canCall) {\n          ret=true;\n          subject.next(change);\n          alreadyCalled.get(subject)?.push(change.position);\n        }\n      }\n    }\n    return ret;\n  }\n\n  /**\n   * Be notified when something changes in the model at the following position\n   * for example:\n   * position: /creation/screens, property: name will be notified of all name changes for all screens\n   * position: /creation/screens, property: null will be notified of any change in any screen and subscreens\n   * position: /creation/screens/a, property: null will be notified on changes in screen a and below\n   * position: /creation/screens/?, property: null will be notified on changes in screen items (move, delete), and not below\n   * position: null, property: null will be notified on all changes\n   * @param position\n   * @param property\n   */\n  receiveCommands(position?: string, property?: string): Observable<Change> {\n    if (position) {\n      return this.createNewListener(position, property);\n    } else return this.receivedChanges;\n  }\n\n  getSchemaManager(): DontCodeSchemaManager {\n    return this.schemaManager;\n  }\n\n  calculatePointerFor(position: string): DontCodeModelPointer {\n    const ret = this.schemaManager.generateSchemaPointer(position);\n    return ret;\n  }\n\n  close() {\n    this.receivedChanges.complete();\n  }\n\n  /**\n   * Removes ? or / from end of position\n   * @param position\n   * @private\n   */\n  private cleanPosition(position: string): string {\n    position = position.endsWith('?')\n      ? position.substring(0, position.length - 1)\n      : position;\n    position = position.endsWith('/')\n      ? position.substring(0, position.length - 1)\n      : position;\n    return position;\n  }\n\n  protected clearEmptyListeners() {\n    const toRemove=new Array<{position:string, property?:string}>\n    for (const listener of this.listeners) {\n      if( !listener[1].observed) {\n        toRemove.push(listener[0]);\n      }\n    }\n\n    for (const remove of toRemove) {\n      this.listeners.delete(remove);\n    }\n  }\n}\n","import * as DontCode from './globals';\nimport { DontCodeSchemaManager } from './model/dont-code-schema-manager';\nimport { DontCodePluginManager } from './plugin/dont-code-plugin-manager';\nimport { DontCodePreviewManager } from './plugin/preview/dont-code-preview-manager';\nimport { DontCodeStoreManager } from './store/dont-code-store-manager';\nimport { DontCodeModelManager } from './model/dont-code-model-manager';\nimport {DontCodeChangeManager} from \"./change/dont-code-change-manager\";\nimport {Core} from \"./globals\";\n\nexport class DontCodeCore implements DontCode.Core {\n  protected schemaManager: DontCodeSchemaManager;\n  protected pluginManager: DontCodePluginManager;\n  protected previewManager: DontCodePreviewManager;\n  protected storeManager: DontCodeStoreManager;\n  protected modelManager: DontCodeModelManager;\n  protected changeManager: DontCodeChangeManager;\n\n  constructor() {\n    console.debug(\"Init core\");\n    this.schemaManager = new DontCodeSchemaManager();\n    this.pluginManager = new DontCodePluginManager();\n    this.previewManager = new DontCodePreviewManager();\n    this.modelManager = new DontCodeModelManager(this.schemaManager);\n    this.changeManager = new DontCodeChangeManager(this.schemaManager, this.modelManager);\n    this.storeManager = new DontCodeStoreManager(this.modelManager);  }\n\n  reset(): DontCode.Core {\n    this.schemaManager.reset();\n    this.pluginManager.reset();\n    this.previewManager.reset();\n    this.modelManager.reset();\n    this.changeManager.reset();\n    this.storeManager.reset();\n    return this;\n  }\n\n  registerPlugin(plugin: DontCode.Plugin): void {\n    this.pluginManager.registerPlugin(\n      plugin,\n      this.schemaManager,\n      this.previewManager\n    );\n  }\n\n  initPlugins (): void {\n    this.pluginManager.initPlugins (this);\n  }\n\n  getSchemaUri(): string {\n    return 'schemas/v1/dont-code-schema.json';\n  }\n\n  /**\n   * Returns the schema of dont-code augmented by plugins\n   */\n  getSchemaManager(): DontCodeSchemaManager {\n    return this.schemaManager;\n  }\n\n  getPreviewManager(): DontCodePreviewManager {\n    return this.previewManager;\n  }\n\n  getStoreManager(): DontCodeStoreManager {\n    return this.storeManager;\n  }\n\n  getModelManager(): DontCodeModelManager {\n    return this.modelManager;\n  }\n\n  getChangeManager(): DontCodeChangeManager {\n    return this.changeManager;\n  }\n\n}\n\nif (!(self as any).dontCodeCore)\n  (self as any).dontCodeCore = new DontCodeCore();\n// eslint-disable-next-line no-var\nexport var dtcde: Core = (self as any).dontCodeCore;\n","import { Change } from '@dontcode/core';\n\n/**\n * Description of a message exchanged between the components (client, services)\n * It can be an INIT with the sessionId requested or given\n * Or a CHANGE with the sessionId and Change\n */\nexport class Message {\n  type: MessageType;\n  sessionId?: string;\n  change?: Change;\n\n  constructor(type: MessageType, sessionId?: string, change?: Change) {\n    this.type = type;\n    this.sessionId = sessionId;\n    this.change = change;\n  }\n}\n\nexport enum MessageType {\n  INIT = 'INIT',\n  CHANGE = 'CHANGE',\n}\n","/**\n * Store a monetary amount together with the currency (value and currency).\n * To be used by all fields managing currencies ('Euro', 'Dollar', 'Other currency' by default) in order to facilitate exchange between plugins\n */\nexport class MoneyAmount {\n  amount: number | undefined;\n  currencyCode: string | undefined;\n}\n","import {Action} from \"../action/action\";\n\n/**\n * Defines how an action handler can act on data\n */\nexport interface ActionHandler {\n\n  /**\n   * Performs an action given the scope, the position in the meta-model, the action name and the data\n   * These actions do not return any data\n   * @param action\n   */\n  performAction (action: Action):Promise<void>;\n}\n\n/**\n * Helper in case you have synchronous action only and you don't want to manage promises\n */\nexport abstract class AbstractActionHandler implements ActionHandler {\n\n  performAction(action: Action): Promise<void> {\n    return new Promise(() => {\n      this.performSynchronousAction(action);\n    });\n  }\n\n  performSynchronousAction (action:Action): void {\n    // To be implemented\n    throw new Error (\"Action \"+action+\" for \"+action.context.valueOf()+\" at \"+action.position+\" not implemented yet\");\n  }\n}\n","import {\n  DontCodeStoreAggregate,\n  DontCodeStoreCriteria,\n  DontCodeStoreCriteriaOperator,\n  DontCodeStoreGroupby,\n  DontCodeStoreSort\n} from \"./dont-code-store-manager\";\nimport {DataTransformationInfo, DontCodeModelManager} from \"../model/dont-code-model-manager\";\nimport {DontCodeSchemaItem} from \"../model/dont-code-schema-item\";\nimport {DontCodeModelPointer} from \"../model/dont-code-schema\";\nimport {DontCodeGroupOperationType} from \"../globals\";\n\n/**\n * Helps handle metadata information about loaded items\n */\nexport class StoreProviderHelper {\n\n  static specialFieldsCache = new Map<string, SpecialFields>();\n  /**\n   * In case some entity definition has changed, clear the cache\n   */\n  public static clearConfigCache (): void {\n    this.specialFieldsCache.clear();\n  }\n\n  /**\n   * In case the provider source doesn't support search criteria, they can be applied here\n   * @param list\n   * @param criteria\n   */\n  public static applyFilters<T> (list:Array<T>, ...criteria: DontCodeStoreCriteria[]): Array<T> {\n    if ((criteria==null)||(criteria.length==0)) return list;\n    return list.filter(element => {\n      for (const criterium of criteria) {\n        const toTest = element[criterium.name as keyof T];\n        switch (criterium.operator) {\n          case DontCodeStoreCriteriaOperator.EQUALS:\n            return criterium.value==toTest;\n          case DontCodeStoreCriteriaOperator.LESS_THAN:\n            return toTest < criterium.value;\n          case DontCodeStoreCriteriaOperator.LESS_THAN_EQUAL:\n            return toTest <= criterium.value;\n          default:\n            throw new Error (\"Operator \"+criterium.operator+\" unknown\");\n        }\n      }\n      return true;\n    });\n    return list;\n  }\n\n  /** Returns any field who is a date, in order to convert it from json. Keep the result in a cache map\n   *\n   * @param position\n   * @param entity\n   * @protected\n   */\n  public static findSpecialFields (position:string, entity:any):SpecialFields {\n    let specialFields = StoreProviderHelper.specialFieldsCache.get(position);\n    if (specialFields!=null) return specialFields;\n\n    const curScore: {score:number, field:any} = {score:-1, field:null}\n\n    specialFields = new SpecialFields();\n    const fields = entity.fields;\n    if( fields!=null) {\n      let prop: keyof typeof fields;\n      for (prop in fields) {\n        // Finds the date fields that will need to be converted from json to javascript Date\n        if (fields[prop]?.type==='Date' || fields[prop]?.type==='Date & Time') {\n          specialFields.addDateField(fields[prop]?.name);\n        } else {\n          StoreProviderHelper.scoreIdFieldFromEntityField(fields[prop], curScore);\n        }\n      }\n    }\n    if (curScore.score>0) {\n      specialFields.idField=curScore.field;\n    }\n    StoreProviderHelper.specialFieldsCache.set(position, specialFields);\n\n    // eslint-disable-next-line no-restricted-syntax\n    console.debug(\"Found special fields for entity at position \"+position, specialFields);\n    return specialFields;\n  }\n\n  protected static findSpecialFieldsFromData(data: Array<any>, existingFields: SpecialFields) {\n    if( (existingFields.idField==null) && (data?.length>0)) {\n      // We must guess the id field from data\n      const first=data[0];\n      const curScore: {score:number, field:any} = {score:-1, field:null}\n      let prop: keyof typeof first;\n\n      for (prop in first) {\n        StoreProviderHelper.scoreIdFieldFromProperty(prop, curScore);\n      }\n      if (curScore.score>0) {\n        const test=data.length>1?data[Math.floor((data.length+1)/2)]:null;\n        if ((test==null) || (test[curScore.field]!=first[curScore.field]))  // Just check that another element doesn't have the same value as an id should be unique\n          existingFields.idField=curScore.field;\n      }\n    }\n  }\n\n  protected static scoreIdFieldFromEntityField (prop:any, score:{score:number, field:any}): boolean {\n    return StoreProviderHelper.scoreIdFieldFromProperty(prop?.name, score);\n  }\n\n  protected static scoreIdFieldFromProperty (name:string, score:{score:number, field:any}): boolean {\n    if( name==null)\n      return false;\n    const propName=name.toLowerCase();\n    // Finds if the element is the id field\n    if( propName === \"_id\") {\n      score.field=\"_id\";  // Don't need to process Id\n      score.score = 100;\n      return true;\n    } else {\n      if ((propName == \"id\")||(propName==\"uniqueid\")||(propName==\"identifier\") || (propName=='key') || (propName=='primaryKey')||(propName=='uniqueKey')) {\n        if (score.score<80) {\n          score.score=80;\n          score.field=name;\n        }\n      } else if (propName.includes(\"unique\")||propName.includes(\"primary\")) {\n        if (score.score<50) {\n          score.score = 50;\n          score.field=name;\n        }\n      }else if (propName.includes(\"id\")||propName.includes('key')) {\n        if (score.score<30) {\n          score.score = 30;\n          score.field=name;\n        }\n      }\n      return false;\n    }\n\n  }\n  /**\n   * Ensure _id is removed if necessary before saving the element\n   * @param listToConvert\n   * @param specialFields\n   * @protected\n   */\n  public static cleanUpDataBeforeSaving (listToConvert:Array<any>, specialFields:SpecialFields) : void {\n    if ((specialFields?.idField!=null)&&(specialFields?.idField!='_id')) {\n      listToConvert.forEach(value => {\n        delete value._id;\n      })\n    }\n  }\n\n  /**\n   * Converts dates and dateTimes properties of each element of the array to Typescript format\n   * Ensure _id is set with the right id\n   * @param listToConvert\n   * @param specialFields\n   * @protected\n   */\n  public static cleanUpLoadedData (listToConvert:Array<any>, specialFields:SpecialFields) : void {\n\n    if (specialFields!=null) {\n      if( specialFields.idField==null) {\n        StoreProviderHelper.findSpecialFieldsFromData (listToConvert, specialFields);\n      }\n      listToConvert.forEach((val)=> {\n        if ((specialFields.idField!=null)&&(specialFields.idField!=\"_id\")) // We need to copy the id to the standard _id field\n        {\n          val._id=val[specialFields.idField];\n        }\n        specialFields.dateFields?.forEach(prop => {\n          const toConvert = val[prop];\n          if (toConvert!=null) {\n            let timeEpoch =Date.parse(toConvert);\n            if( isNaN(timeEpoch)) {\n              // Invalid date try to remove a possible TZ description in []\n              const tzDescIndex = toConvert.lastIndexOf('[');\n              if (tzDescIndex!=-1) {\n                timeEpoch=Date.parse(toConvert.substring(0, tzDescIndex));\n              }\n            }\n            if (isNaN(timeEpoch)) {\n              delete val[prop];\n            }\n            else {\n              val[prop]=new Date(timeEpoch);\n            }\n          }\n        })\n      })\n    }\n  }\n\n  /**\n   * Sort the array using the defined sort declarations across all properties.\n   *\n   * @param toSort\n   * @param sortOptions\n   */\n  static multiSortArray<T>(toSort: T[], sortOptions?: DontCodeStoreSort): T[] {\n    if( sortOptions==null)\n      return toSort;\n    return toSort;\n  }\n\n  /**\n   * Calculates sum, avg, min or max values per group\n   * @param values\n   * @param groupBy\n   * @param modelMgr\n   * @param position\n   * @param item\n   */\n  static calculateGroupedByValues<T>(values: T[], groupBy: DontCodeStoreGroupby, modelMgr?: DontCodeModelManager, position?: DontCodeModelPointer, item?:DontCodeSchemaItem):DontCodeStoreGroupedByEntities|undefined {\n      // We are counting per different value of the groupedBy Item\n    if ((groupBy!=null) && (groupBy.display!=null)) {\n      let fieldToGroupBy=groupBy.of as keyof T;\n      if (groupBy.show!=null) fieldToGroupBy=groupBy.show.valueOf() as keyof T;\n\n      const counters=new Map<any,Map<keyof T, Counters>> ();\n      let lastGroupDelimiter:any;\n      let oneGroupOfCounters=new Map<keyof T, Counters>();\n\n      const fieldsRequired = groupBy.getRequiredListOfFields() as Set<keyof T>;\n      for (const value of values) {\n        if (value[fieldToGroupBy]!=lastGroupDelimiter) {   // We change the group\n          lastGroupDelimiter=value[fieldToGroupBy];\n          const storedGroupOfCounters=counters.get(lastGroupDelimiter);\n          if( storedGroupOfCounters==null) {\n            oneGroupOfCounters = new Map<keyof T, Counters>();\n            counters.set(lastGroupDelimiter, oneGroupOfCounters);\n          }else {\n            oneGroupOfCounters = storedGroupOfCounters;\n          }\n        }\n\n        for (const field of fieldsRequired) {\n          let counter=oneGroupOfCounters?.get(field);\n          if( counter==null) {\n            counter = new Counters();\n            oneGroupOfCounters.set(field, counter);\n          }\n\n          const valSrc=value[field];\n          const val=valSrc;\n          if (valSrc!=null) {\n              // If it's an object, we need to set the calculated values as the object itself\n            if ((typeof valSrc === 'object') &&  (!(valSrc instanceof Date)) && (modelMgr!=null)) {\n              if( counter.sum==null) counter.sum=structuredClone(valSrc);\n              else {\n                counter.sum=modelMgr.modifyValues(counter.sum, valSrc, counter.metaData,\n                  (first, second) => {\n                    if ((first!=null) && (second!=null))\n                      return first + second;\n                    else if (first == null) {\n                      return second;\n                    } else if (second==null) {\n                      return first;\n                    }\n                  },\n                  position, item);\n              }\n              const value=modelMgr.extractValue(valSrc, counter.metaData,position, item);\n              if( counter.minimum==null)  { counter.minimum=valSrc; counter.minAsValue=value}\n              else {\n                const minValue=counter.minAsValue;\n                if ((value!=null) && ((minValue==null) || (value < minValue)) ) { counter.minimum = valSrc; counter.minAsValue=value }\n              }\n\n              if( counter.maximum==null) { counter.maximum=valSrc; counter.maxAsValue=value;}\n              else {\n                const maxValue=counter.maxAsValue;\n\n                if ((value!=null) && ((maxValue==null) || (value > maxValue)))\n                  { counter.maximum = valSrc; counter.maxAsValue = value;}\n              \n              }\n\n              if (value!=null) {\n                counter.count++;\n              }\n\n            } else if (typeof val === 'number') {\n              if( counter.sum==null) counter.sum=0;\n              counter.sum=counter.sum+val;\n              if( (counter.minimum==null) || (val < counter.minimum))\n                { counter.minimum=valSrc; counter.minAsValue=valSrc as number;}\n              if( (counter.maximum==null) || (val > counter.maximum))\n                { counter.maximum=valSrc; counter.maxAsValue=valSrc as number;}\n              counter.count++;\n            } else if ((val instanceof Date) && (!isNaN(val.getTime()))) {\n              counter.sum=null;\n              if ((counter.minimum==null) || (val.valueOf() < counter.minimum.valueOf())) {\n                counter.minimum=valSrc;\n              }\n              if ((counter.maximum==null) || (val.valueOf() > counter.maximum.valueOf())) {\n                counter.maximum=valSrc;\n              }\n              counter.count++;\n            } else {  // strings\n              counter.count++;\n            }\n          }\n        }\n      }\n\n      // Now that we have all the counters, let's generate the GroupedFields\n      let ret: DontCodeStoreGroupedByEntities|undefined;\n      if (counters.size>0) {\n        ret = new DontCodeStoreGroupedByEntities(groupBy, new Map<any,DontCodeStoreGroupedByValues[]>);\n        for (const groupKey of counters.keys()) {\n          const group=counters.get(groupKey)!;\n\n          for (const aggregate of Object.values(groupBy.display)) {\n            let value;\n            const counter = group.get(aggregate.of as keyof T);\n            if (counter != null) {\n              switch (aggregate.operation) {\n                case DontCodeGroupOperationType.Count:\n                  value = counter.count;\n                  break;\n                case DontCodeGroupOperationType.Sum:\n                  value = counter.sum;\n                  break;\n                case DontCodeGroupOperationType.Average: {\n                  if ((counter.sum==null) || (counter.count==0)) value=null;\n                  else if ((typeof counter.sum === 'object') &&  (!(counter.sum instanceof Date)) && (modelMgr!=null)) {\n                    value = modelMgr.applyValue(structuredClone(counter.sum),\n                      modelMgr.extractValue(counter.sum, counter.metaData, position, item)/counter.count,\n                      counter.metaData, undefined, position, item);\n                  } else value = counter.sum / counter.count;\n                }\n                  break;\n                case DontCodeGroupOperationType.Minimum:\n                  value = counter.minimum;\n                  break;\n                case DontCodeGroupOperationType.Maximum:\n                  value = counter.maximum;\n                  break;\n              }\n              let listOfValues= ret.values?.get(groupKey);\n              if (listOfValues==null) {\n                listOfValues = new Array<DontCodeStoreGroupedByValues>();\n                  ret.values?.set(groupKey, listOfValues);\n              }\n              listOfValues.push(new DontCodeStoreGroupedByValues(aggregate, value));\n            }\n          }\n        }\n        return ret.values!.size>0?ret:undefined;\n      }\n    }\n    return undefined;\n  }\n}\n\nclass Counters {\n  sum:any;\n\n  count=0;\n\n  minimum: any;\n  minAsValue: number | null = null;\n\n  maximum: any;\n  maxAsValue: number | null = null;\n\n  metaData = new DataTransformationInfo();\n}\n\nexport class SpecialFields\n{\n  dateFields:Array<string>|null=null;\n  idField:any = null;\n\n  addDateField(name: any) {\n    if (this.dateFields==null) {\n      this.dateFields = new Array<string>();\n    }\n    this.dateFields.push(name);\n  }\n}\n\nexport class DontCodeStorePreparedEntities<T> {\n  constructor(public sortedData:T[], public sortInfo?:DontCodeStoreSort, public groupedByEntities?:DontCodeStoreGroupedByEntities) {\n  }\n}\n\nexport class DontCodeStoreGroupedByEntities {\n  constructor(public groupInfo:DontCodeStoreGroupby, public values?:Map<any,DontCodeStoreGroupedByValues[]>) {\n    if (values==null)\n      this.values=new Map<any,DontCodeStoreGroupedByValues[]>();\n  }\n}\n\nexport class DontCodeStoreGroupedByValues {\n  constructor(public forAggregate:DontCodeStoreAggregate, public value:any) {\n  }\n}\n","import {map, Observable} from 'rxjs';\nimport {\n  DontCodeStoreCriteria,\n  DontCodeStoreGroupby,\n  DontCodeStoreSort,\n  UploadedDocumentInfo\n} from './dont-code-store-manager';\nimport {\n  DontCodeStoreGroupedByEntities,\n  DontCodeStorePreparedEntities,\n  StoreProviderHelper\n} from \"./store-provider-helper\";\nimport {DontCodeDataTransformer} from \"./dont-code-data-transformer\";\nimport { DontCodeModelManager } from '../model/dont-code-model-manager';\n\n/**\n * The standard interface for any store provider\n */\nexport interface DontCodeStoreProvider<T=never> {\n  storeEntity(position: string, entity: T): Promise<T>;\n\n  /**\n   * Rejects the promise if the entity is not found\n   * @param position\n   * @param key\n   */\n  safeLoadEntity(position: string, key: any): Promise<T>;\n  loadEntity(position: string, key: any): Promise<T|undefined>;\n\n  deleteEntity(position: string, key: any): Promise<boolean>;\n\n  searchEntities(\n    position: string,\n    ...criteria: DontCodeStoreCriteria[]\n  ): Observable<Array<T>>;\n\n  searchAndPrepareEntities(\n    position: string,\n    sort?:DontCodeStoreSort,\n    groupBy?:DontCodeStoreGroupby,\n    transformer?: DontCodeDataTransformer<T>,\n    ...criteria: DontCodeStoreCriteria[]\n  ): Observable<DontCodeStorePreparedEntities<T>>;\n\n  canStoreDocument(position?: string): boolean;\n\n  /**\n   * Upload documents to a server store and returns the url or the id needed to retrieve them.\n   * @param toStore\n   * @param position\n   */\n  storeDocuments(\n    toStore: File[],\n    position?: string\n  ): Observable<UploadedDocumentInfo>;\n}\n\nexport abstract class AbstractDontCodeStoreProvider<T=never> implements DontCodeStoreProvider<T> {\n  abstract canStoreDocument(position?: string): boolean;\n\n  abstract deleteEntity(position: string, key: any): Promise<boolean>;\n\n  abstract loadEntity(position: string, key: any): Promise<T|undefined>;\n\n  protected modelMgr?:DontCodeModelManager;\n  \n  constructor (modelMgr?:DontCodeModelManager) {\n    this.modelMgr=modelMgr;\n  }\n\n  safeLoadEntity(position: string, key: any): Promise<T> {\n    return this.loadEntity(position, key).then(value => {\n      if (value==null)\n        return Promise.reject(\"Not found\");\n      else return value;\n    })\n  }\n\n  /**\n   * If the store supports queries with criteria, this function must be implemented, if not, listEntities must be implemented, and this function will apply filters\n   * @param position\n   * @param criteria\n   */\n  searchEntities(position: string, ...criteria: DontCodeStoreCriteria[]): Observable<T[]> {\n    return this.listEntities(position).pipe(\n      map (value => {\n        return StoreProviderHelper.applyFilters(value, ...criteria) as T[];\n      })\n    );\n  }\n\n  /**\n   * Returns the list of entities at a given position in the model. Implements at least this function or searchEntities depending on the capability of the store\n   * @param position\n   * @protected\n   */\n  protected listEntities (position:string): Observable<T[]> {\n    return this.searchEntities(position);\n  }\n\n  searchAndPrepareEntities(position: string, sort?: DontCodeStoreSort, groupBy?: DontCodeStoreGroupby, transformer?: DontCodeDataTransformer<T>, ...criteria: DontCodeStoreCriteria[]): Observable<DontCodeStorePreparedEntities<T>> {\n    return this.searchEntities(position, ...criteria).pipe(\n      map (value => {\n        // Run the transformation if any\n        if (transformer!=null) return transformer.postLoadingTransformation(value);\n        else return value;\n      }),\n      map (value => {\n        let groupedByValues:DontCodeStoreGroupedByEntities|undefined;\n        if((sort!=null) || (groupBy?.atLeastOneGroupIsRequested()===true)) {\n          value = StoreProviderHelper.multiSortArray(value, this.calculateSortHierarchy(sort, groupBy)) as T[];\n          if (groupBy!=null) {\n            groupedByValues = StoreProviderHelper.calculateGroupedByValues(value, groupBy, this.modelMgr);\n          }\n        }\n        return new DontCodeStorePreparedEntities<T> (value, sort, groupedByValues);\n      })\n    );\n  }\n\n  abstract storeDocuments(toStore: File[], position?: string): Observable<UploadedDocumentInfo>;\n\n  abstract storeEntity(position: string, entity: T): Promise<T>;\n\n\n  protected calculateSortHierarchy(sort?: DontCodeStoreSort, groupBy?: DontCodeStoreGroupby ):DontCodeStoreSort|undefined {\n    // We must first sort by the groupBy, and then by the sort\n    let rootSort:DontCodeStoreSort|undefined;\n    if (groupBy!=null) {\n      rootSort=new DontCodeStoreSort(groupBy.of, undefined, sort);\n    } else {\n      rootSort=sort;\n    }\n    return rootSort;\n  }\n\n}\n","import {Change, ChangeType} from '../change/change';\nimport {DontCodeModelPointer} from '../model/dont-code-schema';\nimport {dtcde} from \"../dontcode\";\nimport {AbstractDontCodeStoreProvider} from \"../store/dont-code-store-provider\";\nimport {DontCodeStoreCriteria, UploadedDocumentInfo} from \"../store/dont-code-store-manager\";\nimport {filter, firstValueFrom, from, map, Observable, take, throwError, timer} from \"rxjs\";\nimport {CommandProviderInterface} from \"../plugin/command-provider-interface\";\nimport {DontCodeSchemaManager} from \"../model/dont-code-schema-manager\";\nimport {Action} from \"../action/action\";\nimport { DontCodeModelManager } from '../model/dont-code-model-manager';\n\n/**\n * Ease the unit tests by providing helper functions\n */\nexport class DontCodeTestManager {\n  public static createDeleteChange(\n    containerSchema: string,\n    containerItemId: string | null,\n    schema: string | null,\n    itemId: string | null,\n    property?: string\n  ) {\n    return DontCodeTestManager.createAnyChange(\n      ChangeType.DELETE,\n      containerSchema,\n      containerItemId,\n      schema,\n      itemId,\n      null,\n      property\n    );\n  }\n\n  public static createMoveChange(\n    oldPosition: string,\n    beforeIdOrProperty: string | null,\n    containerSchema: string,\n    containerItemId: string | null,\n    schema: string,\n    itemId: string | null,\n    property?: string\n  ) {\n    const ret = DontCodeTestManager.createAnyChange(\n      ChangeType.MOVE,\n      containerSchema,\n      containerItemId,\n      schema,\n      itemId,\n      null,\n      property\n    );\n    ret.oldPosition = oldPosition;\n    if (beforeIdOrProperty) ret.beforeKey = beforeIdOrProperty;\n    return ret;\n  }\n\n  public static createTestChange(\n    containerSchema: string,\n    containerItemId: string | null,\n    schema: string | null,\n    itemId: string | null,\n    value: any,\n    property?: string\n  ) {\n    return DontCodeTestManager.createAnyChange(\n      ChangeType.ADD,\n      containerSchema,\n      containerItemId,\n      schema,\n      itemId,\n      value,\n      property\n    );\n  }\n\n  /**\n   * To help testing with pre-loaded data, you can add a storeprovider that will return the content of the file in the url\n   * whenever called for the position;\n   * @param position\n   * @param toFetchAsset\n   */\n/*  public static addDummyProviderFromAsset (position:string, toFetchAsset: string): Promise<void> {\n    return fetch(toFetchAsset).then(response => response.json()).then (content => {\n        DontCodeTestManager.addDummyProviderFromContent( position, content);\n    });\n  }\n*/\n\n  /**\n   * To help testing with pre-loaded data, you can add a storeprovider that will return the content of the file in the url\n   * whenever called for the position;\n   * @param position\n   * @param toFetchAsset\n   */\n  public static addDummyProviderFromContent (position:string, toReturn: any, modelMgr?:DontCodeModelManager): void {\n    dtcde.getStoreManager().setProvider(new DummyStoreProvider<never> (toReturn, modelMgr), position);\n  }\n\n  /**\n   * Wait until the tester function returns true. Ideal for ensuring tests wait an async result.\n   * It will call done () if tester was true, or done(\"Timeout\") if tester has always returned false\n   * @param tester\n   * @param done\n   * @param interval\n   * @param maxTry\n   */\n  public static waitUntilTrue ( tester: () => boolean, done: (err?:string) => void, interval?:number, maxTry?:number ): void {\n    DontCodeTestManager.waitUntilTrueAndEmit(tester, interval, maxTry).then ((ok)=> {\n      if (ok) {\n        done ();\n      }else {\n        done (\"Timeout waiting for an event\");\n      }\n    }, (err) => {\n      done (err);\n    });\n  }\n\n  public static waitUntilTrueAndEmit ( tester: () => boolean, interval?:number, maxTry?:number ): Promise<boolean> {\n      interval = interval??50;\n      maxTry=maxTry??50;\n\n      return firstValueFrom(timer(interval, interval).pipe(\n        take(maxTry),\n        filter( ()=> {\n          return tester();\n        }),\n        map(() => {\n            return true;\n          })\n        ),\n      {defaultValue:false}\n      );\n\n  }\n\n\n  public static createAnyChange(\n    type: ChangeType,\n    containerSchema: string,\n    containerItemId: string | null,\n    schema: string | null,\n    itemId: string | null,\n    value: any,\n    property?: string\n  ) {\n    const calcContainerItemId = containerItemId ? '/' + containerItemId : '';\n    const calcItemId = itemId ? '/' + itemId : '';\n    let calcSchema = schema ? '/' + schema : '';\n    if (containerSchema.length == 0) calcSchema = schema ? schema : '';\n    let calcProperty = property ? '/' + property : '';\n    if (containerSchema.length == 0 && calcSchema.length == 0)\n      calcProperty = property ? property : '';\n    const calcPropertySchemaItem = property\n      ? calcSchema + calcItemId\n      : itemId\n      ? calcSchema\n      : '';\n    const calcPropertySchema = property ? calcSchema : '';\n\n    return new Change(\n      type,\n      containerSchema +\n        calcContainerItemId +\n        calcSchema +\n        calcItemId +\n        calcProperty,\n      value,\n      new DontCodeModelPointer(\n        containerSchema +\n          calcContainerItemId +\n          calcSchema +\n          calcItemId +\n          calcProperty,\n        containerSchema + calcSchema + calcProperty,\n        containerSchema + calcContainerItemId + calcPropertySchemaItem,\n        containerSchema + calcPropertySchema,\n        property ?? itemId ?? undefined,\n        property != null\n      )\n    );\n  }\n}\n\n\n/**\n * Helper that emulates a StoreProvider with predefined values\n */\nclass DummyStoreProvider<T> extends AbstractDontCodeStoreProvider<T> {\n\n  content:any;\n\n  constructor(content: any, modelMgr?:DontCodeModelManager) {\n    super(modelMgr);\n    this.content = content;\n  }\n\n  canStoreDocument(position?: string): boolean {\n    return false;\n  }\n\n  deleteEntity(position: string, key: any): Promise<boolean> {\n    return Promise.reject(\"Not implemented by Dummy tester\");\n  }\n\n  loadEntity(position: string, key: any): Promise<T> {\n    if (this.content[key]!=null)\n      return Promise.resolve(this.content[key]);\n    return Promise.reject('Not found');\n  }\n\n  searchEntities(position: string, ...criteria: DontCodeStoreCriteria[]): Observable<Array<T>> {\n    if (Array.isArray(this.content)) {\n      return from([this.content]);\n    } else {\n      return from ([[this.content]]);\n    }\n  }\n\n  storeDocuments(toStore: File[], position?: string): Observable<UploadedDocumentInfo> {\n    return throwError(() => new Error (\"Not implemented by Dummy tester\"));\n  }\n\n  storeEntity(position: string, entity: T): Promise<T> {\n    return Promise.reject(\"Not implemented by Dummy tester\");\n  }\n\n}\n\n/**\n * A Class able to return a pre-defined json value. Can be used to inject to component\n */\nexport class TestProviderInterface implements CommandProviderInterface {\n  constructor(protected toRet: any) {}\n\n  getJsonAt(position: string): any {\n    return this.toRet;\n  }\n\n  receiveCommands(position?: string, lastItem?: string): Observable<Change> {\n    return new Observable<Change>();\n  }\n\n  calculatePointerFor(position: string): DontCodeModelPointer {\n    return dtcde.getSchemaManager().generateSchemaPointer(position);\n  }\n\n  getSchemaManager(): DontCodeSchemaManager {\n    return dtcde.getSchemaManager();\n  }\n\n  sendCommand(action: Action): Promise<void> {\n    return Promise.resolve(undefined);\n  }\n}\n\n","/**\n * Standard API for manipulating projects\n */\nexport class DontCodeProject {\n  name: string = '';\n  template: boolean = false;\n  description: string = '';\n  lastUpdated: Date | undefined;\n}\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n/**\n * @typedef {null|boolean|number|string|PlainObject|GenericArray} JSONObject\n */\n\n/**\n * @typedef {any} AnyItem\n */\n\n/**\n * @typedef {any} AnyResult\n */\n\n/**\n * Copies array and then pushes item into it.\n * @param {GenericArray} arr Array to copy and into which to push\n * @param {AnyItem} item Array item to add (to end)\n * @returns {GenericArray} Copy of the original array\n */\n\nfunction push(arr, item) {\n  arr = arr.slice();\n  arr.push(item);\n  return arr;\n}\n/**\n * Copies array and then unshifts item into it.\n * @param {AnyItem} item Array item to add (to beginning)\n * @param {GenericArray} arr Array to copy and into which to unshift\n * @returns {GenericArray} Copy of the original array\n */\n\n\nfunction unshift(item, arr) {\n  arr = arr.slice();\n  arr.unshift(item);\n  return arr;\n}\n/**\n * Caught when JSONPath is used without `new` but rethrown if with `new`\n * @extends Error\n */\n\n\nvar NewError = /*#__PURE__*/function (_Error) {\n  _inherits(NewError, _Error);\n\n  var _super = _createSuper(NewError);\n\n  /**\n   * @param {AnyResult} value The evaluated scalar value\n   */\n  function NewError(value) {\n    var _this;\n\n    _classCallCheck(this, NewError);\n\n    _this = _super.call(this, 'JSONPath should not be called with \"new\" (it prevents return ' + 'of (unwrapped) scalar values)');\n    _this.avoidNew = true;\n    _this.value = value;\n    _this.name = 'NewError';\n    return _this;\n  }\n\n  return _createClass(NewError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n* @typedef {PlainObject} ReturnObject\n* @property {string} path\n* @property {JSONObject} value\n* @property {PlainObject|GenericArray} parent\n* @property {string} parentProperty\n*/\n\n/**\n* @callback JSONPathCallback\n* @param {string|PlainObject} preferredOutput\n* @param {\"value\"|\"property\"} type\n* @param {ReturnObject} fullRetObj\n* @returns {void}\n*/\n\n/**\n* @callback OtherTypeCallback\n* @param {JSONObject} val\n* @param {string} path\n* @param {PlainObject|GenericArray} parent\n* @param {string} parentPropName\n* @returns {boolean}\n*/\n\n/* eslint-disable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @typedef {PlainObject} JSONPathOptions\n * @property {JSON} json\n * @property {string|string[]} path\n * @property {\"value\"|\"path\"|\"pointer\"|\"parent\"|\"parentProperty\"|\"all\"} [resultType=\"value\"]\n * @property {boolean} [flatten=false]\n * @property {boolean} [wrap=true]\n * @property {PlainObject} [sandbox={}]\n * @property {boolean} [preventEval=false]\n * @property {PlainObject|GenericArray|null} [parent=null]\n * @property {string|null} [parentProperty=null]\n * @property {JSONPathCallback} [callback]\n * @property {OtherTypeCallback} [otherTypeCallback] Defaults to\n *   function which throws on encountering `@other`\n * @property {boolean} [autostart=true]\n */\n\n/* eslint-enable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @param {string|JSONPathOptions} opts If a string, will be treated as `expr`\n * @param {string} [expr] JSON path to evaluate\n * @param {JSON} [obj] JSON object to evaluate against\n * @param {JSONPathCallback} [callback] Passed 3 arguments: 1) desired payload\n *     per `resultType`, 2) `\"value\"|\"property\"`, 3) Full returned object with\n *     all payloads\n * @param {OtherTypeCallback} [otherTypeCallback] If `@other()` is at the end\n *   of one's query, this will be invoked with the value of the item, its\n *   path, its parent, and its parent's property name, and it should return\n *   a boolean indicating whether the supplied value belongs to the \"other\"\n *   type or not (or it may handle transformations and return `false`).\n * @returns {JSONPath}\n * @class\n */\n\n\nfunction JSONPath(opts, expr, obj, callback, otherTypeCallback) {\n  // eslint-disable-next-line no-restricted-syntax\n  if (!(this instanceof JSONPath)) {\n    try {\n      return new JSONPath(opts, expr, obj, callback, otherTypeCallback);\n    } catch (e) {\n      if (!e.avoidNew) {\n        throw e;\n      }\n\n      return e.value;\n    }\n  }\n\n  if (typeof opts === 'string') {\n    otherTypeCallback = callback;\n    callback = obj;\n    obj = expr;\n    expr = opts;\n    opts = null;\n  }\n\n  var optObj = opts && _typeof(opts) === 'object';\n  opts = opts || {};\n  this.json = opts.json || obj;\n  this.path = opts.path || expr;\n  this.resultType = opts.resultType || 'value';\n  this.flatten = opts.flatten || false;\n  this.wrap = hasOwnProp.call(opts, 'wrap') ? opts.wrap : true;\n  this.sandbox = opts.sandbox || {};\n  this.preventEval = opts.preventEval || false;\n  this.parent = opts.parent || null;\n  this.parentProperty = opts.parentProperty || null;\n  this.callback = opts.callback || callback || null;\n\n  this.otherTypeCallback = opts.otherTypeCallback || otherTypeCallback || function () {\n    throw new TypeError('You must supply an otherTypeCallback callback option ' + 'with the @other() operator.');\n  };\n\n  if (opts.autostart !== false) {\n    var args = {\n      path: optObj ? opts.path : expr\n    };\n\n    if (!optObj) {\n      args.json = obj;\n    } else if ('json' in opts) {\n      args.json = opts.json;\n    }\n\n    var ret = this.evaluate(args);\n\n    if (!ret || _typeof(ret) !== 'object') {\n      throw new NewError(ret);\n    }\n\n    return ret;\n  }\n} // PUBLIC METHODS\n\n\nJSONPath.prototype.evaluate = function (expr, json, callback, otherTypeCallback) {\n  var _this2 = this;\n\n  var currParent = this.parent,\n      currParentProperty = this.parentProperty;\n  var flatten = this.flatten,\n      wrap = this.wrap;\n  this.currResultType = this.resultType;\n  this.currPreventEval = this.preventEval;\n  this.currSandbox = this.sandbox;\n  callback = callback || this.callback;\n  this.currOtherTypeCallback = otherTypeCallback || this.otherTypeCallback;\n  json = json || this.json;\n  expr = expr || this.path;\n\n  if (expr && _typeof(expr) === 'object' && !Array.isArray(expr)) {\n    if (!expr.path && expr.path !== '') {\n      throw new TypeError('You must supply a \"path\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    if (!hasOwnProp.call(expr, 'json')) {\n      throw new TypeError('You must supply a \"json\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    var _expr = expr;\n    json = _expr.json;\n    flatten = hasOwnProp.call(expr, 'flatten') ? expr.flatten : flatten;\n    this.currResultType = hasOwnProp.call(expr, 'resultType') ? expr.resultType : this.currResultType;\n    this.currSandbox = hasOwnProp.call(expr, 'sandbox') ? expr.sandbox : this.currSandbox;\n    wrap = hasOwnProp.call(expr, 'wrap') ? expr.wrap : wrap;\n    this.currPreventEval = hasOwnProp.call(expr, 'preventEval') ? expr.preventEval : this.currPreventEval;\n    callback = hasOwnProp.call(expr, 'callback') ? expr.callback : callback;\n    this.currOtherTypeCallback = hasOwnProp.call(expr, 'otherTypeCallback') ? expr.otherTypeCallback : this.currOtherTypeCallback;\n    currParent = hasOwnProp.call(expr, 'parent') ? expr.parent : currParent;\n    currParentProperty = hasOwnProp.call(expr, 'parentProperty') ? expr.parentProperty : currParentProperty;\n    expr = expr.path;\n  }\n\n  currParent = currParent || null;\n  currParentProperty = currParentProperty || null;\n\n  if (Array.isArray(expr)) {\n    expr = JSONPath.toPathString(expr);\n  }\n\n  if (!expr && expr !== '' || !json) {\n    return undefined;\n  }\n\n  var exprList = JSONPath.toPathArray(expr);\n\n  if (exprList[0] === '$' && exprList.length > 1) {\n    exprList.shift();\n  }\n\n  this._hasParentSelector = null;\n\n  var result = this._trace(exprList, json, ['$'], currParent, currParentProperty, callback).filter(function (ea) {\n    return ea && !ea.isParentSelector;\n  });\n\n  if (!result.length) {\n    return wrap ? [] : undefined;\n  }\n\n  if (!wrap && result.length === 1 && !result[0].hasArrExpr) {\n    return this._getPreferredOutput(result[0]);\n  }\n\n  return result.reduce(function (rslt, ea) {\n    var valOrPath = _this2._getPreferredOutput(ea);\n\n    if (flatten && Array.isArray(valOrPath)) {\n      rslt = rslt.concat(valOrPath);\n    } else {\n      rslt.push(valOrPath);\n    }\n\n    return rslt;\n  }, []);\n}; // PRIVATE METHODS\n\n\nJSONPath.prototype._getPreferredOutput = function (ea) {\n  var resultType = this.currResultType;\n\n  switch (resultType) {\n    case 'all':\n      {\n        var path = Array.isArray(ea.path) ? ea.path : JSONPath.toPathArray(ea.path);\n        ea.pointer = JSONPath.toPointer(path);\n        ea.path = typeof ea.path === 'string' ? ea.path : JSONPath.toPathString(ea.path);\n        return ea;\n      }\n\n    case 'value':\n    case 'parent':\n    case 'parentProperty':\n      return ea[resultType];\n\n    case 'path':\n      return JSONPath.toPathString(ea[resultType]);\n\n    case 'pointer':\n      return JSONPath.toPointer(ea.path);\n\n    default:\n      throw new TypeError('Unknown result type');\n  }\n};\n\nJSONPath.prototype._handleCallback = function (fullRetObj, callback, type) {\n  if (callback) {\n    var preferredOutput = this._getPreferredOutput(fullRetObj);\n\n    fullRetObj.path = typeof fullRetObj.path === 'string' ? fullRetObj.path : JSONPath.toPathString(fullRetObj.path); // eslint-disable-next-line n/callback-return\n\n    callback(preferredOutput, type, fullRetObj);\n  }\n};\n/**\n *\n * @param {string} expr\n * @param {JSONObject} val\n * @param {string} path\n * @param {PlainObject|GenericArray} parent\n * @param {string} parentPropName\n * @param {JSONPathCallback} callback\n * @param {boolean} hasArrExpr\n * @param {boolean} literalPriority\n * @returns {ReturnObject|ReturnObject[]}\n */\n\n\nJSONPath.prototype._trace = function (expr, val, path, parent, parentPropName, callback, hasArrExpr, literalPriority) {\n  var _this3 = this;\n\n  // No expr to follow? return path and value as the result of\n  //  this trace branch\n  var retObj;\n\n  if (!expr.length) {\n    retObj = {\n      path: path,\n      value: val,\n      parent: parent,\n      parentProperty: parentPropName,\n      hasArrExpr: hasArrExpr\n    };\n\n    this._handleCallback(retObj, callback, 'value');\n\n    return retObj;\n  }\n\n  var loc = expr[0],\n      x = expr.slice(1); // We need to gather the return value of recursive trace calls in order to\n  // do the parent sel computation.\n\n  var ret = [];\n  /**\n   *\n   * @param {ReturnObject|ReturnObject[]} elems\n   * @returns {void}\n   */\n\n  function addRet(elems) {\n    if (Array.isArray(elems)) {\n      // This was causing excessive stack size in Node (with or\n      //  without Babel) against our performance test:\n      //  `ret.push(...elems);`\n      elems.forEach(function (t) {\n        ret.push(t);\n      });\n    } else {\n      ret.push(elems);\n    }\n  }\n\n  if ((typeof loc !== 'string' || literalPriority) && val && hasOwnProp.call(val, loc)) {\n    // simple case--directly follow property\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr)); // eslint-disable-next-line unicorn/prefer-switch -- Part of larger `if`\n  } else if (loc === '*') {\n    // all child properties\n    this._walk(val, function (m) {\n      addRet(_this3._trace(x, val[m], push(path, m), val, m, callback, true, true));\n    });\n  } else if (loc === '..') {\n    // all descendent parent properties\n    // Check remaining expression with val's immediate children\n    addRet(this._trace(x, val, path, parent, parentPropName, callback, hasArrExpr));\n\n    this._walk(val, function (m) {\n      // We don't join m and x here because we only want parents,\n      //   not scalar values\n      if (_typeof(val[m]) === 'object') {\n        // Keep going with recursive descent on val's\n        //   object children\n        addRet(_this3._trace(expr.slice(), val[m], push(path, m), val, m, callback, true));\n      }\n    }); // The parent sel computation is handled in the frame above using the\n    // ancestor object of val\n\n  } else if (loc === '^') {\n    // This is not a final endpoint, so we do not invoke the callback here\n    this._hasParentSelector = true;\n    return {\n      path: path.slice(0, -1),\n      expr: x,\n      isParentSelector: true\n    };\n  } else if (loc === '~') {\n    // property name\n    retObj = {\n      path: push(path, loc),\n      value: parentPropName,\n      parent: parent,\n      parentProperty: null\n    };\n\n    this._handleCallback(retObj, callback, 'property');\n\n    return retObj;\n  } else if (loc === '$') {\n    // root only\n    addRet(this._trace(x, val, path, null, null, callback, hasArrExpr));\n  } else if (/^(\\x2D?[0-9]*):(\\x2D?[0-9]*):?([0-9]*)$/.test(loc)) {\n    // [start:end:step]  Python slice syntax\n    addRet(this._slice(loc, x, val, path, parent, parentPropName, callback));\n  } else if (loc.indexOf('?(') === 0) {\n    // [?(expr)] (filtering)\n    if (this.currPreventEval) {\n      throw new Error('Eval [?(expr)] prevented in JSONPath expression.');\n    }\n\n    var safeLoc = loc.replace(/^\\?\\(((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?)\\)$/, '$1');\n\n    this._walk(val, function (m) {\n      if (_this3._eval(safeLoc, val[m], m, path, parent, parentPropName)) {\n        addRet(_this3._trace(x, val[m], push(path, m), val, m, callback, true));\n      }\n    });\n  } else if (loc[0] === '(') {\n    // [(expr)] (dynamic property/index)\n    if (this.currPreventEval) {\n      throw new Error('Eval [(expr)] prevented in JSONPath expression.');\n    } // As this will resolve to a property name (but we don't know it\n    //  yet), property and parent information is relative to the\n    //  parent of the property to which this expression will resolve\n\n\n    addRet(this._trace(unshift(this._eval(loc, val, path[path.length - 1], path.slice(0, -1), parent, parentPropName), x), val, path, parent, parentPropName, callback, hasArrExpr));\n  } else if (loc[0] === '@') {\n    // value type: @boolean(), etc.\n    var addType = false;\n    var valueType = loc.slice(1, -2);\n\n    switch (valueType) {\n      case 'scalar':\n        if (!val || !['object', 'function'].includes(_typeof(val))) {\n          addType = true;\n        }\n\n        break;\n\n      case 'boolean':\n      case 'string':\n      case 'undefined':\n      case 'function':\n        // eslint-disable-next-line valid-typeof\n        if (_typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'integer':\n        if (Number.isFinite(val) && !(val % 1)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'number':\n        if (Number.isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'nonFinite':\n        if (typeof val === 'number' && !Number.isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'object':\n        // eslint-disable-next-line valid-typeof\n        if (val && _typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'array':\n        if (Array.isArray(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'other':\n        addType = this.currOtherTypeCallback(val, path, parent, parentPropName);\n        break;\n\n      case 'null':\n        if (val === null) {\n          addType = true;\n        }\n\n        break;\n\n      /* c8 ignore next 2 */\n\n      default:\n        throw new TypeError('Unknown value type ' + valueType);\n    }\n\n    if (addType) {\n      retObj = {\n        path: path,\n        value: val,\n        parent: parent,\n        parentProperty: parentPropName\n      };\n\n      this._handleCallback(retObj, callback, 'value');\n\n      return retObj;\n    } // `-escaped property\n\n  } else if (loc[0] === '`' && val && hasOwnProp.call(val, loc.slice(1))) {\n    var locProp = loc.slice(1);\n    addRet(this._trace(x, val[locProp], push(path, locProp), val, locProp, callback, hasArrExpr, true));\n  } else if (loc.includes(',')) {\n    // [name1,name2,...]\n    var parts = loc.split(',');\n\n    var _iterator = _createForOfIteratorHelper(parts),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var part = _step.value;\n        addRet(this._trace(unshift(part, x), val, path, parent, parentPropName, callback, true));\n      } // simple case--directly follow property\n\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (!literalPriority && val && hasOwnProp.call(val, loc)) {\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr, true));\n  } // We check the resulting values for parent selections. For parent\n  // selections we discard the value object and continue the trace with the\n  // current val object\n\n\n  if (this._hasParentSelector) {\n    for (var t = 0; t < ret.length; t++) {\n      var rett = ret[t];\n\n      if (rett && rett.isParentSelector) {\n        var tmp = this._trace(rett.expr, val, rett.path, parent, parentPropName, callback, hasArrExpr);\n\n        if (Array.isArray(tmp)) {\n          ret[t] = tmp[0];\n          var tl = tmp.length;\n\n          for (var tt = 1; tt < tl; tt++) {\n            t++;\n            ret.splice(t, 0, tmp[tt]);\n          }\n        } else {\n          ret[t] = tmp;\n        }\n      }\n    }\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._walk = function (val, f) {\n  if (Array.isArray(val)) {\n    var n = val.length;\n\n    for (var i = 0; i < n; i++) {\n      f(i);\n    }\n  } else if (val && _typeof(val) === 'object') {\n    Object.keys(val).forEach(function (m) {\n      f(m);\n    });\n  }\n};\n\nJSONPath.prototype._slice = function (loc, expr, val, path, parent, parentPropName, callback) {\n  if (!Array.isArray(val)) {\n    return undefined;\n  }\n\n  var len = val.length,\n      parts = loc.split(':'),\n      step = parts[2] && Number.parseInt(parts[2]) || 1;\n  var start = parts[0] && Number.parseInt(parts[0]) || 0,\n      end = parts[1] && Number.parseInt(parts[1]) || len;\n  start = start < 0 ? Math.max(0, start + len) : Math.min(len, start);\n  end = end < 0 ? Math.max(0, end + len) : Math.min(len, end);\n  var ret = [];\n\n  for (var i = start; i < end; i += step) {\n    var tmp = this._trace(unshift(i, expr), val, path, parent, parentPropName, callback, true); // Should only be possible to be an array here since first part of\n    //   ``unshift(i, expr)` passed in above would not be empty, nor `~`,\n    //     nor begin with `@` (as could return objects)\n    // This was causing excessive stack size in Node (with or\n    //  without Babel) against our performance test: `ret.push(...tmp);`\n\n\n    tmp.forEach(function (t) {\n      ret.push(t);\n    });\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._eval = function (code, _v, _vname, path, parent, parentPropName) {\n  this.currSandbox._$_parentProperty = parentPropName;\n  this.currSandbox._$_parent = parent;\n  this.currSandbox._$_property = _vname;\n  this.currSandbox._$_root = this.json;\n  this.currSandbox._$_v = _v;\n  var containsPath = code.includes('@path');\n\n  if (containsPath) {\n    this.currSandbox._$_path = JSONPath.toPathString(path.concat([_vname]));\n  }\n\n  var scriptCacheKey = 'script:' + code;\n\n  if (!JSONPath.cache[scriptCacheKey]) {\n    var script = code.replace(/@parentProperty/g, '_$_parentProperty').replace(/@parent/g, '_$_parent').replace(/@property/g, '_$_property').replace(/@root/g, '_$_root').replace(/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/g, '_$_v$1');\n\n    if (containsPath) {\n      script = script.replace(/@path/g, '_$_path');\n    }\n\n    JSONPath.cache[scriptCacheKey] = new this.vm.Script(script);\n  }\n\n  try {\n    return JSONPath.cache[scriptCacheKey].runInNewContext(this.currSandbox);\n  } catch (e) {\n    throw new Error('jsonPath: ' + e.message + ': ' + code);\n  }\n}; // PUBLIC CLASS PROPERTIES AND METHODS\n// Could store the cache object itself\n\n\nJSONPath.cache = {};\n/**\n * @param {string[]} pathArr Array to convert\n * @returns {string} The path string\n */\n\nJSONPath.toPathString = function (pathArr) {\n  var x = pathArr,\n      n = x.length;\n  var p = '$';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += /^[\\*0-9]+$/.test(x[i]) ? '[' + x[i] + ']' : \"['\" + x[i] + \"']\";\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} pointer JSON Path\n * @returns {string} JSON Pointer\n */\n\n\nJSONPath.toPointer = function (pointer) {\n  var x = pointer,\n      n = x.length;\n  var p = '';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += '/' + x[i].toString().replace(/~/g, '~0').replace(/\\//g, '~1');\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} expr Expression to convert\n * @returns {string[]}\n */\n\n\nJSONPath.toPathArray = function (expr) {\n  var cache = JSONPath.cache;\n\n  if (cache[expr]) {\n    return cache[expr].concat();\n  }\n\n  var subx = [];\n  var normalized = expr // Properties\n  .replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\\(\\)/g, ';$&;') // Parenthetical evaluations (filtering and otherwise), directly\n  //   within brackets or single quotes\n  .replace(/['\\[](\\??\\((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\))['\\]]/g, function ($0, $1) {\n    return '[#' + (subx.push($1) - 1) + ']';\n  }) // Escape periods and tildes within properties\n  .replace(/\\[[\"']((?:(?!['\\]])[\\s\\S])*)[\"']\\]/g, function ($0, prop) {\n    return \"['\" + prop.replace(/\\./g, '%@%').replace(/~/g, '%%@@%%') + \"']\";\n  }) // Properties operator\n  .replace(/~/g, ';~;') // Split by property boundaries\n  .replace(/[\"']?\\.[\"']?(?!(?:(?!\\[)[\\s\\S])*\\])|\\[[\"']?/g, ';') // Reinsert periods within properties\n  .replace(/%@%/g, '.') // Reinsert tildes within properties\n  .replace(/%%@@%%/g, '~') // Parent\n  .replace(/(?:;)?(\\^+)(?:;)?/g, function ($0, ups) {\n    return ';' + ups.split('').join(';') + ';';\n  }) // Descendents\n  .replace(/;;;|;;/g, ';..;') // Remove trailing\n  .replace(/;$|'?\\]|'$/g, '');\n  var exprList = normalized.split(';').map(function (exp) {\n    var match = exp.match(/#([0-9]+)/);\n    return !match || !match[1] ? exp : subx[match[1]];\n  });\n  cache[expr] = exprList;\n  return cache[expr].concat();\n};\n\n/**\n * @typedef {any} ContextItem\n */\n\n/**\n * @typedef {any} EvaluatedResult\n */\n\n/**\n * @callback ConditionCallback\n * @param {ContextItem} item\n * @returns {boolean}\n */\n\n/**\n * Copy items out of one array into another.\n * @param {GenericArray} source Array with items to copy\n * @param {GenericArray} target Array to which to copy\n * @param {ConditionCallback} conditionCb Callback passed the current item;\n *     will move item if evaluates to `true`\n * @returns {void}\n */\n\nvar moveToAnotherArray = function moveToAnotherArray(source, target, conditionCb) {\n  var il = source.length;\n\n  for (var i = 0; i < il; i++) {\n    var item = source[i];\n\n    if (conditionCb(item)) {\n      target.push(source.splice(i--, 1)[0]);\n    }\n  }\n};\n/**\n * In-browser replacement for NodeJS' VM.Script.\n */\n\n\nvar Script = /*#__PURE__*/function () {\n  /**\n   * @param {string} expr Expression to evaluate\n   */\n  function Script(expr) {\n    _classCallCheck(this, Script);\n\n    this.code = expr;\n  }\n  /**\n   * @param {PlainObject} context Object whose items will be added\n   *   to evaluation\n   * @returns {EvaluatedResult} Result of evaluated code\n   */\n\n\n  _createClass(Script, [{\n    key: \"runInNewContext\",\n    value: function runInNewContext(context) {\n      var expr = this.code;\n      var keys = Object.keys(context);\n      var funcs = [];\n      moveToAnotherArray(keys, funcs, function (key) {\n        return typeof context[key] === 'function';\n      });\n      var values = keys.map(function (vr, i) {\n        return context[vr];\n      });\n      var funcString = funcs.reduce(function (s, func) {\n        var fString = context[func].toString();\n\n        if (!/function/.test(fString)) {\n          fString = 'function ' + fString;\n        }\n\n        return 'var ' + func + '=' + fString + ';' + s;\n      }, '');\n      expr = funcString + expr; // Mitigate http://perfectionkills.com/global-eval-what-are-the-options/#new_function\n\n      if (!/([\"'])use strict\\1/.test(expr) && !keys.includes('arguments')) {\n        expr = 'var arguments = undefined;' + expr;\n      } // Remove last semi so `return` will be inserted before\n      //  the previous one instead, allowing for the return\n      //  of a bare ending expression\n\n\n      expr = expr.replace(/;[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*$/, ''); // Insert `return`\n\n      var lastStatementEnd = expr.lastIndexOf(';');\n      var code = lastStatementEnd > -1 ? expr.slice(0, lastStatementEnd + 1) + ' return ' + expr.slice(lastStatementEnd + 1) : ' return ' + expr; // eslint-disable-next-line no-new-func\n\n      return _construct(Function, keys.concat([code])).apply(void 0, _toConsumableArray(values));\n    }\n  }]);\n\n  return Script;\n}();\n\nJSONPath.prototype.vm = {\n  Script: Script\n};\n\nexport { JSONPath };\n"],"names":["Subject","dateTimestampProvider","ReplaySubject","constructor","_bufferSize","Infinity","_windowTime","_timestampProvider","_infiniteTimeWindow","Math","max","next","value","isStopped","_buffer","push","now","_trimBuffer","_subscribe","subscriber","_throwIfClosed","subscription","_innerSubscribe","copy","slice","i","length","closed","_checkFinalizedStatuses","adjustedBufferSize","splice","last","Scheduler","schedulerActionCtor","schedule","work","delay","state","Observable","Subscription","EMPTY_SUBSCRIPTION","ObjectUnsubscribedError","arrRemove","errorContext","lift","operator","subject","AnonymousSubject","currentObservers","Array","from","observers","observer","error","err","hasError","thrownError","shift","complete","unsubscribe","observed","_trySubscribe","asObservable","observable","source","destination","subscribe","EmptyError","SafeSubscriber","firstValueFrom","config","hasConfig","Promise","resolve","reject","defaultValue","EMPTY","empty","scheduler","emptyScheduled","isFunction","throwError","errorOrErrorFactory","errorFactory","init","async","asyncScheduler","isScheduler","isValidDate","timer","dueTime","intervalOrScheduler","intervalDuration","due","n","undefined","operate","createOperatorSubscriber","filter","predicate","thisArg","index","call","take","count","seen","Action","intervalProvider","AsyncAction","id","recycleAsyncId","pending","requestAsyncId","_id","setInterval","flush","bind","_scheduler","clearInterval","execute","Error","_execute","_delay","errored","errorValue","e","actions","AsyncScheduler","SchedulerAction","action","_active","delegate","Date","handler","timeout","args","handle","createErrorClass","_super","EmptyErrorImpl","name","message","ObjectUnsubscribedErrorImpl","isNaN","AbstractSchemaItem","relativeId","parent","isArray","array","setArray","val","isEnum","isObject","isReference","isValue","isRoot","isHidden","hidden","setHidden","isReadonly","readOnly","setReadonly","generateItem","json","itemId","console","ret","type","DontCodeSchemaObject","DontCodeSchemaValue","DontCodeSchemaEnum","DontCodeSchemaRef","item","goto","entity","to","split","forEach","getChild","upsertWith","change","getParent","getChildren","Map","entries","updateWith","update","allProperties","values","getProperties","code","hasProperties","getRelativeId","setRelativeId","getTargetPath","targetPath","setTargetPath","newPath","isPossibleDynamicProperty","children","child","childProps","childProp","getAllPossibleDynamicProperties","childChildProp","has","warn","set","getChildrenAndPossibleProperties","concatIterable","iterators","Symbol","iterator","f","done","readJson","props","key","existsOrNot","location","exists","after","newMap","get","DontCodeSchemaRoot","$defs","properties","updateValues","getValues","find","dest","getValue","DontCodeSchemaEnumValue","DontCodeSchemaProperty","isEmpty","subKey","hasOwnProperty","enumValue","setChildren","enum","label","_value","_label","getLabel","setLabel","setValue","_children","getType","ref","getReference","resolveReference","resolved","resolvedRef","replace","posAfter","size","isReplace","getPosAfter","DontCodeModel","ROOT","APP_TYPE_NODE","APP_NAME_NODE","APP_ENTITIES_NODE","APP_ENTITIES","APP_ENTITIES_FROM_NODE","APP_ENTITIES_NAME_NODE","APP_FIELDS_NODE","APP_FIELDS","APP_FIELDS_NAME_NODE","APP_FIELDS_TYPE_NODE","APP_SHARING_NODE","APP_SHARING","APP_SHARING_WITH_NODE","APP_REPORTS_NODE","APP_REPORTS","APP_REPORTS_TITLE_NODE","APP_REPORTS_FOR_NODE","APP_REPORTS_GROUP_NODE","APP_REPORTS_SORT_NODE","APP_REPORTS_DISPLAY_NODE","APP_REPORTS_GROUP","APP_REPORTS_GROUP_LABEL_NODE","APP_REPORTS_GROUP_OF_NODE","APP_REPORTS_GROUP_SHOW_NODE","APP_REPORTS_GROUP_AGGREGATE_NODE","APP_REPORTS_GROUP_AGGREGATE","APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE","APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE","APP_REPORTS_GROUP_AGGREGATE_OF_NODE","APP_REPORTS_SORT","APP_REPORTS_SORT_BY_NODE","APP_REPORTS_SORT_DIRECTION_NODE","APP_REPORTS_DISPLAY","APP_REPORTS_DISPLAY_TITLE_NODE","APP_REPORTS_DISPLAY_TYPE_NODE","APP_REPORTS_DISPLAY_OF_NODE","APP_REPORTS_DISPLAY_BY_NODE","APP_SOURCES_NODE","APP_SOURCES_NAME_NODE","APP_SOURCES_TYPE_NODE","APP_SOURCES_URL_NODE","APP_SCREENS_NODE","APP_SCREENS","APP_SCREENS_NAME_NODE","APP_SCREENS_LAYOUT_NODE","APP_COMPONENTS_NODE","APP_COMPONENTS","APP_COMPONENTS_TYPE_NODE","APP_COMPONENTS_ENTITY_NODE","DontCodeSchema","DontCodeModelPointer","schemaPosition","containerPosition","containerSchemaPosition","lastElement","isProperty","position","positionInSchema","containerPositionInSchema","fillMissingElements","optionalSchemaMgr","parentPosition","lastElementOf","locateItem","substring","lastIndexOf","nextItemAndPosition","posSlash","indexOf","pos","calculateKeyOrContainer","calculateItemIdOrContainer","isSubItemOf","pointer","isUnderSubItemOf","startsWith","keyPos","subItemOrPropertyPointer","subElement","isItem","subPropertyPointer","subItemPointer","subProp","newPointer","subItem","safeParentPointer","parentPointer","isParentOf","directOnly","lastSlash","splitPosition","element","DontCodeSchemaManager","reset","getSchema","currentSchema","convertSchemaToMap","readSchema","registerChanges","plugin","version","updates","changes","cur","generateParentPointer","generateSchemaPointer","queriedPosition","posElems","parentItem","ignoreNext","nextItem","generateSubSchemaPointer","propOrItemName","defaultv1","DontCodePluginManager","registerPlugin","schemaManager","previewManager","getConfiguration","fullId","plugins","registerHandlers","PluginInfo","initPlugins","core","initCalled","defs","getChangeManager","applyPluginConfigUpdates","pluginInit","clear","DontCodePreviewManager","handlersPerLocations","globalHandlersPerLocations","actionHandlersPerLocation","globalHandlers","context","getGlobalHandlers","receiveGlobalHandlers","retrieveHandlerConfig","modelContent","found","contentNeeded","configuration","jsonValue","extractValuesAsArray","targetValue","endsWith","parentValue","retrieveActionHandlers","extractValuesToArray","res","DontCodeReportGroupShowType","DontCodeGroupOperationType","DontCodeSortDirectionType","ActionContextType","ActionType","DontCodeStoreManager","provider","modelMgr","_default","providerByPosition","providerByType","getProvider","srcDefinition","findTargetOfProperty","getProviderSafe","getDefaultProvider","getDefaultProviderSafe","setProvider","setProviderForSourceType","srcType","setDefaultProvider","removeProvider","delete","removeProviderForSourceType","removeDefaultProvider","storeEntity","loadEntity","safeLoadEntity","deleteEntity","searchEntities","criteria","searchAndPrepareEntities","sort","groupBy","dataTransformer","canStoreDocument","storeDocuments","toStore","DontCodeStoreCriteriaOperator","DontCodeStoreCriteria","EQUALS","DontCodeStoreSort","by","direction","subSort","None","DontCodeStoreGroupby","of","display","show","atLeastOneGroupIsRequested","Object","keys","getRequiredListOfFields","Set","aggregate","add","DontCodeStoreAggregate","operation","Change","beforeKey","oldPosition","getSafeParentPosition","getParentPosition","ChangeType","actionType","running","changeType","ACTION","DontCodeModelManager","schemaMgr","content","getContent","resetContent","newContent","$hidden","$readOnly","applyChange","toApply","subElem","atomicChanges","AtomicChange","lastChange","findAtPosition","DELETE","basePosition","subChanges","applyChangeRecursive","generateChanges","srcChange","oldContent","oldSubContent","curAtomicChange","createSubChange","compareRecursiveIfNeeded","ADD","UPDATE","RESET","isTheSameForParent","insertProperty","MOVE","splittedPosition","parentContent","oldValue","newValue","oldKeys","newKeys","every","src","alreadyChecked","oldSubProperty","subPointer","subPosition","srcAction","newSubProperty","result","generateNextKeyForPosition","create","generateNextKey","tentative","modulo","POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH","quotient","trunc","rest","POSSIBLE_CHARS_FOR_ARRAY_KEYS","concat","added","path","current","currentPath","queryModelToArray","query","root","JSONPath","resultType","wrap","flatten","queryModelToSingle","parentProperty","findAllPossibleTargetsOfProperty","property","schemaItem","ptr","lastDotPos","filteredQuery","propName","beforeProp","convertToChange","definition","guessNamePropertyOfElement","modelAsJson","fields","curScore","score","field","scoreFieldAsName","guessNamePropertyOfObject","obj","prop","guessNamePropertyFromList","list","toLowerCase","NAME_PROPERTY_NAMES","foundScore","includes","extractValue","metaData","parsed","extractMetaData","direct","subValue","subValues","applyValue","valueObj","curObj","curValueObj","valueProp","structuredClone","debug","amount","cost","firstKey","modifyValues","firstElement","secondElement","firstValue","secondValue","calculatedValue","DataTransformationInfo","elementName","newChange","ModelQuerySingleResult","DontCodeChangeManager","modelManager","receivedChanges","listeners","listenerCachePerPosition","isInterestedIn","onlyLevel","nextPosition","createNewListener","clearEmptyListeners","cleanedPosition","cleanPosition","existing","chg","propKey","addToListenerCache","who","interesteds","getJsonAt","pushChange","manageChangeInternally","subChange","otherRet","calculatePointerFor","findAndNotify","alreadyCalled","affected","canCall","positions","receiveCommands","getSchemaManager","close","toRemove","listener","remove","DontCodeCore","pluginManager","changeManager","storeManager","getSchemaUri","getPreviewManager","getStoreManager","getModelManager","self","dontCodeCore","dtcde","Message","sessionId","MessageType","MoneyAmount","AbstractActionHandler","performAction","performSynchronousAction","valueOf","StoreProviderHelper","clearConfigCache","specialFieldsCache","applyFilters","criterium","toTest","LESS_THAN","LESS_THAN_EQUAL","findSpecialFields","specialFields","SpecialFields","addDateField","scoreIdFieldFromEntityField","idField","findSpecialFieldsFromData","data","existingFields","first","scoreIdFieldFromProperty","test","floor","cleanUpDataBeforeSaving","listToConvert","cleanUpLoadedData","dateFields","toConvert","timeEpoch","parse","tzDescIndex","multiSortArray","toSort","sortOptions","calculateGroupedByValues","fieldToGroupBy","counters","lastGroupDelimiter","oneGroupOfCounters","fieldsRequired","storedGroupOfCounters","counter","Counters","valSrc","sum","second","minimum","minAsValue","minValue","maximum","maxAsValue","maxValue","getTime","DontCodeStoreGroupedByEntities","groupKey","group","Count","Sum","Average","Minimum","Maximum","listOfValues","DontCodeStoreGroupedByValues","DontCodeStorePreparedEntities","sortedData","sortInfo","groupedByEntities","groupInfo","forAggregate","AbstractDontCodeStoreProvider","then","listEntities","pipe","map","transformer","postLoadingTransformation","groupedByValues","calculateSortHierarchy","rootSort","DontCodeTestManager","createDeleteChange","containerSchema","containerItemId","schema","createAnyChange","createMoveChange","beforeIdOrProperty","createTestChange","addDummyProviderFromContent","toReturn","DummyStoreProvider","waitUntilTrue","tester","interval","maxTry","waitUntilTrueAndEmit","ok","calcContainerItemId","calcItemId","calcSchema","calcProperty","calcPropertySchemaItem","calcPropertySchema","TestProviderInterface","toRet","lastItem","sendCommand","DontCodeProject","_typeof","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_construct","Parent","Class","a","apply","Function","arguments","_isNativeFunction","fn","toString","_wrapNativeSuper","_cache","Wrapper","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","NewTarget","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","minLen","len","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","s","normalCompletion","didErr","step","return","hasOwnProp","unshift","NewError","_Error","_this","avoidNew","opts","expr","callback","otherTypeCallback","optObj","sandbox","preventEval","autostart","evaluate","_this2","currParent","currParentProperty","currResultType","currPreventEval","currSandbox","currOtherTypeCallback","_expr","toPathString","exprList","toPathArray","_hasParentSelector","_trace","ea","isParentSelector","hasArrExpr","_getPreferredOutput","reduce","rslt","valOrPath","toPointer","_handleCallback","fullRetObj","preferredOutput","parentPropName","literalPriority","_this3","retObj","loc","x","addRet","elems","t","_walk","m","_slice","safeLoc","_eval","addType","valueType","Number","isFinite","locProp","parts","_iterator","_step","part","rett","tmp","tl","tt","parseInt","start","end","min","_v","_vname","_$_parentProperty","_$_parent","_$_property","_$_root","_$_v","containsPath","_$_path","scriptCacheKey","cache","script","vm","Script","runInNewContext","pathArr","subx","normalized","$0","$1","ups","join","exp","match","moveToAnotherArray","conditionCb","il","funcs","vr","funcString","func","fString","lastStatementEnd"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,185]}